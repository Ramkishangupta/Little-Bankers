var $I=Object.defineProperty;var qI=(t,e,n)=>e in t?$I(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var KI=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var oe=(t,e,n)=>qI(t,typeof e!="symbol"?e+"":e,n);var XF=KI((i4,ol)=>{function GI(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function QI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X0={exports:{}},ju={},J0={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Za=Symbol.for("react.element"),YI=Symbol.for("react.portal"),XI=Symbol.for("react.fragment"),JI=Symbol.for("react.strict_mode"),ZI=Symbol.for("react.profiler"),ex=Symbol.for("react.provider"),tx=Symbol.for("react.context"),nx=Symbol.for("react.forward_ref"),ix=Symbol.for("react.suspense"),rx=Symbol.for("react.memo"),sx=Symbol.for("react.lazy"),cy=Symbol.iterator;function ox(t){return t===null||typeof t!="object"?null:(t=cy&&t[cy]||t["@@iterator"],typeof t=="function"?t:null)}var Z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ew=Object.assign,tw={};function Qs(t,e,n){this.props=t,this.context=e,this.refs=tw,this.updater=n||Z0}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nw(){}nw.prototype=Qs.prototype;function pp(t,e,n){this.props=t,this.context=e,this.refs=tw,this.updater=n||Z0}var gp=pp.prototype=new nw;gp.constructor=pp;ew(gp,Qs.prototype);gp.isPureReactComponent=!0;var uy=Array.isArray,iw=Object.prototype.hasOwnProperty,mp={current:null},rw={key:!0,ref:!0,__self:!0,__source:!0};function sw(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iw.call(e,i)&&!rw.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Za,type:t,key:s,ref:o,props:r,_owner:mp.current}}function ax(t,e){return{$$typeof:Za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Za}function lx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hy=/\/+/g;function Wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lx(""+t.key):e.toString(36)}function vc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Za:case YI:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Wh(o,0):i,uy(r)?(n="",t!=null&&(n=t.replace(hy,"$&/")+"/"),vc(r,e,n,"",function(u){return u})):r!=null&&(yp(r)&&(r=ax(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(hy,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",uy(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Wh(s,a);o+=vc(s,e,n,l,r)}else if(l=ox(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Wh(s,a++),o+=vc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vl(t,e,n){if(t==null)return t;var i=[],r=0;return vc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function cx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},wc={transition:null},ux={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:wc,ReactCurrentOwner:mp};function ow(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Vl,forEach:function(t,e,n){Vl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vl(t,function(){e++}),e},toArray:function(t){return Vl(t,function(e){return e})||[]},only:function(t){if(!yp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Qs;ce.Fragment=XI;ce.Profiler=ZI;ce.PureComponent=pp;ce.StrictMode=JI;ce.Suspense=ix;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux;ce.act=ow;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ew({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)iw.call(e,l)&&!rw.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Za,type:t.type,key:r,ref:s,props:i,_owner:o}};ce.createContext=function(t){return t={$$typeof:tx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ex,_context:t},t.Consumer=t};ce.createElement=sw;ce.createFactory=function(t){var e=sw.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:nx,render:t}};ce.isValidElement=yp;ce.lazy=function(t){return{$$typeof:sx,_payload:{_status:-1,_result:t},_init:cx}};ce.memo=function(t,e){return{$$typeof:rx,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};ce.unstable_act=ow;ce.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ce.useContext=function(t){return Mt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ce.useId=function(){return Mt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};ce.useRef=function(t){return Mt.current.useRef(t)};ce.useState=function(t){return Mt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Mt.current.useTransition()};ce.version="18.3.1";J0.exports=ce;var j=J0.exports;const _p=QI(j),hx=GI({__proto__:null,default:_p},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx=j,fx=Symbol.for("react.element"),px=Symbol.for("react.fragment"),gx=Object.prototype.hasOwnProperty,mx=dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yx={key:!0,ref:!0,__self:!0,__source:!0};function aw(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)gx.call(e,i)&&!yx.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:fx,type:t,key:s,ref:o,props:r,_owner:mx.current}}ju.Fragment=px;ju.jsx=aw;ju.jsxs=aw;X0.exports=ju;var P=X0.exports,lw={exports:{}},Zt={},cw={exports:{}},uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Z){var O=$.length;$.push(Z);e:for(;0<O;){var R=O-1>>>1,W=$[R];if(0<r(W,Z))$[R]=Z,$[O]=W,O=R;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Z=$[0],O=$.pop();if(O!==Z){$[0]=O;e:for(var R=0,W=$.length,q=W>>>1;R<q;){var Q=2*(R+1)-1,X=$[Q],J=Q+1,Y=$[J];if(0>r(X,O))J<W&&0>r(Y,X)?($[R]=Y,$[J]=O,R=J):($[R]=X,$[Q]=O,R=Q);else if(J<W&&0>r(Y,O))$[R]=Y,$[J]=O,R=J;else break e}}return Z}function r($,Z){var O=$.sortIndex-Z.sortIndex;return O!==0?O:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,p=3,m=!1,w=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var Z=n(u);Z!==null;){if(Z.callback===null)i(u);else if(Z.startTime<=$)i(u),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(u)}}function M($){if(S=!1,I($),!w)if(n(l)!==null)w=!0,ke(N);else{var Z=n(u);Z!==null&&Ne(M,Z.startTime-$)}}function N($,Z){w=!1,S&&(S=!1,_(v),v=-1),m=!0;var O=p;try{for(I(Z),d=n(l);d!==null&&(!(d.expirationTime>Z)||$&&!C());){var R=d.callback;if(typeof R=="function"){d.callback=null,p=d.priorityLevel;var W=R(d.expirationTime<=Z);Z=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&i(l),I(Z)}else i(l);d=n(l)}if(d!==null)var q=!0;else{var Q=n(u);Q!==null&&Ne(M,Q.startTime-Z),q=!1}return q}finally{d=null,p=O,m=!1}}var V=!1,x=null,v=-1,A=5,k=-1;function C(){return!(t.unstable_now()-k<A)}function D(){if(x!==null){var $=t.unstable_now();k=$;var Z=!0;try{Z=x(!0,$)}finally{Z?b():(V=!1,x=null)}}else V=!1}var b;if(typeof y=="function")b=function(){y(D)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,pe=Ae.port2;Ae.port1.onmessage=D,b=function(){pe.postMessage(null)}}else b=function(){E(D,0)};function ke($){x=$,V||(V=!0,b())}function Ne($,Z){v=E(function(){$(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,ke(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var O=p;p=Z;try{return $()}finally{p=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var O=p;p=$;try{return Z()}finally{p=O}},t.unstable_scheduleCallback=function($,Z,O){var R=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?R+O:R):O=R,$){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=O+W,$={id:h++,callback:Z,priorityLevel:$,startTime:O,expirationTime:W,sortIndex:-1},O>R?($.sortIndex=O,e(u,$),n(l)===null&&$===n(u)&&(S?(_(v),v=-1):S=!0,Ne(M,O-R))):($.sortIndex=W,e(l,$),w||m||(w=!0,ke(N))),$},t.unstable_shouldYield=C,t.unstable_wrapCallback=function($){var Z=p;return function(){var O=p;p=Z;try{return $.apply(this,arguments)}finally{p=O}}}})(uw);cw.exports=uw;var _x=cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx=j,Jt=_x;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hw=new Set,_a={};function $r(t,e){Rs(t,e),Rs(t+"Capture",e)}function Rs(t,e){for(_a[t]=e,t=0;t<e.length;t++)hw.add(e[t])}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vd=Object.prototype.hasOwnProperty,wx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dy={},fy={};function Ex(t){return Vd.call(fy,t)?!0:Vd.call(dy,t)?!1:wx.test(t)?fy[t]=!0:(dy[t]=!0,!1)}function Tx(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Sx(t,e,n,i){if(e===null||typeof e>"u"||Tx(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function wp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vp,wp);gt[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vp,wp);gt[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vp,wp);gt[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ep(t,e,n,i){var r=gt.hasOwnProperty(e)?gt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Sx(e,n,r,i)&&(n=null),i||r===null?Ex(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var mi=vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),ls=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),Tp=Symbol.for("react.strict_mode"),Fd=Symbol.for("react.profiler"),dw=Symbol.for("react.provider"),fw=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),jd=Symbol.for("react.suspense"),Ud=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),pw=Symbol.for("react.offscreen"),py=Symbol.iterator;function So(t){return t===null||typeof t!="object"?null:(t=py&&t[py]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Hh;function Fo(t){if(Hh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hh=e&&e[1]||""}return`
`+Hh+t}var $h=!1;function qh(t,e){if(!t||$h)return"";$h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fo(t):""}function Ix(t){switch(t.tag){case 5:return Fo(t.type);case 16:return Fo("Lazy");case 13:return Fo("Suspense");case 19:return Fo("SuspenseList");case 0:case 2:case 15:return t=qh(t.type,!1),t;case 11:return t=qh(t.type.render,!1),t;case 1:return t=qh(t.type,!0),t;default:return""}}function Bd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case ls:return"Portal";case Fd:return"Profiler";case Tp:return"StrictMode";case jd:return"Suspense";case Ud:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fw:return(t.displayName||"Context")+".Consumer";case dw:return(t._context.displayName||"Context")+".Provider";case Sp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ip:return e=t.displayName||null,e!==null?e:Bd(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return Bd(t(e))}catch{}}return null}function xx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bd(e);case 8:return e===Tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ax(t){var e=gw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jl(t){t._valueTracker||(t._valueTracker=Ax(t))}function mw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=gw(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zd(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gy(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Gi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yw(t,e){e=e.checked,e!=null&&Ep(t,"checked",e,!1)}function Wd(t,e){yw(t,e);var n=Gi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hd(t,e.type,Gi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function my(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hd(t,e,n){(e!=="number"||Wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jo=Array.isArray;function ws(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Gi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function $d(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(jo(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gi(n)}}function _w(t,e){var n=Gi(e.value),i=Gi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function _y(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ul,ww=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kx=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(t){kx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jo[e]=Jo[t]})});function Ew(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jo.hasOwnProperty(t)&&Jo[t]?(""+e).trim():e+"px"}function Tw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Ew(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var bx=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kd(t,e){if(e){if(bx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Gd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=null;function xp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yd=null,Es=null,Ts=null;function vy(t){if(t=nl(t)){if(typeof Yd!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Hu(e),Yd(t.stateNode,t.type,e))}}function Sw(t){Es?Ts?Ts.push(t):Ts=[t]:Es=t}function Iw(){if(Es){var t=Es,e=Ts;if(Ts=Es=null,vy(t),e)for(t=0;t<e.length;t++)vy(e[t])}}function xw(t,e){return t(e)}function Aw(){}var Kh=!1;function kw(t,e,n){if(Kh)return t(e,n);Kh=!0;try{return xw(t,e,n)}finally{Kh=!1,(Es!==null||Ts!==null)&&(Aw(),Iw())}}function wa(t,e){var n=t.stateNode;if(n===null)return null;var i=Hu(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Xd=!1;if(ai)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Xd=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Xd=!1}function Cx(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Zo=!1,Hc=null,$c=!1,Jd=null,Px={onError:function(t){Zo=!0,Hc=t}};function Rx(t,e,n,i,r,s,o,a,l){Zo=!1,Hc=null,Cx.apply(Px,arguments)}function Mx(t,e,n,i,r,s,o,a,l){if(Rx.apply(this,arguments),Zo){if(Zo){var u=Hc;Zo=!1,Hc=null}else throw Error(z(198));$c||($c=!0,Jd=u)}}function qr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wy(t){if(qr(t)!==t)throw Error(z(188))}function Dx(t){var e=t.alternate;if(!e){if(e=qr(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return wy(r),t;if(s===i)return wy(r),e;s=s.sibling}throw Error(z(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Cw(t){return t=Dx(t),t!==null?Pw(t):null}function Pw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pw(t);if(e!==null)return e;t=t.sibling}return null}var Rw=Jt.unstable_scheduleCallback,Ey=Jt.unstable_cancelCallback,Nx=Jt.unstable_shouldYield,Ox=Jt.unstable_requestPaint,qe=Jt.unstable_now,Lx=Jt.unstable_getCurrentPriorityLevel,Ap=Jt.unstable_ImmediatePriority,Mw=Jt.unstable_UserBlockingPriority,qc=Jt.unstable_NormalPriority,Vx=Jt.unstable_LowPriority,Dw=Jt.unstable_IdlePriority,Uu=null,Dn=null;function Fx(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(Uu,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:Bx,jx=Math.log,Ux=Math.LN2;function Bx(t){return t>>>=0,t===0?32:31-(jx(t)/Ux|0)|0}var Bl=64,zl=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Uo(a):(s&=o,s!==0&&(i=Uo(s)))}else o=n&~r,o!==0?i=Uo(o):s!==0&&(i=Uo(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Tn(e),r=1<<n,i|=t[n],e&=~r;return i}function zx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wx(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=zx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Zd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nw(){var t=Bl;return Bl<<=1,!(Bl&4194240)&&(Bl=64),t}function Gh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function el(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function Hx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Tn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Tn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ee=0;function Ow(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lw,bp,Vw,Fw,jw,ef=!1,Wl=[],Oi=null,Li=null,Vi=null,Ea=new Map,Ta=new Map,ki=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(e.pointerId)}}function xo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=nl(e),e!==null&&bp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function qx(t,e,n,i,r){switch(e){case"focusin":return Oi=xo(Oi,t,e,n,i,r),!0;case"dragenter":return Li=xo(Li,t,e,n,i,r),!0;case"mouseover":return Vi=xo(Vi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ea.set(s,xo(Ea.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ta.set(s,xo(Ta.get(s)||null,t,e,n,i,r)),!0}return!1}function Uw(t){var e=wr(t.target);if(e!==null){var n=qr(e);if(n!==null){if(e=n.tag,e===13){if(e=bw(n),e!==null){t.blockedOn=e,jw(t.priority,function(){Vw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Qd=i,n.target.dispatchEvent(i),Qd=null}else return e=nl(n),e!==null&&bp(e),t.blockedOn=n,!1;e.shift()}return!0}function Sy(t,e,n){Ec(t)&&n.delete(e)}function Kx(){ef=!1,Oi!==null&&Ec(Oi)&&(Oi=null),Li!==null&&Ec(Li)&&(Li=null),Vi!==null&&Ec(Vi)&&(Vi=null),Ea.forEach(Sy),Ta.forEach(Sy)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,ef||(ef=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,Kx)))}function Sa(t){function e(r){return Ao(r,t)}if(0<Wl.length){Ao(Wl[0],t);for(var n=1;n<Wl.length;n++){var i=Wl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Oi!==null&&Ao(Oi,t),Li!==null&&Ao(Li,t),Vi!==null&&Ao(Vi,t),Ea.forEach(e),Ta.forEach(e),n=0;n<ki.length;n++)i=ki[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)Uw(n),n.blockedOn===null&&ki.shift()}var Ss=mi.ReactCurrentBatchConfig,Gc=!0;function Gx(t,e,n,i){var r=Ee,s=Ss.transition;Ss.transition=null;try{Ee=1,Cp(t,e,n,i)}finally{Ee=r,Ss.transition=s}}function Qx(t,e,n,i){var r=Ee,s=Ss.transition;Ss.transition=null;try{Ee=4,Cp(t,e,n,i)}finally{Ee=r,Ss.transition=s}}function Cp(t,e,n,i){if(Gc){var r=tf(t,e,n,i);if(r===null)rd(t,e,i,Qc,n),Ty(t,i);else if(qx(r,t,e,n,i))i.stopPropagation();else if(Ty(t,i),e&4&&-1<$x.indexOf(t)){for(;r!==null;){var s=nl(r);if(s!==null&&Lw(s),s=tf(t,e,n,i),s===null&&rd(t,e,i,Qc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else rd(t,e,i,null,n)}}var Qc=null;function tf(t,e,n,i){if(Qc=null,t=xp(i),t=wr(t),t!==null)if(e=qr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qc=t,null}function Bw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lx()){case Ap:return 1;case Mw:return 4;case qc:case Vx:return 16;case Dw:return 536870912;default:return 16}default:return 16}}var Pi=null,Pp=null,Tc=null;function zw(){if(Tc)return Tc;var t,e=Pp,n=e.length,i,r="value"in Pi?Pi.value:Pi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Tc=r.slice(t,1<i?1-i:void 0)}function Sc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function Iy(){return!1}function en(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:Iy,this.isPropagationStopped=Iy,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=en(Ys),tl=Fe({},Ys,{view:0,detail:0}),Yx=en(tl),Qh,Yh,ko,Bu=Fe({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ko&&(ko&&t.type==="mousemove"?(Qh=t.screenX-ko.screenX,Yh=t.screenY-ko.screenY):Yh=Qh=0,ko=t),Qh)},movementY:function(t){return"movementY"in t?t.movementY:Yh}}),xy=en(Bu),Xx=Fe({},Bu,{dataTransfer:0}),Jx=en(Xx),Zx=Fe({},tl,{relatedTarget:0}),Xh=en(Zx),eA=Fe({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),tA=en(eA),nA=Fe({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iA=en(nA),rA=Fe({},Ys,{data:0}),Ay=en(rA),sA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aA[t])?!!e[t]:!1}function Mp(){return lA}var cA=Fe({},tl,{key:function(t){if(t.key){var e=sA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(t){return t.type==="keypress"?Sc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uA=en(cA),hA=Fe({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=en(hA),dA=Fe({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),fA=en(dA),pA=Fe({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),gA=en(pA),mA=Fe({},Bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yA=en(mA),_A=[9,13,27,32],Dp=ai&&"CompositionEvent"in window,ea=null;ai&&"documentMode"in document&&(ea=document.documentMode);var vA=ai&&"TextEvent"in window&&!ea,Ww=ai&&(!Dp||ea&&8<ea&&11>=ea),by=" ",Cy=!1;function Hw(t,e){switch(t){case"keyup":return _A.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $w(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function wA(t,e){switch(t){case"compositionend":return $w(e);case"keypress":return e.which!==32?null:(Cy=!0,by);case"textInput":return t=e.data,t===by&&Cy?null:t;default:return null}}function EA(t,e){if(us)return t==="compositionend"||!Dp&&Hw(t,e)?(t=zw(),Tc=Pp=Pi=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ww&&e.locale!=="ko"?null:e.data;default:return null}}var TA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TA[t.type]:e==="textarea"}function qw(t,e,n,i){Sw(i),e=Yc(e,"onChange"),0<e.length&&(n=new Rp("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var ta=null,Ia=null;function SA(t){iE(t,0)}function zu(t){var e=fs(t);if(mw(e))return t}function IA(t,e){if(t==="change")return e}var Kw=!1;if(ai){var Jh;if(ai){var Zh="oninput"in document;if(!Zh){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Zh=typeof Ry.oninput=="function"}Jh=Zh}else Jh=!1;Kw=Jh&&(!document.documentMode||9<document.documentMode)}function My(){ta&&(ta.detachEvent("onpropertychange",Gw),Ia=ta=null)}function Gw(t){if(t.propertyName==="value"&&zu(Ia)){var e=[];qw(e,Ia,t,xp(t)),kw(SA,e)}}function xA(t,e,n){t==="focusin"?(My(),ta=e,Ia=n,ta.attachEvent("onpropertychange",Gw)):t==="focusout"&&My()}function AA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(Ia)}function kA(t,e){if(t==="click")return zu(e)}function bA(t,e){if(t==="input"||t==="change")return zu(e)}function CA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:CA;function xa(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Vd.call(e,r)||!xn(t[r],e[r]))return!1}return!0}function Dy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ny(t,e){var n=Dy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dy(n)}}function Qw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yw(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function Np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function PA(t){var e=Yw(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qw(n.ownerDocument.documentElement,n)){if(i!==null&&Np(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Ny(n,s);var o=Ny(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RA=ai&&"documentMode"in document&&11>=document.documentMode,hs=null,nf=null,na=null,rf=!1;function Oy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rf||hs==null||hs!==Wc(i)||(i=hs,"selectionStart"in i&&Np(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),na&&xa(na,i)||(na=i,i=Yc(nf,"onSelect"),0<i.length&&(e=new Rp("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=hs)))}function $l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ds={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},ed={},Xw={};ai&&(Xw=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Wu(t){if(ed[t])return ed[t];if(!ds[t])return t;var e=ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xw)return ed[t]=e[n];return t}var Jw=Wu("animationend"),Zw=Wu("animationiteration"),eE=Wu("animationstart"),tE=Wu("transitionend"),nE=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(t,e){nE.set(t,e),$r(e,[t])}for(var td=0;td<Ly.length;td++){var nd=Ly[td],MA=nd.toLowerCase(),DA=nd[0].toUpperCase()+nd.slice(1);er(MA,"on"+DA)}er(Jw,"onAnimationEnd");er(Zw,"onAnimationIteration");er(eE,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(tE,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function Vy(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Mx(i,e,void 0,t),t.currentTarget=null}function iE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Vy(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Vy(r,a,u),s=l}}}if($c)throw t=Jd,$c=!1,Jd=null,t}function Re(t,e){var n=e[cf];n===void 0&&(n=e[cf]=new Set);var i=t+"__bubble";n.has(i)||(rE(e,t,2,!1),n.add(i))}function id(t,e,n){var i=0;e&&(i|=4),rE(n,t,i,e)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[ql]){t[ql]=!0,hw.forEach(function(n){n!=="selectionchange"&&(NA.has(n)||id(n,!1,t),id(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ql]||(e[ql]=!0,id("selectionchange",!1,e))}}function rE(t,e,n,i){switch(Bw(e)){case 1:var r=Gx;break;case 4:r=Qx;break;default:r=Cp}n=r.bind(null,e,n,t),r=void 0,!Xd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function rd(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=wr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}kw(function(){var u=s,h=xp(n),d=[];e:{var p=nE.get(t);if(p!==void 0){var m=Rp,w=t;switch(t){case"keypress":if(Sc(n)===0)break e;case"keydown":case"keyup":m=uA;break;case"focusin":w="focus",m=Xh;break;case"focusout":w="blur",m=Xh;break;case"beforeblur":case"afterblur":m=Xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=fA;break;case Jw:case Zw:case eE:m=tA;break;case tE:m=gA;break;case"scroll":m=Yx;break;case"wheel":m=yA;break;case"copy":case"cut":case"paste":m=iA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ky}var S=(e&4)!==0,E=!S&&t==="scroll",_=S?p!==null?p+"Capture":null:p;S=[];for(var y=u,I;y!==null;){I=y;var M=I.stateNode;if(I.tag===5&&M!==null&&(I=M,_!==null&&(M=wa(y,_),M!=null&&S.push(ka(y,M,I)))),E)break;y=y.return}0<S.length&&(p=new m(p,w,null,n,h),d.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Qd&&(w=n.relatedTarget||n.fromElement)&&(wr(w)||w[li]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?wr(w):null,w!==null&&(E=qr(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(S=xy,M="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=ky,M="onPointerLeave",_="onPointerEnter",y="pointer"),E=m==null?p:fs(m),I=w==null?p:fs(w),p=new S(M,y+"leave",m,n,h),p.target=E,p.relatedTarget=I,M=null,wr(h)===u&&(S=new S(_,y+"enter",w,n,h),S.target=I,S.relatedTarget=E,M=S),E=M,m&&w)t:{for(S=m,_=w,y=0,I=S;I;I=is(I))y++;for(I=0,M=_;M;M=is(M))I++;for(;0<y-I;)S=is(S),y--;for(;0<I-y;)_=is(_),I--;for(;y--;){if(S===_||_!==null&&S===_.alternate)break t;S=is(S),_=is(_)}S=null}else S=null;m!==null&&Fy(d,p,m,S,!1),w!==null&&E!==null&&Fy(d,E,w,S,!0)}}e:{if(p=u?fs(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=IA;else if(Py(p))if(Kw)N=bA;else{N=AA;var V=xA}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=kA);if(N&&(N=N(t,u))){qw(d,N,n,h);break e}V&&V(t,p,u),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Hd(p,"number",p.value)}switch(V=u?fs(u):window,t){case"focusin":(Py(V)||V.contentEditable==="true")&&(hs=V,nf=u,na=null);break;case"focusout":na=nf=hs=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Oy(d,n,h);break;case"selectionchange":if(RA)break;case"keydown":case"keyup":Oy(d,n,h)}var x;if(Dp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else us?Hw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Ww&&n.locale!=="ko"&&(us||v!=="onCompositionStart"?v==="onCompositionEnd"&&us&&(x=zw()):(Pi=h,Pp="value"in Pi?Pi.value:Pi.textContent,us=!0)),V=Yc(u,v),0<V.length&&(v=new Ay(v,t,null,n,h),d.push({event:v,listeners:V}),x?v.data=x:(x=$w(n),x!==null&&(v.data=x)))),(x=vA?wA(t,n):EA(t,n))&&(u=Yc(u,"onBeforeInput"),0<u.length&&(h=new Ay("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=x))}iE(d,e)})}function ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=wa(t,n),s!=null&&i.unshift(ka(t,s,r)),s=wa(t,e),s!=null&&i.push(ka(t,s,r))),t=t.return}return i}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fy(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=wa(n,s),l!=null&&o.unshift(ka(n,l,a))):r||(l=wa(n,s),l!=null&&o.push(ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var OA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function jy(t){return(typeof t=="string"?t:""+t).replace(OA,`
`).replace(LA,"")}function Kl(t,e,n){if(e=jy(e),jy(t)!==e&&n)throw Error(z(425))}function Xc(){}var sf=null,of=null;function af(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,VA=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(jA)}:lf;function jA(t){setTimeout(function(){throw t})}function sd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Sa(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Sa(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function By(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Xs,ba="__reactProps$"+Xs,li="__reactContainer$"+Xs,cf="__reactEvents$"+Xs,UA="__reactListeners$"+Xs,BA="__reactHandles$"+Xs;function wr(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=By(t);t!==null;){if(n=t[Mn])return n;t=By(t)}return e}t=n,n=t.parentNode}return null}function nl(t){return t=t[Mn]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Hu(t){return t[ba]||null}var uf=[],ps=-1;function tr(t){return{current:t}}function De(t){0>ps||(t.current=uf[ps],uf[ps]=null,ps--)}function Ce(t,e){ps++,uf[ps]=t.current,t.current=e}var Qi={},kt=tr(Qi),Bt=tr(!1),Mr=Qi;function Ms(t,e){var n=t.type.contextTypes;if(!n)return Qi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function zt(t){return t=t.childContextTypes,t!=null}function Jc(){De(Bt),De(kt)}function zy(t,e,n){if(kt.current!==Qi)throw Error(z(168));Ce(kt,e),Ce(Bt,n)}function sE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(z(108,xx(t)||"Unknown",r));return Fe({},n,i)}function Zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,Mr=kt.current,Ce(kt,t),Ce(Bt,Bt.current),!0}function Wy(t,e,n){var i=t.stateNode;if(!i)throw Error(z(169));n?(t=sE(t,e,Mr),i.__reactInternalMemoizedMergedChildContext=t,De(Bt),De(kt),Ce(kt,t)):De(Bt),Ce(Bt,n)}var Qn=null,$u=!1,od=!1;function oE(t){Qn===null?Qn=[t]:Qn.push(t)}function zA(t){$u=!0,oE(t)}function nr(){if(!od&&Qn!==null){od=!0;var t=0,e=Ee;try{var n=Qn;for(Ee=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Qn=null,$u=!1}catch(r){throw Qn!==null&&(Qn=Qn.slice(t+1)),Rw(Ap,nr),r}finally{Ee=e,od=!1}}return null}var gs=[],ms=0,eu=null,tu=0,nn=[],rn=0,Dr=null,ei=1,ti="";function gr(t,e){gs[ms++]=tu,gs[ms++]=eu,eu=t,tu=e}function aE(t,e,n){nn[rn++]=ei,nn[rn++]=ti,nn[rn++]=Dr,Dr=t;var i=ei;t=ti;var r=32-Tn(i)-1;i&=~(1<<r),n+=1;var s=32-Tn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ei=1<<32-Tn(e)+r|n<<r|i,ti=s+t}else ei=1<<s|n<<r|i,ti=t}function Op(t){t.return!==null&&(gr(t,1),aE(t,1,0))}function Lp(t){for(;t===eu;)eu=gs[--ms],gs[ms]=null,tu=gs[--ms],gs[ms]=null;for(;t===Dr;)Dr=nn[--rn],nn[rn]=null,ti=nn[--rn],nn[rn]=null,ei=nn[--rn],nn[rn]=null}var Yt=null,Gt=null,Oe=!1,vn=null;function lE(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dr!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Gt=null,!0):!1;default:return!1}}function hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function df(t){if(Oe){var e=Gt;if(e){var n=e;if(!Hy(t,e)){if(hf(t))throw Error(z(418));e=Fi(n.nextSibling);var i=Yt;e&&Hy(t,e)?lE(i,n):(t.flags=t.flags&-4097|2,Oe=!1,Yt=t)}}else{if(hf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Oe=!1,Yt=t}}}function $y(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function Gl(t){if(t!==Yt)return!1;if(!Oe)return $y(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!af(t.type,t.memoizedProps)),e&&(e=Gt)){if(hf(t))throw cE(),Error(z(418));for(;e;)lE(t,e),e=Fi(e.nextSibling)}if($y(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Yt?Fi(t.stateNode.nextSibling):null;return!0}function cE(){for(var t=Gt;t;)t=Fi(t.nextSibling)}function Ds(){Gt=Yt=null,Oe=!1}function Vp(t){vn===null?vn=[t]:vn.push(t)}var WA=mi.ReactCurrentBatchConfig;function bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var i=n.stateNode}if(!i)throw Error(z(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Ql(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qy(t){var e=t._init;return e(t._payload)}function uE(t){function e(_,y){if(t){var I=_.deletions;I===null?(_.deletions=[y],_.flags|=16):I.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function i(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function r(_,y){return _=zi(_,y),_.index=0,_.sibling=null,_}function s(_,y,I){return _.index=I,t?(I=_.alternate,I!==null?(I=I.index,I<y?(_.flags|=2,y):I):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,I,M){return y===null||y.tag!==6?(y=fd(I,_.mode,M),y.return=_,y):(y=r(y,I),y.return=_,y)}function l(_,y,I,M){var N=I.type;return N===cs?h(_,y,I.props.children,M,I.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&qy(N)===y.type)?(M=r(y,I.props),M.ref=bo(_,y,I),M.return=_,M):(M=Pc(I.type,I.key,I.props,null,_.mode,M),M.ref=bo(_,y,I),M.return=_,M)}function u(_,y,I,M){return y===null||y.tag!==4||y.stateNode.containerInfo!==I.containerInfo||y.stateNode.implementation!==I.implementation?(y=pd(I,_.mode,M),y.return=_,y):(y=r(y,I.children||[]),y.return=_,y)}function h(_,y,I,M,N){return y===null||y.tag!==7?(y=br(I,_.mode,M,N),y.return=_,y):(y=r(y,I),y.return=_,y)}function d(_,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fd(""+y,_.mode,I),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fl:return I=Pc(y.type,y.key,y.props,null,_.mode,I),I.ref=bo(_,null,y),I.return=_,I;case ls:return y=pd(y,_.mode,I),y.return=_,y;case xi:var M=y._init;return d(_,M(y._payload),I)}if(jo(y)||So(y))return y=br(y,_.mode,I,null),y.return=_,y;Ql(_,y)}return null}function p(_,y,I,M){var N=y!==null?y.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return N!==null?null:a(_,y,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Fl:return I.key===N?l(_,y,I,M):null;case ls:return I.key===N?u(_,y,I,M):null;case xi:return N=I._init,p(_,y,N(I._payload),M)}if(jo(I)||So(I))return N!==null?null:h(_,y,I,M,null);Ql(_,I)}return null}function m(_,y,I,M,N){if(typeof M=="string"&&M!==""||typeof M=="number")return _=_.get(I)||null,a(y,_,""+M,N);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Fl:return _=_.get(M.key===null?I:M.key)||null,l(y,_,M,N);case ls:return _=_.get(M.key===null?I:M.key)||null,u(y,_,M,N);case xi:var V=M._init;return m(_,y,I,V(M._payload),N)}if(jo(M)||So(M))return _=_.get(I)||null,h(y,_,M,N,null);Ql(y,M)}return null}function w(_,y,I,M){for(var N=null,V=null,x=y,v=y=0,A=null;x!==null&&v<I.length;v++){x.index>v?(A=x,x=null):A=x.sibling;var k=p(_,x,I[v],M);if(k===null){x===null&&(x=A);break}t&&x&&k.alternate===null&&e(_,x),y=s(k,y,v),V===null?N=k:V.sibling=k,V=k,x=A}if(v===I.length)return n(_,x),Oe&&gr(_,v),N;if(x===null){for(;v<I.length;v++)x=d(_,I[v],M),x!==null&&(y=s(x,y,v),V===null?N=x:V.sibling=x,V=x);return Oe&&gr(_,v),N}for(x=i(_,x);v<I.length;v++)A=m(x,_,v,I[v],M),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?v:A.key),y=s(A,y,v),V===null?N=A:V.sibling=A,V=A);return t&&x.forEach(function(C){return e(_,C)}),Oe&&gr(_,v),N}function S(_,y,I,M){var N=So(I);if(typeof N!="function")throw Error(z(150));if(I=N.call(I),I==null)throw Error(z(151));for(var V=N=null,x=y,v=y=0,A=null,k=I.next();x!==null&&!k.done;v++,k=I.next()){x.index>v?(A=x,x=null):A=x.sibling;var C=p(_,x,k.value,M);if(C===null){x===null&&(x=A);break}t&&x&&C.alternate===null&&e(_,x),y=s(C,y,v),V===null?N=C:V.sibling=C,V=C,x=A}if(k.done)return n(_,x),Oe&&gr(_,v),N;if(x===null){for(;!k.done;v++,k=I.next())k=d(_,k.value,M),k!==null&&(y=s(k,y,v),V===null?N=k:V.sibling=k,V=k);return Oe&&gr(_,v),N}for(x=i(_,x);!k.done;v++,k=I.next())k=m(x,_,v,k.value,M),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?v:k.key),y=s(k,y,v),V===null?N=k:V.sibling=k,V=k);return t&&x.forEach(function(D){return e(_,D)}),Oe&&gr(_,v),N}function E(_,y,I,M){if(typeof I=="object"&&I!==null&&I.type===cs&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Fl:e:{for(var N=I.key,V=y;V!==null;){if(V.key===N){if(N=I.type,N===cs){if(V.tag===7){n(_,V.sibling),y=r(V,I.props.children),y.return=_,_=y;break e}}else if(V.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&qy(N)===V.type){n(_,V.sibling),y=r(V,I.props),y.ref=bo(_,V,I),y.return=_,_=y;break e}n(_,V);break}else e(_,V);V=V.sibling}I.type===cs?(y=br(I.props.children,_.mode,M,I.key),y.return=_,_=y):(M=Pc(I.type,I.key,I.props,null,_.mode,M),M.ref=bo(_,y,I),M.return=_,_=M)}return o(_);case ls:e:{for(V=I.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===I.containerInfo&&y.stateNode.implementation===I.implementation){n(_,y.sibling),y=r(y,I.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=pd(I,_.mode,M),y.return=_,_=y}return o(_);case xi:return V=I._init,E(_,y,V(I._payload),M)}if(jo(I))return w(_,y,I,M);if(So(I))return S(_,y,I,M);Ql(_,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,y!==null&&y.tag===6?(n(_,y.sibling),y=r(y,I),y.return=_,_=y):(n(_,y),y=fd(I,_.mode,M),y.return=_,_=y),o(_)):n(_,y)}return E}var Ns=uE(!0),hE=uE(!1),nu=tr(null),iu=null,ys=null,Fp=null;function jp(){Fp=ys=iu=null}function Up(t){var e=nu.current;De(nu),t._currentValue=e}function ff(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){iu=t,Fp=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(Fp!==t)if(t={context:t,memoizedValue:e,next:null},ys===null){if(iu===null)throw Error(z(308));ys=t,iu.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return e}var Er=null;function Bp(t){Er===null?Er=[t]:Er.push(t)}function dE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Bp(e)):(n.next=r.next,r.next=n),e.interleaved=n,ci(t,i)}function ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function zp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ge&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ci(t,n)}return r=i.interleaved,r===null?(e.next=e,Bp(i)):(e.next=r.next,r.next=e),i.interleaved=e,ci(t,n)}function Ic(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,kp(t,n)}}function Ky(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ru(t,e,n,i){var r=t.updateQueue;Ai=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,S=a;switch(p=e,m=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){d=w.call(m,d,p);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,p=typeof w=="function"?w.call(m,d,p):w,p==null)break e;d=Fe({},d,p);break e;case 2:Ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Or|=o,t.lanes=o,t.memoizedState=d}}function Gy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var il={},Nn=tr(il),Ca=tr(il),Pa=tr(il);function Tr(t){if(t===il)throw Error(z(174));return t}function Wp(t,e){switch(Ce(Pa,e),Ce(Ca,t),Ce(Nn,il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qd(e,t)}De(Nn),Ce(Nn,e)}function Os(){De(Nn),De(Ca),De(Pa)}function pE(t){Tr(Pa.current);var e=Tr(Nn.current),n=qd(e,t.type);e!==n&&(Ce(Ca,t),Ce(Nn,n))}function Hp(t){Ca.current===t&&(De(Nn),De(Ca))}var Le=tr(0);function su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ad=[];function $p(){for(var t=0;t<ad.length;t++)ad[t]._workInProgressVersionPrimary=null;ad.length=0}var xc=mi.ReactCurrentDispatcher,ld=mi.ReactCurrentBatchConfig,Nr=0,Ve=null,Xe=null,rt=null,ou=!1,ia=!1,Ra=0,HA=0;function vt(){throw Error(z(321))}function qp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function Kp(t,e,n,i,r,s){if(Nr=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=t===null||t.memoizedState===null?GA:QA,t=n(i,r),ia){s=0;do{if(ia=!1,Ra=0,25<=s)throw Error(z(301));s+=1,rt=Xe=null,e.updateQueue=null,xc.current=YA,t=n(i,r)}while(ia)}if(xc.current=au,e=Xe!==null&&Xe.next!==null,Nr=0,rt=Xe=Ve=null,ou=!1,e)throw Error(z(300));return t}function Gp(){var t=Ra!==0;return Ra=0,t}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ve.memoizedState=rt=t:rt=rt.next=t,rt}function un(){if(Xe===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?Ve.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(z(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?Ve.memoizedState=rt=t:rt=rt.next=t}return rt}function Ma(t,e){return typeof e=="function"?e(t):e}function cd(t){var e=un(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=Xe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Nr&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Ve.lanes|=h,Or|=h}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,xn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ve.lanes|=s,Or|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ud(t){var e=un(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);xn(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function gE(){}function mE(t,e){var n=Ve,i=un(),r=e(),s=!xn(i.memoizedState,r);if(s&&(i.memoizedState=r,Ut=!0),i=i.queue,Qp(vE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Da(9,_E.bind(null,n,i,r,e),void 0,null),ot===null)throw Error(z(349));Nr&30||yE(n,e,r)}return r}function yE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _E(t,e,n,i){e.value=n,e.getSnapshot=i,wE(e)&&EE(t)}function vE(t,e,n){return n(function(){wE(e)&&EE(t)})}function wE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function EE(t){var e=ci(t,1);e!==null&&Sn(e,t,1,-1)}function Qy(t){var e=Pn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=KA.bind(null,Ve,t),[e.memoizedState,t]}function Da(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function TE(){return un().memoizedState}function Ac(t,e,n,i){var r=Pn();Ve.flags|=t,r.memoizedState=Da(1|e,n,void 0,i===void 0?null:i)}function qu(t,e,n,i){var r=un();i=i===void 0?null:i;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,i!==null&&qp(i,o.deps)){r.memoizedState=Da(e,n,s,i);return}}Ve.flags|=t,r.memoizedState=Da(1|e,n,s,i)}function Yy(t,e){return Ac(8390656,8,t,e)}function Qp(t,e){return qu(2048,8,t,e)}function SE(t,e){return qu(4,2,t,e)}function IE(t,e){return qu(4,4,t,e)}function xE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AE(t,e,n){return n=n!=null?n.concat([t]):null,qu(4,4,xE.bind(null,e,t),n)}function Yp(){}function kE(t,e){var n=un();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function bE(t,e){var n=un();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qp(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function CE(t,e,n){return Nr&21?(xn(n,e)||(n=Nw(),Ve.lanes|=n,Or|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function $A(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var i=ld.transition;ld.transition={};try{t(!1),e()}finally{Ee=n,ld.transition=i}}function PE(){return un().memoizedState}function qA(t,e,n){var i=Bi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},RE(t))ME(e,n);else if(n=dE(t,e,n,i),n!==null){var r=Rt();Sn(n,t,i,r),DE(n,e,i)}}function KA(t,e,n){var i=Bi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(RE(t))ME(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,xn(a,o)){var l=e.interleaved;l===null?(r.next=r,Bp(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=dE(t,e,r,i),n!==null&&(r=Rt(),Sn(n,t,i,r),DE(n,e,i))}}function RE(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function ME(t,e){ia=ou=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,kp(t,n)}}var au={readContext:cn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},GA={readContext:cn,useCallback:function(t,e){return Pn().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:Yy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ac(4194308,4,xE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ac(4,2,t,e)},useMemo:function(t,e){var n=Pn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Pn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=qA.bind(null,Ve,t),[i.memoizedState,t]},useRef:function(t){var e=Pn();return t={current:t},e.memoizedState=t},useState:Qy,useDebugValue:Yp,useDeferredValue:function(t){return Pn().memoizedState=t},useTransition:function(){var t=Qy(!1),e=t[0];return t=$A.bind(null,t[1]),Pn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ve,r=Pn();if(Oe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ot===null)throw Error(z(349));Nr&30||yE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Yy(vE.bind(null,i,s,t),[t]),i.flags|=2048,Da(9,_E.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Pn(),e=ot.identifierPrefix;if(Oe){var n=ti,i=ei;n=(i&~(1<<32-Tn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QA={readContext:cn,useCallback:kE,useContext:cn,useEffect:Qp,useImperativeHandle:AE,useInsertionEffect:SE,useLayoutEffect:IE,useMemo:bE,useReducer:cd,useRef:TE,useState:function(){return cd(Ma)},useDebugValue:Yp,useDeferredValue:function(t){var e=un();return CE(e,Xe.memoizedState,t)},useTransition:function(){var t=cd(Ma)[0],e=un().memoizedState;return[t,e]},useMutableSource:gE,useSyncExternalStore:mE,useId:PE,unstable_isNewReconciler:!1},YA={readContext:cn,useCallback:kE,useContext:cn,useEffect:Qp,useImperativeHandle:AE,useInsertionEffect:SE,useLayoutEffect:IE,useMemo:bE,useReducer:ud,useRef:TE,useState:function(){return ud(Ma)},useDebugValue:Yp,useDeferredValue:function(t){var e=un();return Xe===null?e.memoizedState=t:CE(e,Xe.memoizedState,t)},useTransition:function(){var t=ud(Ma)[0],e=un().memoizedState;return[t,e]},useMutableSource:gE,useSyncExternalStore:mE,useId:PE,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pf(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ku={isMounted:function(t){return(t=t._reactInternals)?qr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Rt(),r=Bi(t),s=si(i,r);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,r),e!==null&&(Sn(e,t,r,i),Ic(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Rt(),r=Bi(t),s=si(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,r),e!==null&&(Sn(e,t,r,i),Ic(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),i=Bi(t),r=si(n,i);r.tag=2,e!=null&&(r.callback=e),e=ji(t,r,i),e!==null&&(Sn(e,t,i,n),Ic(e,t,i))}};function Xy(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!xa(n,i)||!xa(r,s):!0}function NE(t,e,n){var i=!1,r=Qi,s=e.contextType;return typeof s=="object"&&s!==null?s=cn(s):(r=zt(e)?Mr:kt.current,i=e.contextTypes,s=(i=i!=null)?Ms(t,r):Qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ku,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ku.enqueueReplaceState(e,e.state,null)}function gf(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},zp(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=cn(s):(s=zt(e)?Mr:kt.current,r.context=Ms(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pf(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ku.enqueueReplaceState(r,r.state,null),ru(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ls(t,e){try{var n="",i=e;do n+=Ix(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function hd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function OE(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){cu||(cu=!0,Af=i),mf(t,e)},n}function LE(t,e,n){n=si(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){mf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){mf(t,e),typeof i!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zy(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new XA;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=hk.bind(null,t,e,n),e.then(t,t))}function e_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t_(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,ji(n,e,1))),n.lanes|=1),t)}var JA=mi.ReactCurrentOwner,Ut=!1;function Pt(t,e,n,i){e.child=t===null?hE(e,null,n,i):Ns(e,t.child,n,i)}function n_(t,e,n,i,r){n=n.render;var s=e.ref;return Is(e,r),i=Kp(t,e,n,i,s,r),n=Gp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ui(t,e,r)):(Oe&&n&&Op(e),e.flags|=1,Pt(t,e,i,r),e.child)}function i_(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!rg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VE(t,e,s,i,r)):(t=Pc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(o,i)&&t.ref===e.ref)return ui(t,e,r)}return e.flags|=1,t=zi(s,i),t.ref=e.ref,t.return=e,e.child=t}function VE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(xa(s,i)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,ui(t,e,r)}return yf(t,e,n,i,r)}function FE(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(vs,Kt),Kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(vs,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ce(vs,Kt),Kt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ce(vs,Kt),Kt|=i;return Pt(t,e,r,n),e.child}function jE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yf(t,e,n,i,r){var s=zt(n)?Mr:kt.current;return s=Ms(e,s),Is(e,r),n=Kp(t,e,n,i,s,r),i=Gp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ui(t,e,r)):(Oe&&i&&Op(e),e.flags|=1,Pt(t,e,n,r),e.child)}function r_(t,e,n,i,r){if(zt(n)){var s=!0;Zc(e)}else s=!1;if(Is(e,r),e.stateNode===null)kc(t,e),NE(e,n,i),gf(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=zt(n)?Mr:kt.current,u=Ms(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&Jy(e,o,i,u),Ai=!1;var p=e.memoizedState;o.state=p,ru(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Bt.current||Ai?(typeof h=="function"&&(pf(e,n,h,i),l=e.memoizedState),(a=Ai||Xy(e,n,a,i,p,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,fE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yn(e.type,a),o.props=u,d=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=zt(n)?Mr:kt.current,l=Ms(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&Jy(e,o,i,l),Ai=!1,p=e.memoizedState,o.state=p,ru(e,i,o,r);var w=e.memoizedState;a!==d||p!==w||Bt.current||Ai?(typeof m=="function"&&(pf(e,n,m,i),w=e.memoizedState),(u=Ai||Xy(e,n,u,i,p,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),o.props=i,o.state=w,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return _f(t,e,n,i,s,r)}function _f(t,e,n,i,r,s){jE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Wy(e,n,!1),ui(t,e,s);i=e.stateNode,JA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ns(e,t.child,null,s),e.child=Ns(e,null,a,s)):Pt(t,e,a,s),e.memoizedState=i.state,r&&Wy(e,n,!0),e.child}function UE(t){var e=t.stateNode;e.pendingContext?zy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zy(t,e.context,!1),Wp(t,e.containerInfo)}function s_(t,e,n,i,r){return Ds(),Vp(r),e.flags|=256,Pt(t,e,n,i),e.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function wf(t){return{baseLanes:t,cachePool:null,transitions:null}}function BE(t,e,n){var i=e.pendingProps,r=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ce(Le,r&1),t===null)return df(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yu(o,i,0,null),t=br(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=wf(n),e.memoizedState=vf,t):Xp(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ZA(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=zi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=zi(a,s):(s=br(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?wf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vf,i}return s=t.child,t=s.sibling,i=zi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Xp(t,e){return e=Yu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yl(t,e,n,i){return i!==null&&Vp(i),Ns(e,t.child,null,n),t=Xp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZA(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=hd(Error(z(422))),Yl(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Yu({mode:"visible",children:i.children},r,0,null),s=br(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ns(e,t.child,null,o),e.child.memoizedState=wf(o),e.memoizedState=vf,s);if(!(e.mode&1))return Yl(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(z(419)),i=hd(s,i,void 0),Yl(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ut||a){if(i=ot,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ci(t,r),Sn(i,t,r,-1))}return ig(),i=hd(Error(z(421))),Yl(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=dk.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Gt=Fi(r.nextSibling),Yt=e,Oe=!0,vn=null,t!==null&&(nn[rn++]=ei,nn[rn++]=ti,nn[rn++]=Dr,ei=t.id,ti=t.overflow,Dr=e),e=Xp(e,i.children),e.flags|=4096,e)}function o_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),ff(t.return,e,n)}function dd(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function zE(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Pt(t,e,i.children,n),i=Le.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o_(t,n,e);else if(t.tag===19)o_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ce(Le,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&su(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),dd(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&su(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}dd(e,!0,n,null,s);break;case"together":dd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Or|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ek(t,e,n){switch(e.tag){case 3:UE(e),Ds();break;case 5:pE(e);break;case 1:zt(e.type)&&Zc(e);break;case 4:Wp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ce(nu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ce(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?BE(t,e,n):(Ce(Le,Le.current&1),t=ui(t,e,n),t!==null?t.sibling:null);Ce(Le,Le.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return zE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ce(Le,Le.current),i)break;return null;case 22:case 23:return e.lanes=0,FE(t,e,n)}return ui(t,e,n)}var WE,Ef,HE,$E;WE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ef=function(){};HE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Tr(Nn.current);var s=null;switch(n){case"input":r=zd(t,r),i=zd(t,i),s=[];break;case"select":r=Fe({},r,{value:void 0}),i=Fe({},i,{value:void 0}),s=[];break;case"textarea":r=$d(t,r),i=$d(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Xc)}Kd(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_a.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};$E=function(t,e,n,i){n!==i&&(e.flags|=4)};function Co(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function tk(t,e,n){var i=e.pendingProps;switch(Lp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return zt(e.type)&&Jc(),wt(e),null;case 3:return i=e.stateNode,Os(),De(Bt),De(kt),$p(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Gl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(Cf(vn),vn=null))),Ef(t,e),wt(e),null;case 5:Hp(e);var r=Tr(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)HE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return wt(e),null}if(t=Tr(Nn.current),Gl(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Mn]=e,i[ba]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(r=0;r<Bo.length;r++)Re(Bo[r],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":gy(i,s),Re("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Re("invalid",i);break;case"textarea":yy(i,s),Re("invalid",i)}Kd(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Kl(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Kl(i.textContent,a,t),r=["children",""+a]):_a.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",i)}switch(n){case"input":jl(i),my(i,s,!0);break;case"textarea":jl(i),_y(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Xc)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Mn]=e,t[ba]=i,WE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gd(n,i),n){case"dialog":Re("cancel",t),Re("close",t),r=i;break;case"iframe":case"object":case"embed":Re("load",t),r=i;break;case"video":case"audio":for(r=0;r<Bo.length;r++)Re(Bo[r],t);r=i;break;case"source":Re("error",t),r=i;break;case"img":case"image":case"link":Re("error",t),Re("load",t),r=i;break;case"details":Re("toggle",t),r=i;break;case"input":gy(t,i),r=zd(t,i),Re("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Fe({},i,{value:void 0}),Re("invalid",t);break;case"textarea":yy(t,i),r=$d(t,i),Re("invalid",t);break;default:r=i}Kd(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Tw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ww(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&va(t,l):typeof l=="number"&&va(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_a.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&Ep(t,s,l,o))}switch(n){case"input":jl(t),my(t,i,!1);break;case"textarea":jl(t),_y(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Gi(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?ws(t,!!i.multiple,s,!1):i.defaultValue!=null&&ws(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Xc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)$E(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(n=Tr(Pa.current),Tr(Nn.current),Gl(e)){if(i=e.stateNode,n=e.memoizedProps,i[Mn]=e,(s=i.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Kl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kl(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Mn]=e,e.stateNode=i}return wt(e),null;case 13:if(De(Le),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Gt!==null&&e.mode&1&&!(e.flags&128))cE(),Ds(),e.flags|=98560,s=!1;else if(s=Gl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Mn]=e}else Ds(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else vn!==null&&(Cf(vn),vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?Ze===0&&(Ze=3):ig())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Os(),Ef(t,e),t===null&&Aa(e.stateNode.containerInfo),wt(e),null;case 10:return Up(e.type._context),wt(e),null;case 17:return zt(e.type)&&Jc(),wt(e),null;case 19:if(De(Le),s=e.memoizedState,s===null)return wt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Co(s,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=su(t),o!==null){for(e.flags|=128,Co(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>Vs&&(e.flags|=128,i=!0,Co(s,!1),e.lanes=4194304)}else{if(!i)if(t=su(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Co(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return wt(e),null}else 2*qe()-s.renderingStartTime>Vs&&n!==1073741824&&(e.flags|=128,i=!0,Co(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=Le.current,Ce(Le,i?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return ng(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Kt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function nk(t,e){switch(Lp(e),e.tag){case 1:return zt(e.type)&&Jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Os(),De(Bt),De(kt),$p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hp(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ds()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return Os(),null;case 10:return Up(e.type._context),null;case 22:case 23:return ng(),null;case 24:return null;default:return null}}var Xl=!1,It=!1,ik=typeof WeakSet=="function"?WeakSet:Set,K=null;function _s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Be(t,e,i)}else n.current=null}function Tf(t,e,n){try{n()}catch(i){Be(t,e,i)}}var a_=!1;function rk(t,e){if(sf=Gc,t=Yw(),Np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,p=null;t:for(;;){for(var m;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===t)break t;if(p===n&&++u===r&&(a=o),p===s&&++h===i&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(of={focusedElem:t,selectionRange:n},Gc=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,E=w.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:yn(e.type,S),E);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(M){Be(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return w=a_,a_=!1,w}function ra(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Tf(e,n,s)}r=r.next}while(r!==i)}}function Gu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Sf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qE(t){var e=t.alternate;e!==null&&(t.alternate=null,qE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mn],delete e[ba],delete e[cf],delete e[UA],delete e[BA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KE(t){return t.tag===5||t.tag===3||t.tag===4}function l_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function If(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xc));else if(i!==4&&(t=t.child,t!==null))for(If(t,e,n),t=t.sibling;t!==null;)If(t,e,n),t=t.sibling}function xf(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(xf(t,e,n),t=t.sibling;t!==null;)xf(t,e,n),t=t.sibling}var ut=null,_n=!1;function Ei(t,e,n){for(n=n.child;n!==null;)GE(t,e,n),n=n.sibling}function GE(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(Uu,n)}catch{}switch(n.tag){case 5:It||_s(n,e);case 6:var i=ut,r=_n;ut=null,Ei(t,e,n),ut=i,_n=r,ut!==null&&(_n?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(_n?(t=ut,n=n.stateNode,t.nodeType===8?sd(t.parentNode,n):t.nodeType===1&&sd(t,n),Sa(t)):sd(ut,n.stateNode));break;case 4:i=ut,r=_n,ut=n.stateNode.containerInfo,_n=!0,Ei(t,e,n),ut=i,_n=r;break;case 0:case 11:case 14:case 15:if(!It&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tf(n,e,o),r=r.next}while(r!==i)}Ei(t,e,n);break;case 1:if(!It&&(_s(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Be(n,e,a)}Ei(t,e,n);break;case 21:Ei(t,e,n);break;case 22:n.mode&1?(It=(i=It)||n.memoizedState!==null,Ei(t,e,n),It=i):Ei(t,e,n);break;default:Ei(t,e,n)}}function c_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ik),e.forEach(function(i){var r=fk.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function mn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,_n=!1;break e;case 3:ut=a.stateNode.containerInfo,_n=!0;break e;case 4:ut=a.stateNode.containerInfo,_n=!0;break e}a=a.return}if(ut===null)throw Error(z(160));GE(s,o,r),ut=null,_n=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Be(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QE(e,t),e=e.sibling}function QE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mn(e,t),kn(t),i&4){try{ra(3,t,t.return),Gu(3,t)}catch(S){Be(t,t.return,S)}try{ra(5,t,t.return)}catch(S){Be(t,t.return,S)}}break;case 1:mn(e,t),kn(t),i&512&&n!==null&&_s(n,n.return);break;case 5:if(mn(e,t),kn(t),i&512&&n!==null&&_s(n,n.return),t.flags&32){var r=t.stateNode;try{va(r,"")}catch(S){Be(t,t.return,S)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yw(r,s),Gd(a,o);var u=Gd(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Tw(r,d):h==="dangerouslySetInnerHTML"?ww(r,d):h==="children"?va(r,d):Ep(r,h,d,u)}switch(a){case"input":Wd(r,s);break;case"textarea":_w(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ws(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ws(r,!!s.multiple,s.defaultValue,!0):ws(r,!!s.multiple,s.multiple?[]:"",!1))}r[ba]=s}catch(S){Be(t,t.return,S)}}break;case 6:if(mn(e,t),kn(t),i&4){if(t.stateNode===null)throw Error(z(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(S){Be(t,t.return,S)}}break;case 3:if(mn(e,t),kn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(S){Be(t,t.return,S)}break;case 4:mn(e,t),kn(t);break;case 13:mn(e,t),kn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(eg=qe())),i&4&&c_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||h,mn(e,t),It=u):mn(e,t),kn(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(d=K=h;K!==null;){switch(p=K,m=p.child,p.tag){case 0:case 11:case 14:case 15:ra(4,p,p.return);break;case 1:_s(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){Be(i,n,S)}}break;case 5:_s(p,p.return);break;case 22:if(p.memoizedState!==null){h_(d);continue}}m!==null?(m.return=p,K=m):h_(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ew("display",o))}catch(S){Be(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){Be(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mn(e,t),kn(t),i&4&&c_(t);break;case 21:break;default:mn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KE(n)){var i=n;break e}n=n.return}throw Error(z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(va(r,""),i.flags&=-33);var s=l_(t);xf(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=l_(t);If(t,a,o);break;default:throw Error(z(161))}}catch(l){Be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sk(t,e,n){K=t,YE(t)}function YE(t,e,n){for(var i=(t.mode&1)!==0;K!==null;){var r=K,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Xl;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||It;a=Xl;var u=It;if(Xl=o,(It=l)&&!u)for(K=r;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?d_(r):l!==null?(l.return=o,K=l):d_(r);for(;s!==null;)K=s,YE(s),s=s.sibling;K=r,Xl=a,It=u}u_(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,K=s):u_(t)}}function u_(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Gu(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!It)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:yn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Gy(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Sa(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}It||e.flags&512&&Sf(e)}catch(p){Be(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function h_(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function d_(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gu(4,e)}catch(l){Be(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Be(e,r,l)}}var s=e.return;try{Sf(e)}catch(l){Be(e,s,l)}break;case 5:var o=e.return;try{Sf(e)}catch(l){Be(e,o,l)}}}catch(l){Be(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var ok=Math.ceil,lu=mi.ReactCurrentDispatcher,Jp=mi.ReactCurrentOwner,ln=mi.ReactCurrentBatchConfig,ge=0,ot=null,Qe=null,ft=0,Kt=0,vs=tr(0),Ze=0,Na=null,Or=0,Qu=0,Zp=0,sa=null,Vt=null,eg=0,Vs=1/0,Gn=null,cu=!1,Af=null,Ui=null,Jl=!1,Ri=null,uu=0,oa=0,kf=null,bc=-1,Cc=0;function Rt(){return ge&6?qe():bc!==-1?bc:bc=qe()}function Bi(t){return t.mode&1?ge&2&&ft!==0?ft&-ft:WA.transition!==null?(Cc===0&&(Cc=Nw()),Cc):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:Bw(t.type)),t):1}function Sn(t,e,n,i){if(50<oa)throw oa=0,kf=null,Error(z(185));el(t,n,i),(!(ge&2)||t!==ot)&&(t===ot&&(!(ge&2)&&(Qu|=n),Ze===4&&bi(t,ft)),Wt(t,i),n===1&&ge===0&&!(e.mode&1)&&(Vs=qe()+500,$u&&nr()))}function Wt(t,e){var n=t.callbackNode;Wx(t,e);var i=Kc(t,t===ot?ft:0);if(i===0)n!==null&&Ey(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Ey(n),e===1)t.tag===0?zA(f_.bind(null,t)):oE(f_.bind(null,t)),FA(function(){!(ge&6)&&nr()}),n=null;else{switch(Ow(i)){case 1:n=Ap;break;case 4:n=Mw;break;case 16:n=qc;break;case 536870912:n=Dw;break;default:n=qc}n=r1(n,XE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XE(t,e){if(bc=-1,Cc=0,ge&6)throw Error(z(327));var n=t.callbackNode;if(xs()&&t.callbackNode!==n)return null;var i=Kc(t,t===ot?ft:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=hu(t,i);else{e=i;var r=ge;ge|=2;var s=ZE();(ot!==t||ft!==e)&&(Gn=null,Vs=qe()+500,kr(t,e));do try{ck();break}catch(a){JE(t,a)}while(!0);jp(),lu.current=s,ge=r,Qe!==null?e=0:(ot=null,ft=0,e=Ze)}if(e!==0){if(e===2&&(r=Zd(t),r!==0&&(i=r,e=bf(t,r))),e===1)throw n=Na,kr(t,0),bi(t,i),Wt(t,qe()),n;if(e===6)bi(t,i);else{if(r=t.current.alternate,!(i&30)&&!ak(r)&&(e=hu(t,i),e===2&&(s=Zd(t),s!==0&&(i=s,e=bf(t,s))),e===1))throw n=Na,kr(t,0),bi(t,i),Wt(t,qe()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:mr(t,Vt,Gn);break;case 3:if(bi(t,i),(i&130023424)===i&&(e=eg+500-qe(),10<e)){if(Kc(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Rt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=lf(mr.bind(null,t,Vt,Gn),e);break}mr(t,Vt,Gn);break;case 4:if(bi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Tn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=qe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ok(i/1960))-i,10<i){t.timeoutHandle=lf(mr.bind(null,t,Vt,Gn),i);break}mr(t,Vt,Gn);break;case 5:mr(t,Vt,Gn);break;default:throw Error(z(329))}}}return Wt(t,qe()),t.callbackNode===n?XE.bind(null,t):null}function bf(t,e){var n=sa;return t.current.memoizedState.isDehydrated&&(kr(t,e).flags|=256),t=hu(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&Cf(e)),t}function Cf(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function ak(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!xn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e){for(e&=~Zp,e&=~Qu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),i=1<<n;t[n]=-1,e&=~i}}function f_(t){if(ge&6)throw Error(z(327));xs();var e=Kc(t,0);if(!(e&1))return Wt(t,qe()),null;var n=hu(t,e);if(t.tag!==0&&n===2){var i=Zd(t);i!==0&&(e=i,n=bf(t,i))}if(n===1)throw n=Na,kr(t,0),bi(t,e),Wt(t,qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mr(t,Vt,Gn),Wt(t,qe()),null}function tg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Vs=qe()+500,$u&&nr())}}function Lr(t){Ri!==null&&Ri.tag===0&&!(ge&6)&&xs();var e=ge;ge|=1;var n=ln.transition,i=Ee;try{if(ln.transition=null,Ee=1,t)return t()}finally{Ee=i,ln.transition=n,ge=e,!(ge&6)&&nr()}}function ng(){Kt=vs.current,De(vs)}function kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VA(n)),Qe!==null)for(n=Qe.return;n!==null;){var i=n;switch(Lp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Jc();break;case 3:Os(),De(Bt),De(kt),$p();break;case 5:Hp(i);break;case 4:Os();break;case 13:De(Le);break;case 19:De(Le);break;case 10:Up(i.type._context);break;case 22:case 23:ng()}n=n.return}if(ot=t,Qe=t=zi(t.current,null),ft=Kt=e,Ze=0,Na=null,Zp=Qu=Or=0,Vt=sa=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Er=null}return t}function JE(t,e){do{var n=Qe;try{if(jp(),xc.current=au,ou){for(var i=Ve.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ou=!1}if(Nr=0,rt=Xe=Ve=null,ia=!1,Ra=0,Jp.current=null,n===null||n.return===null){Ze=1,Na=e,Qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=e_(o);if(m!==null){m.flags&=-257,t_(m,o,a,s,e),m.mode&1&&Zy(s,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var S=new Set;S.add(l),e.updateQueue=S}else w.add(l);break e}else{if(!(e&1)){Zy(s,u,e),ig();break e}l=Error(z(426))}}else if(Oe&&a.mode&1){var E=e_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),t_(E,o,a,s,e),Vp(Ls(l,a));break e}}s=l=Ls(l,a),Ze!==4&&(Ze=2),sa===null?sa=[s]:sa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=OE(s,l,e);Ky(s,_);break e;case 1:a=l;var y=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ui===null||!Ui.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=LE(s,a,e);Ky(s,M);break e}}s=s.return}while(s!==null)}t1(n)}catch(N){e=N,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function ZE(){var t=lu.current;return lu.current=au,t===null?au:t}function ig(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),ot===null||!(Or&268435455)&&!(Qu&268435455)||bi(ot,ft)}function hu(t,e){var n=ge;ge|=2;var i=ZE();(ot!==t||ft!==e)&&(Gn=null,kr(t,e));do try{lk();break}catch(r){JE(t,r)}while(!0);if(jp(),ge=n,lu.current=i,Qe!==null)throw Error(z(261));return ot=null,ft=0,Ze}function lk(){for(;Qe!==null;)e1(Qe)}function ck(){for(;Qe!==null&&!Nx();)e1(Qe)}function e1(t){var e=i1(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?t1(t):Qe=e,Jp.current=null}function t1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nk(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(n=tk(n,e,Kt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function mr(t,e,n){var i=Ee,r=ln.transition;try{ln.transition=null,Ee=1,uk(t,e,n,i)}finally{ln.transition=r,Ee=i}return null}function uk(t,e,n,i){do xs();while(Ri!==null);if(ge&6)throw Error(z(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Hx(t,s),t===ot&&(Qe=ot=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jl||(Jl=!0,r1(qc,function(){return xs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var o=Ee;Ee=1;var a=ge;ge|=4,Jp.current=null,rk(t,n),QE(n,t),PA(of),Gc=!!sf,of=sf=null,t.current=n,sk(n),Ox(),ge=a,Ee=o,ln.transition=s}else t.current=n;if(Jl&&(Jl=!1,Ri=t,uu=r),s=t.pendingLanes,s===0&&(Ui=null),Fx(n.stateNode),Wt(t,qe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(cu)throw cu=!1,t=Af,Af=null,t;return uu&1&&t.tag!==0&&xs(),s=t.pendingLanes,s&1?t===kf?oa++:(oa=0,kf=t):oa=0,nr(),null}function xs(){if(Ri!==null){var t=Ow(uu),e=ln.transition,n=Ee;try{if(ln.transition=null,Ee=16>t?16:t,Ri===null)var i=!1;else{if(t=Ri,Ri=null,uu=0,ge&6)throw Error(z(331));var r=ge;for(ge|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:ra(8,h,s)}var d=h.child;if(d!==null)d.return=h,K=d;else for(;K!==null;){h=K;var p=h.sibling,m=h.return;if(qE(h),h===u){K=null;break}if(p!==null){p.return=m,K=p;break}K=m}}}var w=s.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ra(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,K=_;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){o=K;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,K=I;else e:for(o=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gu(9,a)}}catch(N){Be(a,a.return,N)}if(a===o){K=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,K=M;break e}K=a.return}}if(ge=r,nr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(Uu,t)}catch{}i=!0}return i}finally{Ee=n,ln.transition=e}}return!1}function p_(t,e,n){e=Ls(n,e),e=OE(t,e,1),t=ji(t,e,1),e=Rt(),t!==null&&(el(t,1,e),Wt(t,e))}function Be(t,e,n){if(t.tag===3)p_(t,t,n);else for(;e!==null;){if(e.tag===3){p_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ui===null||!Ui.has(i))){t=Ls(n,t),t=LE(e,t,1),e=ji(e,t,1),t=Rt(),e!==null&&(el(e,1,t),Wt(e,t));break}}e=e.return}}function hk(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ft&n)===n&&(Ze===4||Ze===3&&(ft&130023424)===ft&&500>qe()-eg?kr(t,0):Zp|=n),Wt(t,e)}function n1(t,e){e===0&&(t.mode&1?(e=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):e=1);var n=Rt();t=ci(t,e),t!==null&&(el(t,e,n),Wt(t,n))}function dk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n1(t,n)}function fk(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),n1(t,n)}var i1;i1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,ek(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Oe&&e.flags&1048576&&aE(e,tu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;kc(t,e),t=e.pendingProps;var r=Ms(e,kt.current);Is(e,n),r=Kp(null,e,i,t,r,n);var s=Gp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(i)?(s=!0,Zc(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,zp(e),r.updater=Ku,e.stateNode=r,r._reactInternals=e,gf(e,i,t,n),e=_f(null,e,i,!0,s,n)):(e.tag=0,Oe&&s&&Op(e),Pt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(kc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=gk(i),t=yn(i,t),r){case 0:e=yf(null,e,i,t,n);break e;case 1:e=r_(null,e,i,t,n);break e;case 11:e=n_(null,e,i,t,n);break e;case 14:e=i_(null,e,i,yn(i.type,t),n);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),yf(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),r_(t,e,i,r,n);case 3:e:{if(UE(e),t===null)throw Error(z(387));i=e.pendingProps,s=e.memoizedState,r=s.element,fE(t,e),ru(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ls(Error(z(423)),e),e=s_(t,e,i,n,r);break e}else if(i!==r){r=Ls(Error(z(424)),e),e=s_(t,e,i,n,r);break e}else for(Gt=Fi(e.stateNode.containerInfo.firstChild),Yt=e,Oe=!0,vn=null,n=hE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ds(),i===r){e=ui(t,e,n);break e}Pt(t,e,i,n)}e=e.child}return e;case 5:return pE(e),t===null&&df(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,af(i,r)?o=null:s!==null&&af(i,s)&&(e.flags|=32),jE(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&df(e),null;case 13:return BE(t,e,n);case 4:return Wp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ns(e,null,i,n):Pt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),n_(t,e,i,r,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ce(nu,i._currentValue),i._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===r.children&&!Bt.current){e=ui(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=si(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ff(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ff(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Is(e,n),r=cn(r),i=i(r),e.flags|=1,Pt(t,e,i,n),e.child;case 14:return i=e.type,r=yn(i,e.pendingProps),r=yn(i.type,r),i_(t,e,i,r,n);case 15:return VE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:yn(i,r),kc(t,e),e.tag=1,zt(i)?(t=!0,Zc(e)):t=!1,Is(e,n),NE(e,i,r),gf(e,i,r,n),_f(null,e,i,!0,t,n);case 19:return zE(t,e,n);case 22:return FE(t,e,n)}throw Error(z(156,e.tag))};function r1(t,e){return Rw(t,e)}function pk(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,i){return new pk(t,e,n,i)}function rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gk(t){if(typeof t=="function")return rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sp)return 11;if(t===Ip)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pc(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")rg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cs:return br(n.children,r,s,e);case Tp:o=8,r|=8;break;case Fd:return t=sn(12,n,e,r|2),t.elementType=Fd,t.lanes=s,t;case jd:return t=sn(13,n,e,r),t.elementType=jd,t.lanes=s,t;case Ud:return t=sn(19,n,e,r),t.elementType=Ud,t.lanes=s,t;case pw:return Yu(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dw:o=10;break e;case fw:o=9;break e;case Sp:o=11;break e;case Ip:o=14;break e;case xi:o=16,i=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=sn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function br(t,e,n,i){return t=sn(7,t,i,e),t.lanes=n,t}function Yu(t,e,n,i){return t=sn(22,t,i,e),t.elementType=pw,t.lanes=n,t.stateNode={isHidden:!1},t}function fd(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function pd(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mk(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function sg(t,e,n,i,r,s,o,a,l){return t=new mk(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zp(s),t}function yk(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function s1(t){if(!t)return Qi;t=t._reactInternals;e:{if(qr(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(zt(n))return sE(t,n,e)}return e}function o1(t,e,n,i,r,s,o,a,l){return t=sg(n,i,!0,t,r,s,o,a,l),t.context=s1(null),n=t.current,i=Rt(),r=Bi(n),s=si(i,r),s.callback=e??null,ji(n,s,r),t.current.lanes=r,el(t,r,i),Wt(t,i),t}function Xu(t,e,n,i){var r=e.current,s=Rt(),o=Bi(r);return n=s1(n),e.context===null?e.context=n:e.pendingContext=n,e=si(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ji(r,e,o),t!==null&&(Sn(t,r,o,s),Ic(t,r,o)),o}function du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function og(t,e){g_(t,e),(t=t.alternate)&&g_(t,e)}function _k(){return null}var a1=typeof reportError=="function"?reportError:function(t){console.error(t)};function ag(t){this._internalRoot=t}Ju.prototype.render=ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Xu(t,e,null,null)};Ju.prototype.unmount=ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lr(function(){Xu(null,t,null,null)}),e[li]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&Uw(t)}};function lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function m_(){}function vk(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=du(o);s.call(u)}}var o=o1(e,i,t,0,null,!1,!1,"",m_);return t._reactRootContainer=o,t[li]=o.current,Aa(t.nodeType===8?t.parentNode:t),Lr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=du(l);a.call(u)}}var l=sg(t,0,!1,null,null,!1,!1,"",m_);return t._reactRootContainer=l,t[li]=l.current,Aa(t.nodeType===8?t.parentNode:t),Lr(function(){Xu(e,l,n,i)}),l}function eh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=du(o);a.call(l)}}Xu(e,o,t,r)}else o=vk(n,e,t,r,i);return du(o)}Lw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uo(e.pendingLanes);n!==0&&(kp(e,n|1),Wt(e,qe()),!(ge&6)&&(Vs=qe()+500,nr()))}break;case 13:Lr(function(){var i=ci(t,1);if(i!==null){var r=Rt();Sn(i,t,1,r)}}),og(t,1)}};bp=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var n=Rt();Sn(e,t,134217728,n)}og(t,134217728)}};Vw=function(t){if(t.tag===13){var e=Bi(t),n=ci(t,e);if(n!==null){var i=Rt();Sn(n,t,e,i)}og(t,e)}};Fw=function(){return Ee};jw=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};Yd=function(t,e,n){switch(e){case"input":if(Wd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Hu(i);if(!r)throw Error(z(90));mw(i),Wd(i,r)}}}break;case"textarea":_w(t,n);break;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}};xw=tg;Aw=Lr;var wk={usingClientEntryPoint:!1,Events:[nl,fs,Hu,Sw,Iw,tg]},Po={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ek={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cw(t),t===null?null:t.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||_k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{Uu=Zl.inject(Ek),Dn=Zl}catch{}}Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wk;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lg(e))throw Error(z(200));return yk(t,e,null,n)};Zt.createRoot=function(t,e){if(!lg(t))throw Error(z(299));var n=!1,i="",r=a1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=sg(t,1,!1,null,null,n,!1,i,r),t[li]=e.current,Aa(t.nodeType===8?t.parentNode:t),new ag(e)};Zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Cw(e),t=t===null?null:t.stateNode,t};Zt.flushSync=function(t){return Lr(t)};Zt.hydrate=function(t,e,n){if(!Zu(e))throw Error(z(200));return eh(null,t,e,!0,n)};Zt.hydrateRoot=function(t,e,n){if(!lg(t))throw Error(z(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=a1;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=o1(e,null,t,1,n??null,r,!1,s,o),t[li]=e.current,Aa(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ju(e)};Zt.render=function(t,e,n){if(!Zu(e))throw Error(z(200));return eh(null,t,e,!1,n)};Zt.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(z(40));return t._reactRootContainer?(Lr(function(){eh(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Zt.unstable_batchedUpdates=tg;Zt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Zu(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return eh(t,e,n,!1,i)};Zt.version="18.3.1-next-f1338f8080-20240426";function l1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l1)}catch(t){console.error(t)}}l1(),lw.exports=Zt;var Tk=lw.exports,c1,y_=Tk;c1=y_.createRoot,y_.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Oa.apply(this,arguments)}var Mi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mi||(Mi={}));const __="popstate";function Sk(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Pf("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:h1(r)}return xk(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ik(){return Math.random().toString(36).substr(2,8)}function v_(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n,i){return n===void 0&&(n=null),Oa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Js(e):e,{state:n,key:e&&e.key||i||Ik()})}function h1(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function xk(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Mi.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Oa({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Mi.Pop;let E=h(),_=E==null?null:E-u;u=E,l&&l({action:a,location:S.location,delta:_})}function p(E,_){a=Mi.Push;let y=Pf(S.location,E,_);u=h()+1;let I=v_(y,u),M=S.createHref(y);try{o.pushState(I,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(M)}s&&l&&l({action:a,location:S.location,delta:1})}function m(E,_){a=Mi.Replace;let y=Pf(S.location,E,_);u=h();let I=v_(y,u),M=S.createHref(y);o.replaceState(I,"",M),s&&l&&l({action:a,location:S.location,delta:0})}function w(E){let _=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof E=="string"?E:h1(E);return y=y.replace(/ $/,"%20"),et(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let S={get action(){return a},get location(){return t(r,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(__,d),l=E,()=>{r.removeEventListener(__,d),l=null}},createHref(E){return e(r,E)},createURL:w,encodeLocation(E){let _=w(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(E){return o.go(E)}};return S}var w_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(w_||(w_={}));function Ak(t,e,n){return n===void 0&&(n="/"),kk(t,e,n,!1)}function kk(t,e,n,i){let r=typeof e=="string"?Js(e):e,s=p1(r.pathname||"/",n);if(s==null)return null;let o=d1(t);bk(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=jk(s);a=Vk(o[l],u,i)}return a}function d1(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(et(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=Cr([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d1(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Ok(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of f1(s.path))r(s,o,l)}),e}function f1(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=f1(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lk(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Ck=/^:[\w-]+$/,Pk=3,Rk=2,Mk=1,Dk=10,Nk=-2,E_=t=>t==="*";function Ok(t,e){let n=t.split("/"),i=n.length;return n.some(E_)&&(i+=Nk),e&&(i+=Rk),n.filter(r=>!E_(r)).reduce((r,s)=>r+(Ck.test(s)?Pk:s===""?Mk:Dk),i)}function Lk(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function Vk(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=T_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!d&&u&&n&&!i[i.length-1].route.index&&(d=T_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Cr([s,d.pathname]),pathnameBase:$k(Cr([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Cr([s,d.pathnameBase]))}return o}function T_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Fk(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,h,d)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let S=a[d]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const w=a[d];return m&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Fk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function jk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return u1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function p1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Uk(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Js(t):t;return{pathname:n?n.startsWith("/")?n:Bk(n,e):e,search:qk(i),hash:Kk(r)}}function Bk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function gd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wk(t,e){let n=zk(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Hk(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Js(t):(r=Oa({},t),et(!r.pathname||!r.pathname.includes("?"),gd("?","pathname","search",r)),et(!r.pathname||!r.pathname.includes("#"),gd("#","pathname","hash",r)),et(!r.search||!r.search.includes("#"),gd("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;r.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=Uk(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Cr=t=>t.join("/").replace(/\/\/+/g,"/"),$k=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const g1=["post","put","patch","delete"];new Set(g1);const Qk=["get",...g1];new Set(Qk);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},La.apply(this,arguments)}const cg=j.createContext(null),Yk=j.createContext(null),th=j.createContext(null),nh=j.createContext(null),Zs=j.createContext({outlet:null,matches:[],isDataRoute:!1}),m1=j.createContext(null);function ih(){return j.useContext(nh)!=null}function y1(){return ih()||et(!1),j.useContext(nh).location}function _1(t){j.useContext(th).static||j.useLayoutEffect(t)}function rh(){let{isDataRoute:t}=j.useContext(Zs);return t?cb():Xk()}function Xk(){ih()||et(!1);let t=j.useContext(cg),{basename:e,future:n,navigator:i}=j.useContext(th),{matches:r}=j.useContext(Zs),{pathname:s}=y1(),o=JSON.stringify(Wk(r,n.v7_relativeSplatPath)),a=j.useRef(!1);return _1(()=>{a.current=!0}),j.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let d=Hk(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Cr([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,t])}function Jk(t,e){return Zk(t,e)}function Zk(t,e,n,i){ih()||et(!1);let{navigator:r}=j.useContext(th),{matches:s}=j.useContext(Zs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=y1(),h;if(e){var d;let E=typeof e=="string"?Js(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||et(!1),h=E}else h=u;let p=h.pathname||"/",m=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=Ak(t,{pathname:m}),S=rb(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Cr([l,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Cr([l,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,i);return e&&S?j.createElement(nh.Provider,{value:{location:La({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Mi.Pop}},S):S}function eb(){let t=lb(),e=Gk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,null)}const tb=j.createElement(eb,null);class nb extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Zs.Provider,{value:this.props.routeContext},j.createElement(m1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ib(t){let{routeContext:e,match:n,children:i}=t,r=j.useContext(cg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Zs.Provider,{value:e},i)}function rb(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||et(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:p,errors:m}=n,w=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,p)=>{let m,w=!1,S=null,E=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,S=d.route.errorElement||tb,l&&(u<0&&p===0?(w=!0,E=null):u===p&&(w=!0,E=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let I;return m?I=S:w?I=E:d.route.Component?I=j.createElement(d.route.Component,null):d.route.element?I=d.route.element:I=h,j.createElement(ib,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:I})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(nb,{location:n.location,revalidation:n.revalidation,component:S,error:m,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var v1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(v1||{}),fu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fu||{});function sb(t){let e=j.useContext(cg);return e||et(!1),e}function ob(t){let e=j.useContext(Yk);return e||et(!1),e}function ab(t){let e=j.useContext(Zs);return e||et(!1),e}function w1(t){let e=ab(),n=e.matches[e.matches.length-1];return n.route.id||et(!1),n.route.id}function lb(){var t;let e=j.useContext(m1),n=ob(fu.UseRouteError),i=w1(fu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function cb(){let{router:t}=sb(v1.UseNavigateStable),e=w1(fu.UseNavigateStable),n=j.useRef(!1);return _1(()=>{n.current=!0}),j.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,La({fromRouteId:e},s)))},[t,e])}function $n(t){et(!1)}function ub(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Mi.Pop,navigator:s,static:o=!1,future:a}=t;ih()&&et(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:s,static:o,future:La({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Js(i));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:w="default"}=i,S=j.useMemo(()=>{let E=p1(h,l);return E==null?null:{location:{pathname:E,search:d,hash:p,state:m,key:w},navigationType:r}},[l,h,d,p,m,w,r]);return S==null?null:j.createElement(th.Provider,{value:u},j.createElement(nh.Provider,{children:n,value:S}))}function hb(t){let{children:e,location:n}=t;return Jk(Rf(e),n)}new Promise(()=>{});function Rf(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(i,r)=>{if(!j.isValidElement(i))return;let s=[...e,r];if(i.type===j.Fragment){n.push.apply(n,Rf(i.props.children,s));return}i.type!==$n&&et(!1),!i.props.index||!i.props.children||et(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Rf(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const db="6";try{window.__reactRouterVersion=db}catch{}const fb="startTransition",S_=hx[fb];function pb(t){let{basename:e,children:n,future:i,window:r}=t,s=j.useRef();s.current==null&&(s.current=Sk({window:r,v5Compat:!0}));let o=s.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},h=j.useCallback(d=>{u&&S_?S_(()=>l(d)):l(d)},[l,u]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.createElement(ub,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}var I_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(I_||(I_={}));var x_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(x_||(x_={}));const gb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAC9UlEQVR4nL1WW08TQRTeN/H6ZoLxzQQTHyD64j8x6rsQg+ClGBAwUYwFuZQZEmIUIfyKFsoC5drtTPoA6pOPGh+ExKB0d86gyZizS2OBlj3bVCf5ksnOmfm+nTnzzbEsYhvLmXMsp29zCe+YAMkEbDEBe/vAvuQSJrjUtwbXzFmrVm1EwGUuYIoJcLnUhgKMZRImuQMNVRMnsuYkk3qES/hFJS4jZI8LPTSdMXWRyLkDDUzAh2qJjwiR4IzmCxdI5GNSX8MzrRX5XxH6C3d0E+XPt2pNXipiXBTqy5JPZ0wdk7Dxr8hLjiOP+XVEAPMTjrZIfE2bzkUwD+aUj84FMC/XIwgRuu/oVZPh2T6SA/PQVuZO0isLHEsIoNyO3QNHwQVMhU0aFdq0pSuTF9GeVn5s+E7A6yDr0eEIJtOdCScvAmPDjwEKvmMG9hry91KblhSNHIGxjLALTOqbFnp7WGD/OpDJi8A5hFx4awWPyPGBL1ajC8A5hCvpYAJuU65dVAFxwg5wqb+hAE25AVFyoDnlkW4CEwAkAQg0G6qArkXCLSgRsE0JRoNpnQ0nx5hEjrT9wREwQhIWMZzTvtFUNKE55cdQ1wuSMCijyJO40KZvBUxsXpl7s56PmK38bzgWbS14Y2ENF2lSLSH0DWv8ozmDtvj/yaGA3PtPMUzSz02bQScwp+crAbA/5ARjdBEwcbgS2jtuAhpLx7wyd2cqJyGOPV5Q4SYkQI9KdelgOSb0ULnggSyY+3P0l7AInPOqghAm9UClkswpDexdBtMckfiAIyY907t0WARkxz6ZE2XrwnFRqOdCf2YRnS8MWL7hmkzor4msezGkMtZN3UuwUyvyInoyaieR140WpT114Ep72vteK/K2tPejJ124akVpwxvmdMx2l5tTbtXE+IJ2zLurz/LmVCRyq3Q37N3GmO1ttCTpQjA2ZnubPcvu9aqJD7f4ijnftaT6Y7b3vi3t/WydcX8jEQL7+O2RrTafLKg4xlIX/gNgraDG7h2CHgAAAABJRU5ErkJggg==",E1=()=>{const t=JSON.parse(localStorage.getItem("user"))||{},{userId:e,userName:n,profilePhoto:i,isAuth:r}=t;return{userId:e,userName:n,profilePhoto:i,isAuth:r}},mb=({totalCoins:t})=>{const e=rh(),{userId:n,userName:i,profilePhoto:r,isAuth:s}=E1();return P.jsxs("header",{className:"div",children:[P.jsx("h1",{children:"Little Bankers"}),P.jsxs("nav",{children:[P.jsx("button",{onClick:()=>e("/Little-Bankers/dashboard"),children:"Home"}),P.jsx("button",{onClick:()=>e("/Little-Bankers/quiz"),children:"Quiz"}),P.jsx("button",{onClick:()=>e("/Little-Bankers/simulation"),children:"Money Game"})]}),P.jsxs("div",{className:"header-right",children:[P.jsxs("div",{className:"coin-counter",children:[P.jsx("span",{role:"img","aria-label":"coin",children:"🪙"})," ",t]}),P.jsx("button",{onClick:()=>e(s?"/Little-Bankers/dashboard":"/Little-Bankers/login-page"),className:"profile-icon","aria-label":"Profile",children:P.jsx("img",{src:s&&r?r:gb,alt:s&&i?`${i}'s Profile`:"Default Profile",className:"profile-pic"})})]})]})},A_=()=>{const t=rh(),e=()=>{t("/Little-Bankers/quiz")},n=()=>{t("/Little-Bankers/simulation")};return P.jsxs("div",{className:"dashboard",children:[P.jsx("div",{className:"parallax-bg"}),P.jsx("h2",{className:"animated-title",children:"Welcome to Little Bankers"}),P.jsx("p",{className:"subtitle",children:"Empowering young minds with financial wisdom"}),P.jsxs("div",{className:"dashboard-cards",children:[P.jsxs("div",{className:"card5",onClick:e,children:[P.jsxs("div",{className:"card-content",children:[P.jsx("h3",{children:"Quiz Challenge"}),P.jsx("p",{children:"Test your financial knowledge and earn rewards"})]}),P.jsxs("div",{className:"card-icon",children:[P.jsx("span",{role:"img","aria-label":"quiz",children:"❓"})," "]})]}),P.jsxs("div",{className:"card5",onClick:n,children:[P.jsxs("div",{className:"card-content",children:[P.jsx("h3",{children:"Money Management Simulation"}),P.jsx("p",{children:"Practice budgeting and investment strategies"})]}),P.jsxs("div",{className:"card-icon",children:[P.jsx("span",{role:"img","aria-label":"money",children:"🐷"})," "]})]})]})]})},yb=({onComplete:t,onEarnCoins:e})=>{const[n,i]=j.useState(0),[r,s]=j.useState(0),[o,a]=j.useState(!1),[l,u]=j.useState(10),[h,d]=j.useState(""),[p,m]=j.useState(""),[w,S]=j.useState(!1),[E,_]=j.useState(!1),y=[{question:"What is the money you save for future use called?",options:["Investment","Spending","Savings","Debt"],correctAnswer:2},{question:"What is the name for a plan that helps you decide how to spend your money?",options:["Shopping list","Schedule","Budget","Savings account"],correctAnswer:2},{question:"What should you do if you want to save more money?",options:["Spend it quickly","Keep it in a piggy bank","Borrow more","Give it away"],correctAnswer:1},{question:"Which of these is a good way to track your spending?",options:["Guessing","Writing it down","Not caring","Asking a friend"],correctAnswer:1},{question:"If you lend money to a friend, what is that called?",options:["Earning","Saving","Lending","Investing"],correctAnswer:2},{question:"What do you call the money you owe someone?",options:["Debt","Income","Savings","Bonus"],correctAnswer:0},{question:"Why is it important to save money?",options:["To buy expensive things","For emergencies","To spend later","To impress friends"],correctAnswer:1},{question:"Which of these is a safe place to keep your savings?",options:["In a wallet","In a bank","Under your bed","With a friend"],correctAnswer:1},{question:"What is the best way to avoid running out of money?",options:["Spend less than you earn","Borrow often","Spend everything","Save nothing"],correctAnswer:0},{question:"What happens when you spend more money than you have?",options:["You save","You go into debt","You get richer","You have more money"],correctAnswer:1}];j.useEffect(()=>{if(l>0&&!o&&!w){const N=setInterval(()=>{u(V=>V-1)},1e3);return()=>clearInterval(N)}else l===0&&I(-1)},[l,o,w]);const I=N=>{if(E)return;const V=y[n].correctAnswer,x=5;N===V?(s(v=>v+x),e(x),d(`Correct! You earned ${x} points.`),m("green")):(d(`Incorrect. The correct answer is: ${y[n].options[V]}. You earned 0 points.`),m("red")),_(!0),S(!0),u(10)},M=()=>{const N=n+1;N<y.length?(i(N),S(!1),d(""),_(!1)):(a(!0),t(r))};return P.jsx("div",{className:"quiz",children:o?P.jsxs("div",{className:"score-section",children:[P.jsx("h2",{children:"Quiz Complete!"}),P.jsxs("p",{children:["You scored ",r," out of ",y.length,"!"]}),P.jsxs("p",{children:["You earned a total of ",r," coins!"]}),P.jsx("span",{role:"img","aria-label":"celebration",style:{fontSize:"3rem"},children:"🎉"})]}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"question-section",children:[P.jsxs("div",{className:"question-count",children:["Question ",n+1,"/",y.length]}),P.jsx("div",{className:"question-text",children:y[n].question})]}),P.jsxs("div",{className:"timer-container",children:[P.jsx("div",{className:"loading-bar1",style:{width:`${l/10*100}%`,height:"20px"}}),P.jsxs("div",{className:"timer-text",children:[l,"s"]})]}),P.jsx("div",{className:"answer-section",children:y[n].options.map((N,V)=>P.jsx("button",{onClick:()=>I(V),children:N},V))}),h&&P.jsx("div",{style:{color:p,marginTop:"10px",fontWeight:"bold"},children:h}),w&&P.jsx("button",{onClick:M,style:{marginTop:"20px",padding:"10px 20px",fontSize:"16px",color:"white"},children:"Next"})]})})},_b=()=>{const t=rh(),[e,n]=j.useState(null),i=[{id:"chores",title:"Stock Starters",description:"An interactive Game for learning about Stocks",image:"https://firebasestorage.googleapis.com/v0/b/image-upload-ac665.appspot.com/o/images%2FWhatsApp%20Image%202024-10-19%20at%2013.24.51_dd05dac4.jpg1365e1fd-1204-47b7-a5bf-4548f49a136f?alt=media&token=c201e7d0-5909-441f-89a0-e913957ce6ec"},{id:"spending",title:"Flip the Cards",description:"Learn About Money of Different countries",image:"https://firebasestorage.googleapis.com/v0/b/image-upload-ac665.appspot.com/o/images%2FWhatsApp%20Image%202024-10-19%20at%2013.42.58_793c4a84.jpg678f55f3-32a2-49fc-a7d1-15cce008bfac?alt=media&token=c3e4108c-3600-48be-9f77-7a091cb8d3cb"},{id:"saving",title:"Guess Me",description:"Guess Different Finance Related Image and earn coins",image:"https://firebasestorage.googleapis.com/v0/b/image-upload-ac665.appspot.com/o/images%2FWhatsApp%20Image%202024-10-19%20at%2014.19.05_317ae2ab.jpgb2d0d6db-64fe-4e6c-b8ff-44cf2f0a3ec2?alt=media&token=1568f36d-2683-4cc8-99ee-2537cf4b9d29"}];i[0].action=()=>t("/Little-Bankers/stock-market-game"),i[1].action=()=>t("/Little-Bankers/currency-match-game"),i[2].action=()=>t("/Little-Bankers/money-management");const r=o=>{n(o)},s=()=>{n(null)};return P.jsxs("div",{className:"financial-academy-container",children:[P.jsx("h2",{children:"Financial Academy - Money Management Games"}),P.jsx("div",{className:"games-grid",children:i.map(o=>P.jsxs("div",{className:"game-card",onClick:()=>r(o),children:[P.jsx("img",{src:o.image,alt:o.title,className:"game-image"}),P.jsxs("div",{className:"game-info1",children:[P.jsx("h3",{children:o.title}),P.jsx("p",{children:o.description})]})]},o.id))}),e&&P.jsx("div",{className:"game-modal",children:P.jsxs("div",{className:"modal-content1",children:[P.jsx("h3",{children:e.title}),P.jsx("p",{children:e.description}),P.jsx("button",{onClick:e.action,children:"Start Game"}),P.jsx("button",{onClick:s,className:"close-button",children:"Close"})]})})]})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T1=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>j.createElement("svg",{ref:l,...wb,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:T1("lucide",r),...a},[...o.map(([u,h])=>j.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=(t,e)=>{const n=j.forwardRef(({className:i,...r},s)=>j.createElement(Eb,{ref:s,iconNode:e,className:T1(`lucide-${vb(t)}`,i),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Kr("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Kr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Kr("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Kr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Kr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Kr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Kr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function rl(t){return t+.5|0}const Di=(t,e,n)=>Math.max(Math.min(t,n),e);function zo(t){return Di(rl(t*2.55),0,255)}function Wi(t){return Di(rl(t*255),0,255)}function Yn(t){return Di(rl(t/2.55)/100,0,1)}function k_(t){return Di(rl(t*100),0,100)}const tn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mf=[..."0123456789ABCDEF"],Cb=t=>Mf[t&15],Pb=t=>Mf[(t&240)>>4]+Mf[t&15],ec=t=>(t&240)>>4===(t&15),Rb=t=>ec(t.r)&&ec(t.g)&&ec(t.b)&&ec(t.a);function Mb(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&tn[t[1]]*17,g:255&tn[t[2]]*17,b:255&tn[t[3]]*17,a:e===5?tn[t[4]]*17:255}:(e===7||e===9)&&(n={r:tn[t[1]]<<4|tn[t[2]],g:tn[t[3]]<<4|tn[t[4]],b:tn[t[5]]<<4|tn[t[6]],a:e===9?tn[t[7]]<<4|tn[t[8]]:255})),n}const Db=(t,e)=>t<255?e(t):"";function Nb(t){var e=Rb(t)?Cb:Pb;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Db(t.a,e):void 0}const Ob=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function S1(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Lb(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Vb(t,e,n){const i=S1(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Fb(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function ug(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,u,h;return s!==o&&(h=s-o,u=a>.5?h/(2-s-o):h/(s+o),l=Fb(n,i,r,h,s),l=l*60+.5),[l|0,u||0,a]}function hg(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Wi)}function dg(t,e,n){return hg(S1,t,e,n)}function jb(t,e,n){return hg(Vb,t,e,n)}function Ub(t,e,n){return hg(Lb,t,e,n)}function I1(t){return(t%360+360)%360}function Bb(t){const e=Ob.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?zo(+e[5]):Wi(+e[5]));const r=I1(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=jb(r,s,o):e[1]==="hsv"?i=Ub(r,s,o):i=dg(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function zb(t,e){var n=ug(t);n[0]=I1(n[0]+e),n=dg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Wb(t){if(!t)return;const e=ug(t),n=e[0],i=k_(e[1]),r=k_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Yn(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const b_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},C_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hb(){const t={},e=Object.keys(C_),n=Object.keys(b_);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,b_[s]);s=parseInt(C_[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let tc;function $b(t){tc||(tc=Hb(),tc.transparent=[0,0,0,0]);const e=tc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qb=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Kb(t){const e=qb.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?zo(o):Di(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?zo(i):Di(i,0,255)),r=255&(e[4]?zo(r):Di(r,0,255)),s=255&(e[6]?zo(s):Di(s,0,255)),{r:i,g:r,b:s,a:n}}}function Gb(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Yn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const md=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,rs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Qb(t,e,n){const i=rs(Yn(t.r)),r=rs(Yn(t.g)),s=rs(Yn(t.b));return{r:Wi(md(i+n*(rs(Yn(e.r))-i))),g:Wi(md(r+n*(rs(Yn(e.g))-r))),b:Wi(md(s+n*(rs(Yn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function nc(t,e,n){if(t){let i=ug(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=dg(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function x1(t,e){return t&&Object.assign(e||{},t)}function P_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wi(t[3]))):(e=x1(t,{r:0,g:0,b:0,a:1}),e.a=Wi(e.a)),e}function Yb(t){return t.charAt(0)==="r"?Kb(t):Bb(t)}class Va{constructor(e){if(e instanceof Va)return e;const n=typeof e;let i;n==="object"?i=P_(e):n==="string"&&(i=Mb(e)||$b(e)||Yb(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=x1(this._rgb);return e&&(e.a=Yn(e.a)),e}set rgb(e){this._rgb=P_(e)}rgbString(){return this._valid?Gb(this._rgb):void 0}hexString(){return this._valid?Nb(this._rgb):void 0}hslString(){return this._valid?Wb(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Qb(this._rgb,e._rgb,n)),this}clone(){return new Va(this.rgb)}alpha(e){return this._rgb.a=Wi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=rl(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return nc(this._rgb,2,e),this}darken(e){return nc(this._rgb,2,-e),this}saturate(e){return nc(this._rgb,1,e),this}desaturate(e){return nc(this._rgb,1,-e),this}rotate(e){return zb(this._rgb,e),this}}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Hn(){}const Xb=(()=>{let t=0;return()=>t++})();function We(t){return t===null||typeof t>"u"}function st(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _e(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function hn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function bn(t,e){return hn(t)?t:e}function fe(t,e){return typeof t>"u"?e:t}const Jb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Me(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function we(t,e,n,i){let r,s,o;if(st(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(_e(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function pu(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function gu(t){if(st(t))return t.map(gu);if(_e(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=gu(t[n[r]]);return e}return t}function A1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Zb(t,e,n,i){if(!A1(t))return;const r=e[t],s=n[t];_e(r)&&_e(s)?Fa(r,s,i):e[t]=gu(s)}function Fa(t,e,n){const i=st(e)?e:[e],r=i.length;if(!_e(t))return t;n=n||{};const s=n.merger||Zb;let o;for(let a=0;a<r;++a){if(o=i[a],!_e(o))continue;const l=Object.keys(o);for(let u=0,h=l.length;u<h;++u)s(l[u],t,o,n)}return t}function aa(t,e){return Fa(t,e,{merger:eC})}function eC(t,e,n){if(!A1(t))return;const i=e[t],r=n[t];_e(i)&&_e(r)?aa(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=gu(r))}const R_={"":t=>t,x:t=>t.x,y:t=>t.y};function tC(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function nC(t){const e=tC(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function mu(t,e){return(R_[e]||(R_[e]=nC(e)))(t)}function fg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yu=t=>typeof t<"u",Yi=t=>typeof t=="function",M_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function iC(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const at=Math.PI,On=2*at,rC=On+at,_u=Number.POSITIVE_INFINITY,sC=at/180,wn=at/2,dr=at/4,D_=at*2/3,Df=Math.log10,Fs=Math.sign;function la(t,e,n){return Math.abs(t-e)<n}function N_(t){const e=Math.round(t);t=la(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Df(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function oC(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function ja(t){return!isNaN(parseFloat(t))&&isFinite(t)}function aC(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function lC(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Sr(t){return t*(at/180)}function cC(t){return t*(180/at)}function O_(t){if(!hn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function uC(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*at&&(s+=On),{angle:s,distance:r}}function Nf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hC(t,e){return(t-e+rC)%On-at}function Ii(t){return(t%On+On)%On}function k1(t,e,n,i){const r=Ii(t),s=Ii(e),o=Ii(n),a=Ii(s-r),l=Ii(o-r),u=Ii(r-s),h=Ii(r-o);return r===s||r===o||i&&s===o||a>l&&u<h}function on(t,e,n){return Math.max(e,Math.min(n,t))}function dC(t){return on(t,-32768,32767)}function Wo(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function pg(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Ir=(t,e,n,i)=>pg(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),fC=(t,e,n)=>pg(t,n,i=>t[i][e]>=n);function pC(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const b1=["push","pop","shift","splice","unshift"];function gC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),b1.forEach(n=>{const i="_onData"+fg(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function L_(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(b1.forEach(s=>{delete t[s]}),delete t._chartjs)}function mC(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const C1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function P1(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,C1.call(window,()=>{i=!1,t.apply(e,n)}))}}function yC(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const gg=t=>t==="start"?"left":t==="end"?"right":"center",Tt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_C=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function vC(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:u,max:h,minDefined:d,maxDefined:p}=o.getUserBounds();d&&(r=on(Math.min(Ir(a,l,u).lo,n?i:Ir(e,l,o.getPixelForValue(u)).lo),0,i-1)),p?s=on(Math.max(Ir(a,o.axis,h,!0).hi+1,n?0:Ir(e,l,o.getPixelForValue(h),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function wC(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const ic=t=>t===0||t===1,V_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*On/n)),F_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*On/n)+1,ca={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*wn)+1,easeOutSine:t=>Math.sin(t*wn),easeInOutSine:t=>-.5*(Math.cos(at*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ic(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ic(t)?t:V_(t,.075,.3),easeOutElastic:t=>ic(t)?t:F_(t,.075,.3),easeInOutElastic(t){return ic(t)?t:t<.5?.5*V_(t*2,.1125,.45):.5+.5*F_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ca.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ca.easeInBounce(t*2)*.5:ca.easeOutBounce(t*2-1)*.5+.5};function mg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function j_(t){return mg(t)?t:new Va(t)}function yd(t){return mg(t)?t:new Va(t).saturate(.5).darken(.1).hexString()}const EC=["x","y","borderWidth","radius","tension"],TC=["color","borderColor","backgroundColor"];function SC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:TC},numbers:{type:"number",properties:EC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function IC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const U_=new Map;function xC(t,e){e=e||{};const n=t+JSON.stringify(e);let i=U_.get(n);return i||(i=new Intl.NumberFormat(t,e),U_.set(n,i)),i}function R1(t,e,n){return xC(e,n).format(t)}const M1={values(t){return st(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=AC(t,n)}const o=Df(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),R1(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Df(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?M1.numeric.call(this,t,e,n):""}};function AC(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var D1={formatters:M1};function kC(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:D1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Vr=Object.create(null),Of=Object.create(null);function ua(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function _d(t,e,n){return typeof e=="string"?Fa(ua(t,e),n):Fa(ua(t,""),e)}class bC{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>yd(r.backgroundColor),this.hoverBorderColor=(i,r)=>yd(r.borderColor),this.hoverColor=(i,r)=>yd(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return _d(this,e,n)}get(e){return ua(this,e)}describe(e,n){return _d(Of,e,n)}override(e,n){return _d(Vr,e,n)}route(e,n,i,r){const s=ua(this,e),o=ua(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return _e(l)?Object.assign({},u,l):fe(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ke=new bC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SC,IC,kC]);function CC(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function B_(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function fr(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function z_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Lf(t,e,n,i){N1(t,e,n,i,null)}function N1(t,e,n,i,r){let s,o,a,l,u,h,d,p;const m=e.pointStyle,w=e.rotation,S=e.radius;let E=(w||0)*sC;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(E),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),m){default:r?t.ellipse(n,i,r/2,S,0,0,On):t.arc(n,i,S,0,On),t.closePath();break;case"triangle":h=r?r/2:S,t.moveTo(n+Math.sin(E)*h,i-Math.cos(E)*S),E+=D_,t.lineTo(n+Math.sin(E)*h,i-Math.cos(E)*S),E+=D_,t.lineTo(n+Math.sin(E)*h,i-Math.cos(E)*S),t.closePath();break;case"rectRounded":u=S*.516,l=S-u,o=Math.cos(E+dr)*l,d=Math.cos(E+dr)*(r?r/2-u:l),a=Math.sin(E+dr)*l,p=Math.sin(E+dr)*(r?r/2-u:l),t.arc(n-d,i-a,u,E-at,E-wn),t.arc(n+p,i-o,u,E-wn,E),t.arc(n+d,i+a,u,E,E+wn),t.arc(n-p,i+o,u,E+wn,E+at),t.closePath();break;case"rect":if(!w){l=Math.SQRT1_2*S,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}E+=dr;case"rectRot":d=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,a=Math.sin(E)*S,p=Math.sin(E)*(r?r/2:S),t.moveTo(n-d,i-a),t.lineTo(n+p,i-o),t.lineTo(n+d,i+a),t.lineTo(n-p,i+o),t.closePath();break;case"crossRot":E+=dr;case"cross":d=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,a=Math.sin(E)*S,p=Math.sin(E)*(r?r/2:S),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"star":d=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,a=Math.sin(E)*S,p=Math.sin(E)*(r?r/2:S),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o),E+=dr,d=Math.cos(E)*(r?r/2:S),o=Math.cos(E)*S,a=Math.sin(E)*S,p=Math.sin(E)*(r?r/2:S),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+p,i-o),t.lineTo(n-p,i+o);break;case"line":o=r?r/2:Math.cos(E)*S,a=Math.sin(E)*S,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(E)*(r?r/2:S),i+Math.sin(E)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ua(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function yg(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function _g(t){t.restore()}function PC(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function RC(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function MC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function DC(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function NC(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ba(t,e,n,i,r,s={}){const o=st(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,MC(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&NC(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),We(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,i,s.maxWidth)),t.fillText(u,n,i,s.maxWidth),DC(t,n,i,u,s),i+=Number(r.lineHeight);t.restore()}function Vf(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*at,at,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,at,wn,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,wn,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-wn,!0),t.lineTo(n+o.topLeft,i)}const OC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,LC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VC(t,e){const n=(""+t).match(OC);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const FC=t=>+t||0;function O1(t,e){const n={},i=_e(e),r=i?Object.keys(e):e,s=_e(t)?i?o=>fe(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=FC(s(o));return n}function jC(t){return O1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ha(t){return O1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function dn(t){const e=jC(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function At(t,e){t=t||{},e=e||Ke.font;let n=fe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=fe(t.style,e.style);i&&!(""+i).match(LC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:fe(t.family,e.family),lineHeight:VC(fe(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:fe(t.weight,e.weight),string:""};return r.string=CC(r),r}function rc(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function UC(t,e,n){const{min:i,max:r}=t,s=Jb(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Gr(t,e){return Object.assign(Object.create(t),e)}function vg(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=j1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>vg([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return V1(a,l,()=>GC(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return H_(a).includes(l)},ownKeys(a){return H_(a)},set(a,l,u){const h=a._storage||(a._storage=r());return a[l]=h[l]=u,delete a._keys,!0}})}function js(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:L1(t,i),setContext:s=>js(t,s,n,i),override:s=>js(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return V1(s,o,()=>zC(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function L1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Yi(n)?n:()=>n,isIndexable:Yi(i)?i:()=>i}}const BC=(t,e)=>t?t+fg(e):e,wg=(t,e)=>_e(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function V1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function zC(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Yi(a)&&o.isScriptable(e)&&(a=WC(e,a,t,n)),st(a)&&a.length&&(a=HC(e,a,t,o.isIndexable)),wg(e,a)&&(a=js(a,r,s&&s[e],o)),a}function WC(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),wg(t,l)&&(l=Eg(r._scopes,r,t,l)),l}function HC(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(_e(e[0])){const l=e,u=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=Eg(u,r,t,h);e.push(js(d,s,o&&o[t],a))}}return e}function F1(t,e,n){return Yi(t)?t(e,n):t}const $C=(t,e)=>t===!0?e:typeof t=="string"?mu(e,t):void 0;function qC(t,e,n,i,r){for(const s of e){const o=$C(n,s);if(o){t.add(o);const a=F1(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Eg(t,e,n,i){const r=e._rootScopes,s=F1(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=W_(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=W_(a,o,s,l,i),l===null)?!1:vg(Array.from(a),[""],r,s,()=>KC(e,n,i))}function W_(t,e,n,i,r){for(;n;)n=qC(t,e,n,i,r);return n}function KC(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return st(r)&&_e(n)?n:r||{}}function GC(t,e,n,i){let r;for(const s of e)if(r=j1(BC(s,t),n),typeof r<"u")return wg(t,r)?Eg(n,i,t,r):r}function j1(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function H_(t){let e=t._keys;return e||(e=t._keys=QC(t._scopes)),e}function QC(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}const YC=Number.EPSILON||1e-14,Us=(t,e)=>e<t.length&&!t[e].skip&&t[e],U1=t=>t==="x"?"y":"x";function XC(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Nf(s,r),l=Nf(o,s);let u=a/(a+l),h=l/(a+l);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const d=i*u,p=i*h;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+p*(o.x-r.x),y:s.y+p*(o.y-r.y)}}}function JC(t,e,n){const i=t.length;let r,s,o,a,l,u=Us(t,0);for(let h=0;h<i-1;++h)if(l=u,u=Us(t,h+1),!(!l||!u)){if(la(e[h],0,YC)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=r*o*e[h],n[h+1]=s*o*e[h])}}function ZC(t,e,n="x"){const i=U1(n),r=t.length;let s,o,a,l=Us(t,0);for(let u=0;u<r;++u){if(o=a,a=l,l=Us(t,u+1),!a)continue;const h=a[n],d=a[i];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${i}`]=d-s*e[u]),l&&(s=(l[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${i}`]=d+s*e[u])}}function eP(t,e="x"){const n=U1(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,u=Us(t,0);for(o=0;o<i;++o)if(a=l,l=u,u=Us(t,o+1),!!l){if(u){const h=u[e]-l[e];r[o]=h!==0?(u[n]-l[n])/h:0}s[o]=a?u?Fs(r[o-1])!==Fs(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}JC(t,r,s),ZC(t,s,e)}function sc(t,e,n){return Math.max(Math.min(t,n),e)}function tP(t,e){let n,i,r,s,o,a=Ua(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Ua(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=sc(r.cp1x,e.left,e.right),r.cp1y=sc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=sc(r.cp2x,e.left,e.right),r.cp2y=sc(r.cp2y,e.top,e.bottom)))}function nP(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")eP(t,r);else{let u=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=XC(u,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&tP(t,n)}function Tg(){return typeof window<"u"&&typeof document<"u"}function Sg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vu(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const sh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function iP(t,e){return sh(t).getPropertyValue(e)}const rP=["top","right","bottom","left"];function Pr(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=rP[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const sP=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function oP(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(sP(r,s,t.target))a=r,l=s;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function yr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=sh(n),s=r.boxSizing==="border-box",o=Pr(r,"padding"),a=Pr(r,"border","width"),{x:l,y:u,box:h}=oP(t,n),d=o.left+(h&&a.left),p=o.top+(h&&a.top);let{width:m,height:w}=e;return s&&(m-=o.width+a.width,w-=o.height+a.height),{x:Math.round((l-d)/m*n.width/i),y:Math.round((u-p)/w*n.height/i)}}function aP(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Sg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=sh(s),l=Pr(a,"border","width"),u=Pr(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,i=vu(a.maxWidth,s,"clientWidth"),r=vu(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||_u,maxHeight:r||_u}}const oc=t=>Math.round(t*10)/10;function lP(t,e,n,i){const r=sh(t),s=Pr(r,"margin"),o=vu(r.maxWidth,t,"clientWidth")||_u,a=vu(r.maxHeight,t,"clientHeight")||_u,l=aP(t,e,n);let{width:u,height:h}=l;if(r.boxSizing==="content-box"){const p=Pr(r,"border","width"),m=Pr(r,"padding");u-=m.width+p.width,h-=m.height+p.height}return u=Math.max(0,u-s.width),h=Math.max(0,i?u/i:h-s.height),u=oc(Math.min(u,o,l.maxWidth)),h=oc(Math.min(h,a,l.maxHeight)),u&&!h&&(h=oc(u/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,u=oc(Math.floor(h*i))),{width:u,height:h}}function $_(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const cP=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Tg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function q_(t,e){const n=iP(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _r(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function uP(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function hP(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=_r(t,r,n),a=_r(r,s,n),l=_r(s,e,n),u=_r(o,a,n),h=_r(a,l,n);return _r(u,h,n)}const dP=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},fP=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function As(t,e,n){return t?dP(e,n):fP()}function B1(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function z1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function W1(t){return t==="angle"?{between:k1,compare:hC,normalize:Ii}:{between:Wo,compare:(e,n)=>e-n,normalize:e=>e}}function K_({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function pP(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=W1(i),l=e.length;let{start:u,end:h,loop:d}=t,p,m;if(d){for(u+=l,h+=l,p=0,m=l;p<m&&o(a(e[u%l][i]),r,s);++p)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:d,style:t.style}}function gP(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:u}=W1(i),{start:h,end:d,loop:p,style:m}=pP(t,e,n),w=[];let S=!1,E=null,_,y,I;const M=()=>l(r,I,_)&&a(r,I)!==0,N=()=>a(s,_)===0||l(s,I,_),V=()=>S||M(),x=()=>!S||N();for(let v=h,A=h;v<=d;++v)y=e[v%o],!y.skip&&(_=u(y[i]),_!==I&&(S=l(_,r,s),E===null&&V()&&(E=a(_,r)===0?v:A),E!==null&&x()&&(w.push(K_({start:E,end:v,loop:p,count:o,style:m})),E=null),A=v,I=_));return E!==null&&w.push(K_({start:E,end:d,loop:p,count:o,style:m})),w}function mP(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=gP(i[r],t.points,e);s.length&&n.push(...s)}return n}function yP(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function _P(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function vP(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=yP(n,r,s,i);if(i===!0)return G_(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,u=!!t._fullLoop&&o===0&&a===r-1;return G_(t,_P(n,o,l,u),n,e)}function G_(t,e,n,i){return!i||!i.setContext||!n?e:wP(t,e,n,i)}function wP(t,e,n,i){const r=t._chart.getContext(),s=Q_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let h=s,d=e[0].start,p=d;function m(w,S,E,_){const y=a?-1:1;if(w!==S){for(w+=l;n[w%l].skip;)w-=y;for(;n[S%l].skip;)S+=y;w%l!==S%l&&(u.push({start:w%l,end:S%l,loop:E,style:_}),h=_,d=S%l)}}for(const w of e){d=a?d:w.start;let S=n[d%l],E;for(p=d+1;p<=w.end;p++){const _=n[p%l];E=Q_(i.setContext(Gr(r,{type:"segment",p0:S,p1:_,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:o}))),EP(E,h)&&m(d,p-1,w.loop,h),S=_,h=E}d<p-1&&m(d,p-1,w.loop,h)}return u}function Q_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function EP(t,e){if(!e)return!1;const n=[],i=function(r,s){return mg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class TP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=C1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qn=new TP;const Y_="transparent",SP={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=j_(t||Y_),r=i.valid&&j_(e||Y_);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class IP{constructor(e,n,i,r){const s=n[i];r=rc([e.to,r,s,e.from]);const o=rc([e.from,s,r]);this._active=!0,this._fn=e.fn||SP[e.type||typeof o],this._easing=ca[e.easing]||ca.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=rc([e.to,n,r,e.from]),this._from=rc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class H1{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!_e(e))return;const n=Object.keys(Ke.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!_e(s))return;const o={};for(const a of n)o[a]=s[a];(st(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=AP(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&xP(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[u];let d=s[u];const p=i.get(u);if(d)if(p&&d.active()){d.update(p,h,a);continue}else d.cancel();if(!p||!p.duration){e[u]=h;continue}s[u]=d=new IP(p,e,u,h),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return qn.add(this._chart,i),!0}}function xP(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function AP(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function X_(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function kP(t,e,n){if(n===!1)return!1;const i=X_(t,n),r=X_(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function bP(t){let e,n,i,r;return _e(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function $1(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function J_(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,u;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}u=t.values[l],hn(u)&&(s||e===0||Fs(e)===Fs(u))&&(e+=u)}return e}}function CP(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,h;for(l=0,u=o.length;l<u;++l)h=o[l],a[l]={[r]:h,[s]:t[h]};return a}function vd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function PP(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function RP(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function MP(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Z_(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function ev(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,h=PP(s,o,i),d=e.length;let p;for(let m=0;m<d;++m){const w=e[m],{[l]:S,[u]:E}=w,_=w._stacks||(w._stacks={});p=_[u]=MP(r,h,S),p[a]=E,p._top=Z_(p,o,!0,i.type),p._bottom=Z_(p,o,!1,i.type);const y=p._visualValues||(p._visualValues={});y[a]=E}}function wd(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function DP(t,e){return Gr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function NP(t,e,n){return Gr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ro(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const Ed=t=>t==="reset"||t==="none",tv=(t,e)=>e?t:Object.assign({},t),OP=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:$1(n,!0),values:null};class da{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ro(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,p,m,w)=>d==="x"?p:d==="r"?w:m,s=n.xAxisID=fe(i.xAxisID,wd(e,"x")),o=n.yAxisID=fe(i.yAxisID,wd(e,"y")),a=n.rAxisID=fe(i.rAxisID,wd(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,s,o,a),h=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&L_(this._data,this),e._stacked&&Ro(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(_e(n)){const r=this._cachedMeta;this._data=CP(n,r)}else if(i!==n){if(i){L_(i,this);const r=this._cachedMeta;Ro(r),r._parsed=[]}n&&Object.isExtensible(n)&&gC(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=vd(n.vScale,n),n.stack!==i.stack&&(r=!0,Ro(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(ev(this,n._parsed),n._stacked=vd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,u=e>0&&i._parsed[e-1],h,d,p;if(this._parsing===!1)i._parsed=r,i._sorted=!0,p=r;else{st(r[e])?p=this.parseArrayData(i,r,e,n):_e(r[e])?p=this.parseObjectData(i,r,e,n):p=this.parsePrimitiveData(i,r,e,n);const m=()=>d[a]===null||u&&d[a]<u[a];for(h=0;h<n;++h)i._parsed[h+e]=d=p[h],l&&(m()&&(l=!1),u=d);i._sorted=l}o&&ev(this,p)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),h=s===o,d=new Array(r);let p,m,w;for(p=0,m=r;p<m;++p)w=p+i,d[p]={[a]:h||s.parse(u[w],w),[l]:o.parse(n[w],w)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,u,h,d;for(l=0,u=r;l<u;++l)h=l+i,d=n[h],a[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let h,d,p,m;for(h=0,d=r;h<d;++h)p=h+i,m=n[p],u[h]={x:s.parse(mu(m,a),p),y:o.parse(mu(m,l),p)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:$1(r,!0),values:n._stacks[e.axis]._visualValues};return J_(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=J_(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=OP(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=RP(a);let p,m;function w(){m=r[p];const S=m[a.axis];return!hn(m[e.axis])||h>S||d<S}for(p=0;p<o&&!(!w()&&(this.updateRangeFromParsed(u,e,m,l),s));++p);if(s){for(p=o-1;p>=0;--p)if(!w()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],hn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=bP(fe(this.options.clip,kP(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const d=r[h];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=NP(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=DP(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&yu(i);if(a)return tv(a,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],p=u.getOptionScopes(this.getDataset(),h),m=Object.keys(Ke.elements[e]),w=()=>this.getContext(i,r,n),S=u.resolveNamedOptions(p,m,w,d);return S.$shared&&(S.$shared=l,s[o]=Object.freeze(tv(S,l))),S}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),p=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(p,this.getContext(e,i,n))}const u=new H1(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ed(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){Ed(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!Ed(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Ro(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}oe(da,"defaults",{}),oe(da,"datasetElementType",null),oe(da,"dataElementType",null);class Rc extends da{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=vC(n,r,o);this._drawStart=a,this._drawCount=l,wC(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:u},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r),p=o.axis,m=a.axis,{spanGaps:w,segment:S}=this.options,E=ja(w)?w:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none",y=n+i,I=e.length;let M=n>0&&this.getParsed(n-1);for(let N=0;N<I;++N){const V=e[N],x=_?V:{};if(N<n||N>=y){x.skip=!0;continue}const v=this.getParsed(N),A=We(v[m]),k=x[p]=o.getPixelForValue(v[p],N),C=x[m]=s||A?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,v,l):v[m],N);x.skip=isNaN(k)||isNaN(C)||A,x.stop=N>0&&Math.abs(v[p]-M[p])>E,S&&(x.parsed=v,x.raw=u.data[N]),d&&(x.options=h||this.resolveDataElementOptions(N,V.active?"active":r)),_||this.updateElement(V,N,x,r),M=v}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}oe(Rc,"id","line"),oe(Rc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),oe(Rc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function pr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ig{constructor(e){oe(this,"options");this.options=e||{}}static override(e){Object.assign(Ig.prototype,e)}init(){}formats(){return pr()}parse(){return pr()}format(){return pr()}add(){return pr()}diff(){return pr()}startOf(){return pr()}endOf(){return pr()}}var LP={_date:Ig};function VP(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?fC:Ir;if(i){if(r._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=l(s,e,n-h),p=l(s,e,n+h);return{lo:d.lo,hi:p.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function sl(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:h}=s[a],{lo:d,hi:p}=VP(s[a],e,o,r);for(let m=d;m<=p;++m){const w=h[m];w.skip||i(w,u,m)}}}function FP(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Td(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||sl(t,n,e,function(a,l,u){!r&&!Ua(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function jP(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:d}=uC(o,{x:e.x,y:e.y});k1(d,u,h)&&r.push({element:o,datasetIndex:a,index:l})}return sl(t,n,e,s),r}function UP(t,e,n,i,r,s){let o=[];const a=FP(n);let l=Number.POSITIVE_INFINITY;function u(h,d,p){const m=h.inRange(e.x,e.y,r);if(i&&!m)return;const w=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(w))&&!m)return;const E=a(e,w);E<l?(o=[{element:h,datasetIndex:d,index:p}],l=E):E===l&&o.push({element:h,datasetIndex:d,index:p})}return sl(t,n,e,u),o}function Sd(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?jP(t,e,n,r):UP(t,e,n,i,r,s)}function nv(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return sl(t,n,e,(l,u,h)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:u,index:h}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var BP={evaluateInteractionItems:sl,modes:{index(t,e,n,i){const r=yr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Td(t,r,s,i,o):Sd(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=a[0].index,d=u.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:h})}),l):[]},dataset(t,e,n,i){const r=yr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Td(t,r,s,i,o):Sd(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let h=0;h<u.length;++h)a.push({element:u[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const r=yr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Td(t,r,s,i,o)},nearest(t,e,n,i){const r=yr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Sd(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=yr(e,t);return nv(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=yr(e,t);return nv(t,r,"y",n.intersect,i)}}};const q1=["left","top","right","bottom"];function Mo(t,e){return t.filter(n=>n.pos===e)}function iv(t,e){return t.filter(n=>q1.indexOf(n.pos)===-1&&n.box.axis===e)}function Do(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function zP(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function WP(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!q1.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function HP(t,e){const n=WP(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],h=u&&a.stackWeight/u.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:l&&e.availableHeight)}return n}function $P(t){const e=zP(t),n=Do(e.filter(u=>u.box.fullSize),!0),i=Do(Mo(e,"left"),!0),r=Do(Mo(e,"right")),s=Do(Mo(e,"top"),!0),o=Do(Mo(e,"bottom")),a=iv(e,"x"),l=iv(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Mo(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function rv(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function K1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function qP(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!_e(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&K1(o,s.getPadding());const a=Math.max(0,e.outerWidth-rv(o,t,"left","right")),l=Math.max(0,e.outerHeight-rv(o,t,"top","bottom")),u=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:h}:{same:h,other:u}}function KP(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function GP(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Ho(t,e,n,i){const r=[];let s,o,a,l,u,h;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,GP(a.horizontal,e));const{same:d,other:p}=qP(e,n,a,i);u|=d&&r.length,h=h||p,l.fullSize||r.push(a)}return u&&Ho(r,e,n,i)||h}function ac(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function sv(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*h,p=u.size||l.height;yu(u.start)&&(o=u.start),l.fullSize?ac(l,r.left,o,n.outerWidth-r.right-r.left,p):ac(l,e.left+u.placed,o,d,p),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*h,p=u.size||l.width;yu(u.start)&&(s=u.start),l.fullSize?ac(l,s,r.top,p,n.outerHeight-r.bottom-r.top):ac(l,s,e.top+u.placed,p,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var an={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=dn(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=$P(t.boxes),l=a.vertical,u=a.horizontal;we(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const h=l.reduce((S,E)=>E.box.options&&E.box.options.display===!1?S:S+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),p=Object.assign({},r);K1(p,dn(i));const m=Object.assign({maxPadding:p,w:s,h:o,x:r.left,y:r.top},r),w=HP(l.concat(u),d);Ho(a.fullSize,m,d,w),Ho(l,m,d,w),Ho(u,m,d,w)&&Ho(l,m,d,w),KP(m),sv(a.leftAndTop,m,d,w),m.x+=m.w,m.y+=m.h,sv(a.rightAndBottom,m,d,w),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},we(a.chartArea,S=>{const E=S.box;Object.assign(E,t.chartArea),E.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class G1{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class QP extends G1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mc="$chartjs",YP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ov=t=>t===null||t==="";function XP(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Mc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ov(r)){const s=q_(t,"width");s!==void 0&&(t.width=s)}if(ov(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=q_(t,"height");s!==void 0&&(t.height=s)}return t}const Q1=cP?{passive:!0}:!1;function JP(t,e,n){t&&t.addEventListener(e,n,Q1)}function ZP(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Q1)}function eR(t,e){const n=YP[t.type]||t.type,{x:i,y:r}=yr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function wu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function tR(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||wu(a.addedNodes,i),o=o&&!wu(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function nR(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||wu(a.removedNodes,i),o=o&&!wu(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const za=new Map;let av=0;function Y1(){const t=window.devicePixelRatio;t!==av&&(av=t,za.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function iR(t,e){za.size||window.addEventListener("resize",Y1),za.set(t,e)}function rR(t){za.delete(t),za.size||window.removeEventListener("resize",Y1)}function sR(t,e,n){const i=t.canvas,r=i&&Sg(i);if(!r)return;const s=P1((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||s(u,h)});return o.observe(r),iR(t,s),o}function Id(t,e,n){n&&n.disconnect(),e==="resize"&&rR(t)}function oR(t,e,n){const i=t.canvas,r=P1(s=>{t.ctx!==null&&n(eR(s,t))},t);return JP(i,e,r),r}class aR extends G1{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(XP(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Mc])return!1;const i=n[Mc].initial;["height","width"].forEach(s=>{const o=i[s];We(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Mc],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:tR,detach:nR,resize:sR}[n]||oR;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Id,detach:Id,resize:Id}[n]||ZP)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return lP(e,n,i,r)}isAttached(e){const n=e&&Sg(e);return!!(n&&n.isConnected)}}function lR(t){return!Tg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?QP:aR}class hi{constructor(){oe(this,"x");oe(this,"y");oe(this,"active",!1);oe(this,"options");oe(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ja(this.x)&&ja(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}oe(hi,"defaults",{}),oe(hi,"defaultRoutes");function cR(t,e){const n=t.options.ticks,i=uR(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?dR(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return fR(e,u,s,o/r),u;const h=hR(s,e,r);if(o>0){let d,p;const m=o>1?Math.round((l-a)/(o-1)):null;for(lc(e,u,h,We(m)?0:a-m,a),d=0,p=o-1;d<p;d++)lc(e,u,h,s[d],s[d+1]);return lc(e,u,h,l,We(m)?e.length:l+m),u}return lc(e,u,h),u}function uR(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function hR(t,e,n){const i=pR(t),r=e.length/n;if(!i)return Math.max(r,1);const s=oC(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function dR(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function fR(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function lc(t,e,n,i,r){const s=fe(i,0),o=Math.min(fe(r,t.length),t.length);let a=0,l,u,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===h&&(e.push(t[u]),a++,h=Math.round(s+a*n))}function pR(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const gR=t=>t==="left"?"right":t==="right"?"left":t,lv=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,cv=(t,e)=>Math.min(e||t,t);function uv(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function mR(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<s-a||l>o+a)))return l}function yR(t,e){we(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function No(t){return t.drawTicks?t.tickLength:0}function hv(t,e){if(!t.display)return 0;const n=At(t.font,e),i=dn(t.padding);return(st(t.text)?t.text.length:1)*n.lineHeight+i.height}function _R(t,e){return Gr(t,{scale:e,type:"scale"})}function vR(t,e,n){return Gr(t,{tick:n,index:e,type:"tick"})}function wR(t,e,n){let i=gg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=gR(i)),i}function ER(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:h}=l;let d=0,p,m,w;const S=o-r,E=a-s;if(t.isHorizontal()){if(m=Tt(i,s,a),_e(n)){const _=Object.keys(n)[0],y=n[_];w=h[_].getPixelForValue(y)+S-e}else n==="center"?w=(u.bottom+u.top)/2+S-e:w=lv(t,n,e);p=a-s}else{if(_e(n)){const _=Object.keys(n)[0],y=n[_];m=h[_].getPixelForValue(y)-E+e}else n==="center"?m=(u.left+u.right)/2-E+e:m=lv(t,n,e);w=Tt(i,o,r),d=n==="left"?-wn:wn}return{titleX:m,titleY:w,maxWidth:p,rotation:d}}class eo extends hi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=bn(e,Number.POSITIVE_INFINITY),n=bn(n,Number.NEGATIVE_INFINITY),i=bn(i,Number.POSITIVE_INFINITY),r=bn(r,Number.NEGATIVE_INFINITY),{min:bn(e,i),max:bn(n,r),minDefined:hn(e),maxDefined:hn(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:bn(n,bn(i,n)),max:bn(i,bn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=UC(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?uv(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=cR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Me(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=cv(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),d=h.widest.width,p=h.highest.height,m=on(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:m/(i-1),d+6>a&&(a=m/(i-(e.offset?.5:1)),l=this.maxHeight-No(e.grid)-n.padding-hv(e.title,this.chart.options.font),u=Math.sqrt(d*d+p*p),o=cC(Math.min(Math.asin(on((h.highest.height+6)/a,-1,1)),Math.asin(on(l/u,-1,1))-Math.asin(on(p/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=hv(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=No(s)+l):(e.height=this.maxHeight,e.width=No(s)+l),i.display&&this.ticks.length){const{first:u,last:h,widest:d,highest:p}=this._getLabelSizes(),m=i.padding*2,w=Sr(this.labelRotation),S=Math.cos(w),E=Math.sin(w);if(a){const _=i.mirror?0:E*d.width+S*p.height;e.height=Math.min(this.maxHeight,e.height+_+m)}else{const _=i.mirror?0:S*d.width+E*p.height;e.width=Math.min(this.maxWidth,e.width+_+m)}this._calculatePadding(u,h,E,S)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,m=0;l?u?(p=r*e.width,m=i*n.height):(p=i*e.height,m=r*n.width):s==="start"?m=n.width:s==="end"?p=e.width:s!=="inner"&&(p=e.width/2,m=n.width/2),this.paddingLeft=Math.max((p-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;s==="start"?(h=0,d=e.height):s==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)We(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=uv(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/cv(n,i));let u=0,h=0,d,p,m,w,S,E,_,y,I,M,N;for(d=0;d<n;d+=l){if(w=e[d].label,S=this._resolveTickFontOptions(d),r.font=E=S.string,_=s[E]=s[E]||{data:{},gc:[]},y=S.lineHeight,I=M=0,!We(w)&&!st(w))I=B_(r,_.data,_.gc,I,w),M=y;else if(st(w))for(p=0,m=w.length;p<m;++p)N=w[p],!We(N)&&!st(N)&&(I=B_(r,_.data,_.gc,I,N),M+=y);o.push(I),a.push(M),u=Math.max(I,u),h=Math.max(M,h)}yR(s,n);const V=o.indexOf(u),x=a.indexOf(h),v=A=>({width:o[A]||0,height:a[A]||0});return{first:v(0),last:v(n-1),widest:v(V),highest:v(x),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return dC(this._alignToPixels?fr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=vR(this.getContext(),e,i))}return this.$context||(this.$context=_R(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Sr(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),p=No(s),m=[],w=a.setContext(this.getContext()),S=w.display?w.width:0,E=S/2,_=function(ke){return fr(i,ke,S)};let y,I,M,N,V,x,v,A,k,C,D,b;if(o==="top")y=_(this.bottom),x=this.bottom-p,A=y-E,C=_(e.top)+E,b=e.bottom;else if(o==="bottom")y=_(this.top),C=e.top,b=_(e.bottom)-E,x=y+E,A=this.top+p;else if(o==="left")y=_(this.right),V=this.right-p,v=y-E,k=_(e.left)+E,D=e.right;else if(o==="right")y=_(this.left),k=e.left,D=_(e.right)-E,V=y+E,v=this.left+p;else if(n==="x"){if(o==="center")y=_((e.top+e.bottom)/2+.5);else if(_e(o)){const ke=Object.keys(o)[0],Ne=o[ke];y=_(this.chart.scales[ke].getPixelForValue(Ne))}C=e.top,b=e.bottom,x=y+E,A=x+p}else if(n==="y"){if(o==="center")y=_((e.left+e.right)/2);else if(_e(o)){const ke=Object.keys(o)[0],Ne=o[ke];y=_(this.chart.scales[ke].getPixelForValue(Ne))}V=y-E,v=V-p,k=e.left,D=e.right}const Ae=fe(r.ticks.maxTicksLimit,d),pe=Math.max(1,Math.ceil(d/Ae));for(I=0;I<d;I+=pe){const ke=this.getContext(I),Ne=s.setContext(ke),$=a.setContext(ke),Z=Ne.lineWidth,O=Ne.color,R=$.dash||[],W=$.dashOffset,q=Ne.tickWidth,Q=Ne.tickColor,X=Ne.tickBorderDash||[],J=Ne.tickBorderDashOffset;M=mR(this,I,l),M!==void 0&&(N=fr(i,M,Z),u?V=v=k=D=N:x=A=C=b=N,m.push({tx1:V,ty1:x,tx2:v,ty2:A,x1:k,y1:C,x2:D,y2:b,width:Z,color:O,borderDash:R,borderDashOffset:W,tickWidth:q,tickColor:Q,tickBorderDash:X,tickBorderDashOffset:J}))}return this._ticksLength=d,this._borderValue=y,m}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:h,mirror:d}=s,p=No(i.grid),m=p+h,w=d?-h:m,S=-Sr(this.labelRotation),E=[];let _,y,I,M,N,V,x,v,A,k,C,D,b="middle";if(r==="top")V=this.bottom-w,x=this._getXAxisLabelAlignment();else if(r==="bottom")V=this.top+w,x=this._getXAxisLabelAlignment();else if(r==="left"){const pe=this._getYAxisLabelAlignment(p);x=pe.textAlign,N=pe.x}else if(r==="right"){const pe=this._getYAxisLabelAlignment(p);x=pe.textAlign,N=pe.x}else if(n==="x"){if(r==="center")V=(e.top+e.bottom)/2+m;else if(_e(r)){const pe=Object.keys(r)[0],ke=r[pe];V=this.chart.scales[pe].getPixelForValue(ke)+m}x=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")N=(e.left+e.right)/2-m;else if(_e(r)){const pe=Object.keys(r)[0],ke=r[pe];N=this.chart.scales[pe].getPixelForValue(ke)}x=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?b="top":l==="end"&&(b="bottom"));const Ae=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){I=a[_],M=I.label;const pe=s.setContext(this.getContext(_));v=this.getPixelForTick(_)+s.labelOffset,A=this._resolveTickFontOptions(_),k=A.lineHeight,C=st(M)?M.length:1;const ke=C/2,Ne=pe.color,$=pe.textStrokeColor,Z=pe.textStrokeWidth;let O=x;o?(N=v,x==="inner"&&(_===y-1?O=this.options.reverse?"left":"right":_===0?O=this.options.reverse?"right":"left":O="center"),r==="top"?u==="near"||S!==0?D=-C*k+k/2:u==="center"?D=-Ae.highest.height/2-ke*k+k:D=-Ae.highest.height+k/2:u==="near"||S!==0?D=k/2:u==="center"?D=Ae.highest.height/2-ke*k:D=Ae.highest.height-C*k,d&&(D*=-1),S!==0&&!pe.showLabelBackdrop&&(N+=k/2*Math.sin(S))):(V=v,D=(1-C)*k/2);let R;if(pe.showLabelBackdrop){const W=dn(pe.backdropPadding),q=Ae.heights[_],Q=Ae.widths[_];let X=D-W.top,J=0-W.left;switch(b){case"middle":X-=q/2;break;case"bottom":X-=q;break}switch(x){case"center":J-=Q/2;break;case"right":J-=Q;break;case"inner":_===y-1?J-=Q:_>0&&(J-=Q/2);break}R={left:J,top:X,width:Q+W.width,height:q+W.height,color:pe.backdropColor}}E.push({label:M,font:A,textOffset:D,options:{rotation:S,color:Ne,strokeColor:$,strokeWidth:Z,textAlign:O,textBaseline:b,translation:[N,V],backdrop:R}})}return E}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Sr(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,h;return n==="left"?r?(h=this.right+s,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-a,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+a,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,d,p;this.isHorizontal()?(u=fr(e,this.left,o)-o/2,h=fr(e,this.right,a)+a/2,d=p=l):(d=fr(e,this.top,o)-o/2,p=fr(e,this.bottom,a)+a/2,u=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(h,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&yg(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,h=o.textOffset;Ba(i,u,0,h,l,a)}r&&_g(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=At(i.font),o=dn(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||_e(n)?(l+=o.bottom,st(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:h,maxWidth:d,rotation:p}=ER(this,l,n,a);Ba(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:p,textAlign:wR(a,n,r),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=fe(e.grid&&e.grid.z,-1),r=fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==eo.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return At(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;IR(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,TR(e,o,i),this.override&&Ke.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ke[r]&&(delete Ke[r][i],this.override&&delete Vr[i])}}function TR(t,e,n){const i=Fa(Object.create(null),[n?Ke.get(n):{},Ke.get(e),t.defaults]);Ke.set(e,i),t.defaultRoutes&&SR(e,t.defaultRoutes),t.descriptors&&Ke.describe(e,t.descriptors)}function SR(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ke.route(s,r,l,a)})}function IR(t){return"id"in t&&"defaults"in t}class xR{constructor(){this.controllers=new cc(da,"datasets",!0),this.elements=new cc(hi,"elements"),this.plugins=new cc(Object,"plugins"),this.scales=new cc(eo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):we(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=fg(e);Me(i["before"+r],[],i),n[e](i),Me(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Rn=new xR;class AR{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Me(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=fe(i.options&&i.options.plugins,{}),s=kR(i);return r===!1&&!n?[]:CR(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function kR(t){const e={},n=[],i=Object.keys(Rn.plugins.items);for(let s=0;s<i.length;s++)n.push(Rn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function bR(t,e){return!e&&t===!1?null:t===!0?{}:t}function CR(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=bR(i[l],r);u!==null&&s.push({plugin:a,options:PR(t.config,{plugin:a,local:n[l]},u,o)})}return s}function PR(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ff(t,e){const n=Ke.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function RR(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function MR(t,e){return t===e?"_index_":"_value_"}function dv(t){if(t==="x"||t==="y"||t==="r")return t}function DR(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function jf(t,...e){if(dv(t))return t;for(const n of e){const i=n.axis||DR(n.position)||t.length>1&&dv(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function fv(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function NR(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return fv(t,"x",n[0])||fv(t,"y",n[0])}return{}}function OR(t,e){const n=Vr[t.type]||{scales:{}},i=e.scales||{},r=Ff(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!_e(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=jf(o,a,NR(o,t),Ke.scales[a.type]),u=MR(l,r),h=n.scales||{};s[o]=aa(Object.create(null),[{axis:l},a,h[l],h[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Ff(a,e),h=(Vr[a]||{}).scales||{};Object.keys(h).forEach(d=>{const p=RR(d,l),m=o[p+"AxisID"]||p;s[m]=s[m]||Object.create(null),aa(s[m],[{axis:p},i[m],h[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];aa(a,[Ke.scales[a.type],Ke.scale])}),s}function X1(t){const e=t.options||(t.options={});e.plugins=fe(e.plugins,{}),e.scales=OR(t,e)}function J1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function LR(t){return t=t||{},t.data=J1(t.data),X1(t),t}const pv=new Map,Z1=new Set;function uc(t,e){let n=pv.get(t);return n||(n=e(),pv.set(t,n),Z1.add(n)),n}const Oo=(t,e,n)=>{const i=mu(e,n);i!==void 0&&t.add(i)};class VR{constructor(e){this._config=LR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=J1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),X1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return uc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return uc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return uc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return uc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>Oo(l,e,d))),h.forEach(d=>Oo(l,r,d)),h.forEach(d=>Oo(l,Vr[s]||{},d)),h.forEach(d=>Oo(l,Ke,d)),h.forEach(d=>Oo(l,Of,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),Z1.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Vr[n]||{},Ke.datasets[n]||{},{type:n},Ke,Of]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=gv(this._resolverCache,e,r);let l=o;if(jR(o,n)){s.$shared=!1,i=Yi(i)?i():i;const u=this.createResolver(e,i,a);l=js(o,i,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,i=[""],r){const{resolver:s}=gv(this._resolverCache,e,i);return _e(n)?js(s,n,void 0,r):s}}function gv(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:vg(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const FR=t=>_e(t)&&Object.getOwnPropertyNames(t).some(e=>Yi(t[e]));function jR(t,e){const{isScriptable:n,isIndexable:i}=L1(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Yi(a)||FR(a))||o&&st(a))return!0}return!1}var UR="4.4.5";const BR=["top","bottom","left","right","chartArea"];function mv(t,e){return t==="top"||t==="bottom"||BR.indexOf(t)===-1&&e==="x"}function yv(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function _v(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Me(n&&n.onComplete,[t],e)}function zR(t){const e=t.chart,n=e.options.animation;Me(n&&n.onProgress,[t],e)}function eT(t){return Tg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Dc={},vv=t=>{const e=eT(t);return Object.values(Dc).filter(n=>n.canvas===e).pop()};function WR(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function HR(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function hc(t,e,n){return t.options.clip?t[n]:e[n]}function $R(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:hc(n,e,"left"),right:hc(n,e,"right"),top:hc(i,e,"top"),bottom:hc(i,e,"bottom")}:e}var Si;let oh=(Si=class{static register(...e){Rn.add(...e),wv()}static unregister(...e){Rn.remove(...e),wv()}constructor(e,n){const i=this.config=new VR(n),r=eT(e),s=vv(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||lR(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,h=l&&l.width;if(this.id=Xb(),this.ctx=a,this.canvas=l,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new AR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yC(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Dc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",_v),qn.listen(this,"progress",zR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return We(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return z_(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(e,n){qn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,$_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Me(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};we(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=jf(o,a),u=l==="r",h=l==="x";return{options:a,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),we(s,o=>{const a=o.options,l=a.id,u=jf(l,a),h=fe(a.type,o.dtype);(a.position===void 0||mv(a.position,u)!==mv(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===h)d=i[l];else{const p=Rn.getScale(h);d=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),we(r,(o,a)=>{o||delete i[a]}),we(i,o=>{an.configure(this,o,o.options),an.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(yv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Ff(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Rn.getController(a),{datasetElementType:u,dataElementType:h}=Ke.datasets[a];Object.assign(l,{dataElementType:Rn.getElement(h),datasetElementType:u&&Rn.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){we(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:d}=this.getDatasetMeta(u),p=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(p),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||we(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(yv("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){we(this.scales,e=>{an.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!M_(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;WR(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!M_(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;an.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],we(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Yi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),_v({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=$R(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&yg(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&_g(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Ua(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=BP.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Gr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);yu(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),qn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),z_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};we(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){we(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},we(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!pu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,u)=>l.filter(h=>!u.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=iC(e),u=HR(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Me(s.onHover,[e,a,this],this),l&&Me(s.onClick,[e,a,this],this));const h=!pu(a,r);return(h||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},oe(Si,"defaults",Ke),oe(Si,"instances",Dc),oe(Si,"overrides",Vr),oe(Si,"registry",Rn),oe(Si,"version",UR),oe(Si,"getChart",vv),Si);function wv(){return we(oh.instances,t=>t._plugins.invalidate())}function tT(t,e,n=e){t.lineCap=fe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(fe(n.borderDash,e.borderDash)),t.lineDashOffset=fe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=fe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=fe(n.borderWidth,e.borderWidth),t.strokeStyle=fe(n.borderColor,e.borderColor)}function qR(t,e,n){t.lineTo(n.x,n.y)}function KR(t){return t.stepped?PC:t.tension||t.cubicInterpolationMode==="monotone"?RC:qR}function nT(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),u=Math.min(s,a),h=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!h?i+u-l:u-l}}function GR(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:u}=nT(r,n,i),h=KR(s);let{move:d=!0,reverse:p}=i||{},m,w,S;for(m=0;m<=u;++m)w=r[(a+(p?u-m:m))%o],!w.skip&&(d?(t.moveTo(w.x,w.y),d=!1):h(t,S,w,p,s.stepped),S=w);return l&&(w=r[(a+(p?u:0))%o],h(t,S,w,p,s.stepped)),!!l}function QR(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=nT(r,n,i),{move:l=!0,reverse:u}=i||{};let h=0,d=0,p,m,w,S,E,_;const y=M=>(o+(u?a-M:M))%s,I=()=>{S!==E&&(t.lineTo(h,E),t.lineTo(h,S),t.lineTo(h,_))};for(l&&(m=r[y(0)],t.moveTo(m.x,m.y)),p=0;p<=a;++p){if(m=r[y(p)],m.skip)continue;const M=m.x,N=m.y,V=M|0;V===w?(N<S?S=N:N>E&&(E=N),h=(d*h+M)/++d):(I(),t.lineTo(M,N),w=V,d=0,S=E=N),_=N}I()}function Uf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?QR:GR}function YR(t){return t.stepped?uP:t.tension||t.cubicInterpolationMode==="monotone"?hP:_r}function XR(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),tT(t,e.options),t.stroke(r)}function JR(t,e,n,i){const{segments:r,options:s}=e,o=Uf(e);for(const a of r)tT(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const ZR=typeof Path2D=="function";function e2(t,e,n,i){ZR&&!e.options.segment?XR(t,e,n,i):JR(t,e,n,i)}class $o extends hi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;nP(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vP(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=mP(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=YR(i);let u,h;for(u=0,h=o.length;u<h;++u){const{start:d,end:p}=o[u],m=s[d],w=s[p];if(m===w){a.push(m);continue}const S=Math.abs((r-m[n])/(w[n]-m[n])),E=l(m,w,S,i.stepped);E[n]=e[n],a.push(E)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Uf(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Uf(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),e2(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}oe($o,"id","line"),oe($o,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),oe($o,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),oe($o,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ev(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Nc extends hi{constructor(n){super();oe(this,"parsed");oe(this,"skip");oe(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return Ev(this,n,"x",i)}inYRange(n,i){return Ev(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Ua(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Lf(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}oe(Nc,"id","point"),oe(Nc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),oe(Nc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Tv=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},t2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Sv extends hi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=At(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Tv(i,s);let u,h;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let p=-1,m=-h;return this.legendItems.forEach((w,S)=>{const E=i+n/2+s.measureText(w.text).width;(S===0||u[u.length-1]+E+2*a>o)&&(d+=h,u[u.length-(S>0?0:1)]=0,m+=h,p++),l[S]={left:0,top:m,row:p,width:E,height:r},u[u.length-1]+=E+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-e;let d=a,p=0,m=0,w=0,S=0;return this.legendItems.forEach((E,_)=>{const{itemWidth:y,itemHeight:I}=n2(i,n,s,E,r);_>0&&m+I+2*a>h&&(d+=p+a,u.push({width:p,height:m}),w+=p+a,S++,p=m=0),l[_]={left:w,top:m,col:S,width:y,height:I},p=Math.max(p,y),m+=I+a}),d+=p,u.push({width:p,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=As(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Tt(i,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Tt(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=Tt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Tt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yg(e,this),this._draw(),_g(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Ke.color,l=As(e.rtl,this.left,this.width),u=At(o.font),{padding:h}=o,d=u.size,p=d/2;let m;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:w,boxHeight:S,itemHeight:E}=Tv(o,d),_=function(V,x,v){if(isNaN(w)||w<=0||isNaN(S)||S<0)return;r.save();const A=fe(v.lineWidth,1);if(r.fillStyle=fe(v.fillStyle,a),r.lineCap=fe(v.lineCap,"butt"),r.lineDashOffset=fe(v.lineDashOffset,0),r.lineJoin=fe(v.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=fe(v.strokeStyle,a),r.setLineDash(fe(v.lineDash,[])),o.usePointStyle){const k={radius:S*Math.SQRT2/2,pointStyle:v.pointStyle,rotation:v.rotation,borderWidth:A},C=l.xPlus(V,w/2),D=x+p;N1(r,k,C,D,o.pointStyleWidth&&w)}else{const k=x+Math.max((d-S)/2,0),C=l.leftForLtr(V,w),D=ha(v.borderRadius);r.beginPath(),Object.values(D).some(b=>b!==0)?Vf(r,{x:C,y:k,w,h:S,radius:D}):r.rect(C,k,w,S),r.fill(),A!==0&&r.stroke()}r.restore()},y=function(V,x,v){Ba(r,v.text,V,x+E/2,u,{strikethrough:v.hidden,textAlign:l.textAlign(v.textAlign)})},I=this.isHorizontal(),M=this._computeTitleHeight();I?m={x:Tt(s,this.left+h,this.right-i[0]),y:this.top+h+M,line:0}:m={x:this.left+h,y:Tt(s,this.top+M+h,this.bottom-n[0].height),line:0},B1(this.ctx,e.textDirection);const N=E+h;this.legendItems.forEach((V,x)=>{r.strokeStyle=V.fontColor,r.fillStyle=V.fontColor;const v=r.measureText(V.text).width,A=l.textAlign(V.textAlign||(V.textAlign=o.textAlign)),k=w+p+v;let C=m.x,D=m.y;l.setWidth(this.width),I?x>0&&C+k+h>this.right&&(D=m.y+=N,m.line++,C=m.x=Tt(s,this.left+h,this.right-i[m.line])):x>0&&D+N>this.bottom&&(C=m.x=C+n[m.line].width+h,m.line++,D=m.y=Tt(s,this.top+M+h,this.bottom-n[m.line].height));const b=l.x(C);if(_(b,D,V),C=_C(A,C+w+p,I?C+k:this.right,e.rtl),y(l.x(C),D,V),I)m.x+=k+h;else if(typeof V.text!="string"){const Ae=u.lineHeight;m.y+=iT(V,Ae)+h}else m.y+=N}),z1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=At(n.font),r=dn(n.padding);if(!n.display)return;const s=As(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=r.top+l;let h,d=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+u,d=Tt(e.align,d,this.right-p);else{const w=this.columnSizes.reduce((S,E)=>Math.max(S,E.height),0);h=u+Tt(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const m=Tt(a,d,d+p);o.textAlign=s.textAlign(gg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Ba(o,n.text,m,h,i)}_computeTitleHeight(){const e=this.options.title,n=At(e.font),i=dn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Wo(e,this.left,this.right)&&Wo(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Wo(e,r.left,r.left+r.width)&&Wo(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!s2(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=t2(r,i);r&&!s&&Me(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Me(n.onHover,[e,i,this],this)}else i&&Me(n.onClick,[e,i,this],this)}}function n2(t,e,n,i,r){const s=i2(i,t,e,n),o=r2(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function i2(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function r2(t,e,n){let i=t;return typeof e.text!="string"&&(i=iT(e,n)),i}function iT(t,e){const n=t.text?t.text.length:0;return e*n}function s2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var o2={id:"legend",_element:Sv,start(t,e,n){const i=t.legend=new Sv({ctx:t.ctx,options:n,chart:t});an.configure(t,i,n),an.addBox(t,i)},stop(t){an.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;an.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),h=dn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rT extends hi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=st(i.text)?i.text.length:1;this._padding=dn(i.padding);const s=r*At(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,h,d;return this.isHorizontal()?(h=Tt(a,i,s),d=n+e,u=s-i):(o.position==="left"?(h=i+e,d=Tt(a,r,n),l=at*-.5):(h=s-e,d=Tt(a,n,r),l=at*.5),u=r-n),{titleX:h,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=At(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Ba(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:gg(n.align),textBaseline:"middle",translation:[o,a]})}}function a2(t,e){const n=new rT({ctx:t.ctx,options:e,chart:t});an.configure(t,n,e),an.addBox(t,n),t.titleBlock=n}var l2={id:"title",_element:rT,start(t,e,n){a2(t,n)},stop(t){const e=t.titleBlock;an.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;an.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qo={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=Nf(e,u);h<r&&(r=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Cn(t,e){return e&&(st(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Kn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function c2(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Iv(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=At(e.bodyFont),u=At(e.titleFont),h=At(e.footerFont),d=s.length,p=r.length,m=i.length,w=dn(e.padding);let S=w.height,E=0,_=i.reduce((M,N)=>M+N.before.length+N.lines.length+N.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(S+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const M=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;S+=m*M+(_-m)*l.lineHeight+(_-1)*e.bodySpacing}p&&(S+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let y=0;const I=function(M){E=Math.max(E,n.measureText(M).width+y)};return n.save(),n.font=u.string,we(t.title,I),n.font=l.string,we(t.beforeBody.concat(t.afterBody),I),y=e.displayColors?o+2+e.boxPadding:0,we(i,M=>{we(M.before,I),we(M.lines,I),we(M.after,I)}),y=0,n.font=h.string,we(t.footer,I),n.restore(),E+=w.width,{width:E,height:S}}function u2(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function h2(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function d2(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),h2(u,t,e,n)&&(u="center"),u}function xv(t,e,n){const i=n.yAlign||e.yAlign||u2(t,n);return{xAlign:n.xAlign||e.xAlign||d2(t,e,n,i),yAlign:i}}function f2(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function p2(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Av(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=r+s,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:m}=ha(o);let w=f2(e,a);const S=p2(e,l,u);return l==="center"?a==="left"?w+=u:a==="right"&&(w-=u):a==="left"?w-=Math.max(h,p)+r:a==="right"&&(w+=Math.max(d,m)+r),{x:on(w,0,i.width-e.width),y:on(S,0,i.height-e.height)}}function dc(t,e,n){const i=dn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function kv(t){return Cn([],Kn(t))}function g2(t,e,n){return Gr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function bv(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const sT={beforeTitle:Hn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Hn,beforeBody:Hn,beforeLabel:Hn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return We(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Hn,afterBody:Hn,beforeFooter:Hn,footer:Hn,afterFooter:Hn};function Lt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?sT[e].call(n,i):r}class Bf extends hi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new H1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=g2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Lt(i,"beforeTitle",this,e),s=Lt(i,"title",this,e),o=Lt(i,"afterTitle",this,e);let a=[];return a=Cn(a,Kn(r)),a=Cn(a,Kn(s)),a=Cn(a,Kn(o)),a}getBeforeBody(e,n){return kv(Lt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return we(e,s=>{const o={before:[],lines:[],after:[]},a=bv(i,s);Cn(o.before,Kn(Lt(a,"beforeLabel",this,s))),Cn(o.lines,Lt(a,"label",this,s)),Cn(o.after,Kn(Lt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return kv(Lt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Lt(i,"beforeFooter",this,e),s=Lt(i,"footer",this,e),o=Lt(i,"afterFooter",this,e);let a=[];return a=Cn(a,Kn(r)),a=Cn(a,Kn(s)),a=Cn(a,Kn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(c2(this.chart,n[l]));return e.filter&&(a=a.filter((h,d,p)=>e.filter(h,d,p,i))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,i))),we(a,h=>{const d=bv(e.callbacks,h);r.push(Lt(d,"labelColor",this,h)),s.push(Lt(d,"labelPointStyle",this,h)),o.push(Lt(d,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=qo[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Iv(this,i),u=Object.assign({},a,l),h=xv(this.chart,i,u),d=Av(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:d}=ha(a),{x:p,y:m}=e,{width:w,height:S}=n;let E,_,y,I,M,N;return s==="center"?(M=m+S/2,r==="left"?(E=p,_=E-o,I=M+o,N=M-o):(E=p+w,_=E+o,I=M-o,N=M+o),y=E):(r==="left"?_=p+Math.max(l,h)+o:r==="right"?_=p+w-Math.max(u,d)-o:_=this.caretX,s==="top"?(I=m,M=I-o,E=_-o,y=_+o):(I=m+S,M=I+o,E=_+o,y=_-o),N=I),{x1:E,x2:_,x3:y,y1:I,y2:M,y3:N}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=As(i.rtl,this.x,this.width);for(e.x=dc(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=At(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,h=At(s.bodyFont),d=dc(this,"left",s),p=r.x(d),m=l<h.lineHeight?(h.lineHeight-l)/2:0,w=n.y+m;if(s.usePointStyle){const S={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},E=r.leftForLtr(p,u)+u/2,_=w+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Lf(e,S,E,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Lf(e,S,E,_)}else{e.lineWidth=_e(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(p,u),E=r.leftForLtr(r.xPlus(p,1),u-2),_=ha(o.borderRadius);Object.values(_).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Vf(e,{x:S,y:w,w:u,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Vf(e,{x:E,y:w+1,w:u-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,w,u,l),e.strokeRect(S,w,u,l),e.fillStyle=o.backgroundColor,e.fillRect(E,w+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:h}=i,d=At(i.bodyFont);let p=d.lineHeight,m=0;const w=As(i.rtl,this.x,this.width),S=function(v){n.fillText(v,w.x(e.x+m),e.y+p/2),e.y+=p+s},E=w.textAlign(o);let _,y,I,M,N,V,x;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=dc(this,E,i),n.fillStyle=i.bodyColor,we(this.beforeBody,S),m=a&&E!=="right"?o==="center"?u/2+h:u+2+h:0,M=0,V=r.length;M<V;++M){for(_=r[M],y=this.labelTextColors[M],n.fillStyle=y,we(_.before,S),I=_.lines,a&&I.length&&(this._drawColorBox(n,e,M,w,i),p=Math.max(d.lineHeight,l)),N=0,x=I.length;N<x;++N)S(I[N]),p=d.lineHeight;we(_.after,S)}m=0,p=d.lineHeight,we(this.afterBody,S),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=As(i.rtl,this.x,this.width);for(e.x=dc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=At(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:h}=i,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:w}=ha(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+u-p,l),n.quadraticCurveTo(a+u,l,a+u,l+p),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+u,l+h-w),n.quadraticCurveTo(a+u,l+h,a+u-w,l+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+m,l+h),n.quadraticCurveTo(a,l+h,a,l+h-m),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=qo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Iv(this,e),l=Object.assign({},o,this._size),u=xv(n,e,l),h=Av(e,l,u,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=dn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),B1(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),z1(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!pu(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!pu(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=qo[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}oe(Bf,"positioners",qo);var m2={id:"tooltip",_element:Bf,positioners:qo,afterInit(t,e,n){n&&(t.tooltip=new Bf({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const y2=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function _2(t,e,n,i){const r=t.indexOf(e);if(r===-1)return y2(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const v2=(t,e)=>t===null?null:on(Math.round(t),0,e);function Cv(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zf extends eo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(We(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:_2(i,e,fe(n,e),this._addedLabels),v2(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Cv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}oe(zf,"id","category"),oe(zf,"defaults",{ticks:{callback:Cv}});function w2(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:h,maxDigits:d,includeBounds:p}=t,m=s||1,w=h-1,{min:S,max:E}=e,_=!We(o),y=!We(a),I=!We(u),M=(E-S)/(d+1);let N=N_((E-S)/w/m)*m,V,x,v,A;if(N<1e-14&&!_&&!y)return[{value:S},{value:E}];A=Math.ceil(E/N)-Math.floor(S/N),A>w&&(N=N_(A*N/w/m)*m),We(l)||(V=Math.pow(10,l),N=Math.ceil(N*V)/V),r==="ticks"?(x=Math.floor(S/N)*N,v=Math.ceil(E/N)*N):(x=S,v=E),_&&y&&s&&aC((a-o)/s,N/1e3)?(A=Math.round(Math.min((a-o)/N,h)),N=(a-o)/A,x=o,v=a):I?(x=_?o:x,v=y?a:v,A=u-1,N=(v-x)/A):(A=(v-x)/N,la(A,Math.round(A),N/1e3)?A=Math.round(A):A=Math.ceil(A));const k=Math.max(O_(N),O_(x));V=Math.pow(10,We(l)?k:l),x=Math.round(x*V)/V,v=Math.round(v*V)/V;let C=0;for(_&&(p&&x!==o?(n.push({value:o}),x<o&&C++,la(Math.round((x+C*N)*V)/V,o,Pv(o,M,t))&&C++):x<o&&C++);C<A;++C){const D=Math.round((x+C*N)*V)/V;if(y&&D>a)break;n.push({value:D})}return y&&p&&v!==a?n.length&&la(n[n.length-1].value,a,Pv(a,M,t))?n[n.length-1].value=a:n.push({value:a}):(!y||v===a)&&n.push({value:v}),n}function Pv(t,e,{horizontal:n,minRotation:i}){const r=Sr(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class E2 extends eo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Fs(r),u=Fs(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=w2(r,s);return e.bounds==="ticks"&&lC(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return R1(e,this.chart.options.locale,this.options.ticks.format)}}class Wf extends E2{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=hn(e)?e:0,this.max=hn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Sr(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}oe(Wf,"id","linear"),oe(Wf,"defaults",{ticks:{callback:D1.formatters.numeric}});const ah={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ft=Object.keys(ah);function Rv(t,e){return t-e}function Mv(t,e){if(We(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),hn(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ja(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Dv(t,e,n,i){const r=Ft.length;for(let s=Ft.indexOf(t);s<r-1;++s){const o=ah[Ft[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Ft[s]}return Ft[r-1]}function T2(t,e,n,i,r){for(let s=Ft.length-1;s>=Ft.indexOf(n);s--){const o=Ft[s];if(ah[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Ft[n?Ft.indexOf(n):0]}function S2(t){for(let e=Ft.indexOf(t)+1,n=Ft.length;e<n;++e)if(ah[Ft[e]].common)return Ft[e]}function Nv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=pg(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function I2(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Ov(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:I2(t,i,r,n)}class Eu extends eo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new LP._date(e.adapters.date);r.init(n),aa(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Mv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=hn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=hn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=pC(r,s,o);return this._unit=n.unit||(i.autoSkip?Dv(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):T2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:S2(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Ov(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=on(n,0,o),i=on(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Dv(s.minUnit,n,i,this._getLabelCapacity(n)),a=fe(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=ja(l)||l===!0,h={};let d=n,p,m;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(p=d,m=0;p<i;p=+e.add(p,a,o),m++)Nv(h,p,w);return(p===i||r.bounds==="ticks"||m===1)&&Nv(h,p,w),Object.keys(h).sort(Rv).map(S=>+S)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Me(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&a[l],d=u&&a[u],p=i[n],m=u&&d&&p&&p.major;return this._adapter.format(e,r||(m?d:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Sr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Ov(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Mv(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mC(e.sort(Rv))}}oe(Eu,"id","time"),oe(Eu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fc(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Ir(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Ir(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class Lv extends Eu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=fc(n,this.min),this._tableRange=fc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,u,h;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)h=r[o+1],l=r[o-1],u=r[o],Math.round((h+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(fc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return fc(this._table,i*this._tableRange+this._minPos,!0)}}oe(Lv,"id","timeseries"),oe(Lv,"defaults",Eu.defaults);const oT="label";function Vv(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function x2(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function aT(t,e){t.labels=e}function lT(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oT;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function A2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oT;const n={labels:[],datasets:[]};return aT(n,t.labels),lT(n,t.datasets,e),n}function k2(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:h,updateMode:d,...p}=t,m=j.useRef(null),w=j.useRef(),S=()=>{m.current&&(w.current=new oh(m.current,{type:o,data:A2(a,s),options:l&&{...l},plugins:u}),Vv(e,w.current))},E=()=>{Vv(e,null),w.current&&(w.current.destroy(),w.current=null)};return j.useEffect(()=>{!r&&w.current&&l&&x2(w.current,l)},[r,l]),j.useEffect(()=>{!r&&w.current&&aT(w.current.config.data,a.labels)},[r,a.labels]),j.useEffect(()=>{!r&&w.current&&a.datasets&&lT(w.current.config.data,a.datasets,s)},[r,a.datasets]),j.useEffect(()=>{w.current&&(r?(E(),setTimeout(S)):w.current.update(d))},[r,l,a.labels,a.datasets,d]),j.useEffect(()=>{w.current&&(E(),setTimeout(S))},[o]),j.useEffect(()=>(S(),()=>E()),[]),_p.createElement("canvas",Object.assign({ref:m,role:"img",height:n,width:i},p),h)}const b2=j.forwardRef(k2);function C2(t,e){return oh.register(e),j.forwardRef((n,i)=>_p.createElement(b2,Object.assign({},n,{ref:i,type:t})))}const P2=C2("line",Rc);var ol={};(function t(e,n,i,r){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var O=new OffscreenCanvas(1,1),R=O.getContext("2d");R.fillRect(0,0,1,1);var W=O.transferToImageBitmap();try{R.createPattern(W,"no-repeat")}catch{return!1}return!0}();function l(){}function u(O){var R=n.exports.Promise,W=R!==void 0?R:e.Promise;return typeof W=="function"?new W(O):(O(l,l),null)}var h=function(O,R){return{transform:function(W){if(O)return W;if(R.has(W))return R.get(W);var q=new OffscreenCanvas(W.width,W.height),Q=q.getContext("2d");return Q.drawImage(W,0,0),R.set(W,q),q},clear:function(){R.clear()}}}(a,new Map),d=function(){var O=Math.floor(16.666666666666668),R,W,q={},Q=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(X){var J=Math.random();return q[J]=requestAnimationFrame(function Y(ae){Q===ae||Q+O-1<ae?(Q=ae,delete q[J],X()):q[J]=requestAnimationFrame(Y)}),J},W=function(X){q[X]&&cancelAnimationFrame(q[X])}):(R=function(X){return setTimeout(X,O)},W=function(X){return clearTimeout(X)}),{frame:R,cancel:W}}(),p=function(){var O,R,W={};function q(Q){function X(J,Y){Q.postMessage({options:J||{},callback:Y})}Q.init=function(Y){var ae=Y.transferControlToOffscreen();Q.postMessage({canvas:ae},[ae])},Q.fire=function(Y,ae,Se){if(R)return X(Y,null),R;var Ie=Math.random().toString(36).slice(2);return R=u(function(ve){function be(He){He.data.callback===Ie&&(delete W[Ie],Q.removeEventListener("message",be),R=null,h.clear(),Se(),ve())}Q.addEventListener("message",be),X(Y,Ie),W[Ie]=be.bind(null,{data:{callback:Ie}})}),R},Q.reset=function(){Q.postMessage({reset:!0});for(var Y in W)W[Y](),delete W[Y]}}return function(){if(O)return O;if(!i&&s){var Q=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([Q])))}catch(X){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",X),null}q(O)}return O}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function w(O,R){return R?R(O):O}function S(O){return O!=null}function E(O,R,W){return w(O&&S(O[R])?O[R]:m[R],W)}function _(O){return O<0?0:Math.floor(O)}function y(O,R){return Math.floor(Math.random()*(R-O))+O}function I(O){return parseInt(O,16)}function M(O){return O.map(N)}function N(O){var R=String(O).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:I(R.substring(0,2)),g:I(R.substring(2,4)),b:I(R.substring(4,6))}}function V(O){var R=E(O,"origin",Object);return R.x=E(R,"x",Number),R.y=E(R,"y",Number),R}function x(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function v(O){var R=O.getBoundingClientRect();O.width=R.width,O.height=R.height}function A(O){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=O,R}function k(O,R,W,q,Q,X,J,Y,ae){O.save(),O.translate(R,W),O.rotate(X),O.scale(q,Q),O.arc(0,0,1,J,Y,ae),O.restore()}function C(O){var R=O.angle*(Math.PI/180),W=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-R+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function D(O,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var W=R.tick++/R.totalTicks,q=R.x+R.random*R.tiltCos,Q=R.y+R.random*R.tiltSin,X=R.wobbleX+R.random*R.tiltCos,J=R.wobbleY+R.random*R.tiltSin;if(O.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-W)+")",O.beginPath(),o&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))O.fill(Ne(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(X-q)*.1,Math.abs(J-Q)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var Y=Math.PI/10*R.wobble,ae=Math.abs(X-q)*.1,Se=Math.abs(J-Q)*.1,Ie=R.shape.bitmap.width*R.scalar,ve=R.shape.bitmap.height*R.scalar,be=new DOMMatrix([Math.cos(Y)*ae,Math.sin(Y)*ae,-Math.sin(Y)*Se,Math.cos(Y)*Se,R.x,R.y]);be.multiplySelf(new DOMMatrix(R.shape.matrix));var He=O.createPattern(h.transform(R.shape.bitmap),"no-repeat");He.setTransform(be),O.globalAlpha=1-W,O.fillStyle=He,O.fillRect(R.x-Ie/2,R.y-ve/2,Ie,ve),O.globalAlpha=1}else if(R.shape==="circle")O.ellipse?O.ellipse(R.x,R.y,Math.abs(X-q)*R.ovalScalar,Math.abs(J-Q)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):k(O,R.x,R.y,Math.abs(X-q)*R.ovalScalar,Math.abs(J-Q)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var le=Math.PI/2*3,nt=4*R.scalar,Nt=8*R.scalar,$t=R.x,pn=R.y,An=5,Ot=Math.PI/An;An--;)$t=R.x+Math.cos(le)*Nt,pn=R.y+Math.sin(le)*Nt,O.lineTo($t,pn),le+=Ot,$t=R.x+Math.cos(le)*nt,pn=R.y+Math.sin(le)*nt,O.lineTo($t,pn),le+=Ot;else O.moveTo(Math.floor(R.x),Math.floor(R.y)),O.lineTo(Math.floor(R.wobbleX),Math.floor(Q)),O.lineTo(Math.floor(X),Math.floor(J)),O.lineTo(Math.floor(q),Math.floor(R.wobbleY));return O.closePath(),O.fill(),R.tick<R.totalTicks}function b(O,R,W,q,Q){var X=R.slice(),J=O.getContext("2d"),Y,ae,Se=u(function(Ie){function ve(){Y=ae=null,J.clearRect(0,0,q.width,q.height),h.clear(),Q(),Ie()}function be(){i&&!(q.width===r.width&&q.height===r.height)&&(q.width=O.width=r.width,q.height=O.height=r.height),!q.width&&!q.height&&(W(O),q.width=O.width,q.height=O.height),J.clearRect(0,0,q.width,q.height),X=X.filter(function(He){return D(J,He)}),X.length?Y=d.frame(be):ve()}Y=d.frame(be),ae=ve});return{addFettis:function(Ie){return X=X.concat(Ie),Se},canvas:O,promise:Se,reset:function(){Y&&d.cancel(Y),ae&&ae()}}}function Ae(O,R){var W=!O,q=!!E(R||{},"resize"),Q=!1,X=E(R,"disableForReducedMotion",Boolean),J=s&&!!E(R||{},"useWorker"),Y=J?p():null,ae=W?x:v,Se=O&&Y?!!O.__confetti_initialized:!1,Ie=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ve;function be(le,nt,Nt){for(var $t=E(le,"particleCount",_),pn=E(le,"angle",Number),An=E(le,"spread",Number),Ot=E(le,"startVelocity",Number),vl=E(le,"decay",Number),Ah=E(le,"gravity",Number),oo=E(le,"drift",Number),Xr=E(le,"colors",M),wl=E(le,"ticks",Number),Ye=E(le,"shapes"),lt=E(le,"scalar"),Jr=!!E(le,"flat"),ao=V(le),lo=$t,co=[],ar=O.width*ao.x,El=O.height*ao.y;lo--;)co.push(C({x:ar,y:El,angle:pn,spread:An,startVelocity:Ot,color:Xr[lo%Xr.length],shape:Ye[y(0,Ye.length)],ticks:wl,decay:vl,gravity:Ah,drift:oo,scalar:lt,flat:Jr}));return ve?ve.addFettis(co):(ve=b(O,co,ae,nt,Nt),ve.promise)}function He(le){var nt=X||E(le,"disableForReducedMotion",Boolean),Nt=E(le,"zIndex",Number);if(nt&&Ie)return u(function(Ot){Ot()});W&&ve?O=ve.canvas:W&&!O&&(O=A(Nt),document.body.appendChild(O)),q&&!Se&&ae(O);var $t={width:O.width,height:O.height};Y&&!Se&&Y.init(O),Se=!0,Y&&(O.__confetti_initialized=!0);function pn(){if(Y){var Ot={getBoundingClientRect:function(){if(!W)return O.getBoundingClientRect()}};ae(Ot),Y.postMessage({resize:{width:Ot.width,height:Ot.height}});return}$t.width=$t.height=null}function An(){ve=null,q&&(Q=!1,e.removeEventListener("resize",pn)),W&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,Se=!1)}return q&&!Q&&(Q=!0,e.addEventListener("resize",pn,!1)),Y?Y.fire(le,$t,An):be(le,$t,An)}return He.reset=function(){Y&&Y.reset(),ve&&ve.reset()},He}var pe;function ke(){return pe||(pe=Ae(null,{useWorker:!0,resize:!0})),pe}function Ne(O,R,W,q,Q,X,J){var Y=new Path2D(O),ae=new Path2D;ae.addPath(Y,new DOMMatrix(R));var Se=new Path2D;return Se.addPath(ae,new DOMMatrix([Math.cos(J)*Q,Math.sin(J)*Q,-Math.sin(J)*X,Math.cos(J)*X,W,q])),Se}function $(O){if(!o)throw new Error("path confetti are not supported in this browser");var R,W;typeof O=="string"?R=O:(R=O.path,W=O.matrix);var q=new Path2D(R),Q=document.createElement("canvas"),X=Q.getContext("2d");if(!W){for(var J=1e3,Y=J,ae=J,Se=0,Ie=0,ve,be,He=0;He<J;He+=2)for(var le=0;le<J;le+=2)X.isPointInPath(q,He,le,"nonzero")&&(Y=Math.min(Y,He),ae=Math.min(ae,le),Se=Math.max(Se,He),Ie=Math.max(Ie,le));ve=Se-Y,be=Ie-ae;var nt=10,Nt=Math.min(nt/ve,nt/be);W=[Nt,0,0,Nt,-Math.round(ve/2+Y)*Nt,-Math.round(be/2+ae)*Nt]}return{type:"path",path:R,matrix:W}}function Z(O){var R,W=1,q="#000000",Q='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?R=O:(R=O.text,W="scalar"in O?O.scalar:W,Q="fontFamily"in O?O.fontFamily:Q,q="color"in O?O.color:q);var X=10*W,J=""+X+"px "+Q,Y=new OffscreenCanvas(X,X),ae=Y.getContext("2d");ae.font=J;var Se=ae.measureText(R),Ie=Math.ceil(Se.actualBoundingBoxRight+Se.actualBoundingBoxLeft),ve=Math.ceil(Se.actualBoundingBoxAscent+Se.actualBoundingBoxDescent),be=2,He=Se.actualBoundingBoxLeft+be,le=Se.actualBoundingBoxAscent+be;Ie+=be+be,ve+=be+be,Y=new OffscreenCanvas(Ie,ve),ae=Y.getContext("2d"),ae.font=J,ae.fillStyle=q,ae.fillText(R,He,le);var nt=1/W;return{type:"bitmap",bitmap:Y.transferToImageBitmap(),matrix:[nt,0,0,nt,-Ie*nt/2,-ve*nt/2]}}n.exports=function(){return ke().apply(this,arguments)},n.exports.reset=function(){ke().reset()},n.exports.create=Ae,n.exports.shapeFromPath=$,n.exports.shapeFromText=Z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ol,!1);const R2=ol.exports;ol.exports.create;oh.register(zf,Wf,Nc,$o,l2,m2,o2);const M2=[{name:"Toy Co",price:10,shares:0,history:[10],icon:"🧸"},{name:"Game World",price:15,shares:0,history:[15],icon:"🎮"},{name:"Sweet Treats",price:5,shares:0,history:[5],icon:"🍭"},{name:"Pet Paradise",price:20,shares:0,history:[20],icon:"🐶"}],D2=({totalCoins:t})=>{const[e,n]=j.useState(M2),[i,r]=j.useState(t),[s,o]=j.useState(1),[a,l]=j.useState([t]),[u,h]=j.useState(!1),[d,p]=j.useState(0),m=["Buying low and selling high is the key to making money in stocks!","Diversify your investments to reduce risk.","Be patient! Sometimes stocks take time to grow.","Keep an eye on the trends, but don't panic if prices drop a little.","Remember, it's just a game - have fun and learn!"];j.useEffect(()=>{const y=setInterval(()=>{w(),o(I=>I+1)},3e3);return()=>clearInterval(y)},[]),j.useEffect(()=>{const y=_();l(I=>[...I,y]),y>=200&&R2({particleCount:100,spread:70,origin:{y:.6}}),s%5===0&&(h(!0),p(I=>(I+1)%m.length),setTimeout(()=>h(!1),5e3))},[e,i,s]);const w=()=>{n(y=>y.map(I=>{const M=(Math.random()-.5)*2,N=Math.max(1,I.price+M);return{...I,price:Number(N.toFixed(2)),history:[...I.history,N]}}))},S=y=>{i>=e[y].price&&(n(I=>I.map((M,N)=>N===y?{...M,shares:M.shares+1}:M)),r(I=>Number((I-e[y].price).toFixed(2))))},E=y=>{e[y].shares>0&&(n(I=>I.map((M,N)=>N===y?{...M,shares:M.shares-1}:M)),r(I=>Number((I+e[y].price).toFixed(2))))},_=()=>Number((i+e.reduce((y,I)=>y+I.price*I.shares,0)).toFixed(2));return P.jsxs("div",{className:"game-container",children:[P.jsxs("h2",{className:"game-title",children:[P.jsx(Tb,{className:"icon"})," Stock Market Adventure"]}),P.jsx("div",{className:"game-info",children:P.jsxs("div",{children:[P.jsxs("p",{className:"day",children:["Day: ",s]}),P.jsxs("p",{className:"piggy-bank1",children:[P.jsx(xb,{className:"icon"})," Piggy Bank: ",i.toFixed(2)]}),P.jsxs("p",{className:"net-worth",children:[P.jsx(bb,{className:"icon"})," Total Value: ",_().toFixed(2)]}),P.jsx("img",{src:"https://media.giphy.com/media/67ThRZlYBvibtdF9JH/giphy.gif",alt:"Money gif",className:"money-gif"})]})}),u&&P.jsxs("div",{className:"tip-box",children:[P.jsx("p",{className:"tip-title",children:"💡 Stock Market Tip:"}),P.jsx("p",{children:m[d]})]}),P.jsx("div",{className:"stock-table-container",children:P.jsxs("table",{className:"stock-table",children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Company"}),P.jsx("th",{children:"Coin"}),P.jsx("th",{children:"Shares"}),P.jsx("th",{children:"Actions"}),P.jsx("th",{children:"Trend"})]})}),P.jsx("tbody",{children:e.map((y,I)=>P.jsxs("tr",{children:[P.jsxs("td",{children:[P.jsx("span",{className:"stock-icon",children:y.icon}),y.name]}),P.jsx("td",{children:y.price.toFixed(2)}),P.jsx("td",{children:y.shares}),P.jsxs("td",{children:[P.jsx("button",{onClick:()=>S(I),className:"buy-button",disabled:i<y.price,children:"Buy"}),P.jsx("button",{onClick:()=>E(I),className:"sell-button",disabled:y.shares===0,children:"Sell"})]}),P.jsx("td",{children:P.jsx(P2,{data:{labels:y.history.map((M,N)=>N),datasets:[{data:y.history,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}}}})})]},y.name))})]})}),P.jsx("div",{className:"gif-container"})]})},N2=({onLoadingComplete:t})=>{const[e,n]=j.useState(0);return j.useEffect(()=>{const i=setInterval(()=>{n(r=>{if(r===100)return clearInterval(i),setTimeout(t,1e3),100;const s=r+10;return Math.min(s,100)})},200);return()=>{clearInterval(i)}},[t]),P.jsxs("div",{className:"loading-page",children:[P.jsxs("div",{className:"background",children:[P.jsx("div",{className:"circle circle1"}),P.jsx("div",{className:"circle circle2"}),P.jsx("div",{className:"circle circle3"})]}),P.jsxs("div",{className:"content4",children:[P.jsx("h1",{className:"title",children:"Little Bankers"}),P.jsxs("div",{className:"icons",children:[P.jsx("div",{className:"coin coin1",children:"💰"}),P.jsx("div",{className:"coin coin2",children:"💰"}),P.jsx("div",{className:"coin coin3",children:"💰"}),P.jsx("div",{className:"piggy-bank",children:"🐷"}),P.jsx("div",{className:"calculator",children:"🧮"})]}),P.jsx("div",{className:"loading-bar2",children:P.jsx("div",{className:"loading-progress",style:{width:`${e}%`}})}),P.jsxs("p",{className:"loading-text",children:["Loading... ",e,"%"]})]})]})},Fv=[{country:"United States",currency:"Dollar"},{country:"Japan",currency:"Yen"},{country:"United Kingdom",currency:"Pound"},{country:"European Union",currency:"Euro"},{country:"Switzerland",currency:"Franc"},{country:"Canada",currency:"Canadian Dollar"},{country:"Australia",currency:"Australian Dollar"},{country:"China",currency:"Yuan"},{country:"India",currency:"Rupee"},{country:"Brazil",currency:"Real"},{country:"Russia",currency:"Ruble"},{country:"Mexico",currency:"Peso"},{country:"South Korea",currency:"Won"},{country:"Sweden",currency:"Krona"},{country:"South Africa",currency:"Rand"},{country:"Sweden",currency:"Krona"}],O2=t=>{for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}},L2=()=>{const[t,e]=j.useState([]),[n,i]=j.useState(0),[r,s]=j.useState(0),[o,a]=j.useState(1),[l,u]=j.useState(""),[h,d]=j.useState([]);j.useEffect(()=>{p()},[]);const p=()=>{const _=[];Fv.forEach(y=>{_.push({content:y.country,type:"country",flipped:!1,matched:!1}),_.push({content:y.currency,type:"currency",flipped:!1,matched:!1})}),O2(_),e(_),d([]),i(0),s(0),a(1),u("")},m=_=>{if(h.length<2&&!t[_].flipped&&!t[_].matched){const y=[...t];y[_].flipped=!0,e(y),d(I=>[...I,_]),h.length===1&&setTimeout(()=>w(h[0],_),1e3)}},w=(_,y)=>{const I=[...t];I[_].type!==I[y].type&&Fv.some(N=>N.country===I[_].content&&N.currency===I[y].content||N.country===I[y].content&&N.currency===I[_].content)?(I[_].matched=!0,I[y].matched=!0,u("🎉 Correct match! +1 point"),o===1?i(N=>N+1):s(N=>N+1)):(I[_].flipped=!1,I[y].flipped=!1,u("❌ Incorrect match! Try again!")),e(I),d([]),a(o===1?2:1)},S=()=>{p()},E=t.every(_=>_.matched);return P.jsxs("div",{className:"container",children:[P.jsx("h1",{children:"Global Currency Adventure"}),P.jsxs("div",{className:"game-info",children:[P.jsxs("div",{className:"player player1",children:[P.jsx("h2",{children:"Player 1"}),P.jsxs("p",{children:["Score: ",P.jsx("span",{children:n})]})]}),P.jsx("div",{className:"current-player",children:P.jsxs("p",{children:["Current Player: ",P.jsx("span",{children:o})]})}),P.jsxs("div",{className:"player player2",children:[P.jsx("h2",{children:"Player 2"}),P.jsxs("p",{children:["Score: ",P.jsx("span",{children:r})]})]})]}),P.jsx("div",{className:"game-board",children:t.map((_,y)=>P.jsx("div",{className:`card ${_.flipped?"flipped":""} ${_.matched?"matched":""}`,onClick:()=>m(y),children:P.jsxs("div",{className:"card-inner",children:[P.jsx("div",{className:"card-front",children:"?"}),P.jsx("div",{className:"card-back",children:_.content})]})},y))}),P.jsx("div",{className:"message",children:l}),E&&P.jsxs("div",{className:"end-game",children:[P.jsxs("p",{children:["🏆 Game Over! ",n>r?"Player 1":r>n?"Player 2":"It's a tie"," wins!"]}),P.jsx("button",{onClick:S,children:"Play Again"})]})]})},V2=({gameData:t,onAnswerClick:e})=>P.jsxs("div",{className:"game-card1",children:[P.jsx("img",{src:t.image,alt:"Game Image",className:"game-image"}),P.jsx("h2",{className:"game-question",children:t.question}),P.jsx("div",{className:"options-grid",children:t.options.map(n=>P.jsx("button",{onClick:()=>e(n),className:"option-button",children:n.text},n.id))})]}),Lo=[{id:1,image:"https://images.unsplash.com/photo-1574607383476-f517f260d30b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGlnZ3klMjBiYW5rfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",question:"What is this object used for?",options:[{id:1,text:"Savings ",correct:!0},{id:2,text:"Cooking food",correct:!1},{id:3,text:"Playing music",correct:!1},{id:4,text:"Telling time",correct:!1}]},{id:2,image:"https://images.unsplash.com/photo-1561414927-6d86591d0c4f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8Y3JlZGl0JTIwY2FyZHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",question:"What is this item called?",options:[{id:1,text:"coins ",correct:!0},{id:2,text:"Book",correct:!1},{id:3,text:"Phone",correct:!1},{id:4,text:"Toy",correct:!1}]},{id:3,image:"https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXRtfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",question:"What can you do with this machine?",options:[{id:1,text:"Mobile Calculator",correct:!0},{id:2,text:"Buy groceries",correct:!1},{id:3,text:"Paper plane",correct:!1},{id:4,text:"Make phone calls",correct:!1}]},{id:4,image:"https://images.unsplash.com/photo-1554224154-26032ffc0d07?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8d2FsbGV0fGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",question:"What Is there in the Screen",options:[{id:1,text:"Mobile,paper and coffe",correct:!0},{id:2,text:"Food",correct:!1},{id:3,text:"Clothes",correct:!1},{id:4,text:"Toys",correct:!1}]},{id:5,image:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bW9uZXl8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",question:"What are these paper items called?",options:[{id:1,text:"Money",correct:!0},{id:2,text:"Leaves",correct:!1},{id:3,text:"Tickets",correct:!1},{id:4,text:"Cards",correct:!1}]},{id:6,image:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8bW9uZXklMjBqYXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",question:"What is this jar used for?",options:[{id:1,text:"Money plant",correct:!0},{id:2,text:"Storing cookies",correct:!1},{id:3,text:"Keeping toys",correct:!1},{id:4,text:"Saving money",correct:!1}]},{id:7,image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y2FzaCUyMHJlZ2lzdGVyfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",question:"What is this machine used for in stores?",options:[{id:1,text:"Handling money",correct:!0},{id:2,text:"Making food",correct:!1},{id:3,text:"Cleaning clothes",correct:!1},{id:4,text:"Playing games",correct:!1}]},{id:8,image:"https://images.unsplash.com/photo-1621981386829-9b458a2cddde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Y29pbnN8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",question:"What are these round metal objects?",options:[{id:1,text:"Euro",correct:!0},{id:2,text:"Buttons",correct:!1},{id:3,text:"Coins",correct:!1},{id:4,text:"Candies",correct:!1}]},{id:9,image:"https://images.unsplash.com/photo-1556742031-c6961e8560b0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8YmFua3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",question:"What is this building called?",options:[{id:1,text:"DebitCard Scanner",correct:!0},{id:2,text:"Pizza",correct:!1},{id:3,text:"Toy",correct:!1},{id:4,text:"Restaurant",correct:!1}]},{id:10,image:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8b25saW5lJTIwYmFua2luZ3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",question:"What can you do with this device?",options:[{id:1,text:"Writing",correct:!0},{id:2,text:"Cook food",correct:!1},{id:3,text:"Drive a car",correct:!1},{id:4,text:"Play sports",correct:!1}]}],F2=({onEarnCoins:t})=>{const[e,n]=j.useState(0),[i,r]=j.useState(0),[s,o]=j.useState(!1),[a,l]=j.useState(null),[u,h]=j.useState(!1),d=w=>{u||(w.correct?(r(i+1),t(5),l("Correct!")):l(`Incorrect! The correct answer is: ${Lo[e].options.find(S=>S.correct).text}`),h(!0))},p=()=>{const w=e+1;w<Lo.length?(n(w),h(!1),l(null)):o(!0)},m=()=>{n(0),r(0),o(!1),l(null),h(!1)};return P.jsxs("div",{className:"game-container",children:[P.jsxs("h1",{className:"game-title",children:[P.jsx(Ib,{className:"game-icon"})," Guess The Image"]}),s?P.jsxs("div",{className:"score-card",children:[P.jsx("h2",{className:"score-title",children:"Game Over!"}),P.jsxs("p",{className:"score-text",children:["You scored ",i," out of ",Lo.length]}),P.jsx("button",{onClick:m,className:"restart-button",children:"Play Again"})]}):P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"question-counter",children:["Question ",e+1," of ",Lo.length]}),P.jsx(V2,{gameData:Lo[e],onAnswerClick:d}),a&&P.jsxs("div",{className:"answer-feedback",children:[P.jsx("p",{children:a}),P.jsx("button",{onClick:p,className:"next-button",children:"Next Question"})]})]})]})};var jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},j2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),i.push(n[h],n[d],n[p],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new U2;const p=s<<2|a>>4;if(i.push(p),u!==64){const m=a<<4&240|u>>2;if(i.push(m),d!==64){const w=u<<6&192|d;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class U2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B2=function(t){const e=cT(t);return uT.encodeByteArray(e,!0)},Tu=function(t){return B2(t).replace(/\./g,"")},hT=function(t){try{return uT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=()=>z2().__FIREBASE_DEFAULTS__,H2=()=>{if(typeof process>"u"||typeof jv>"u")return;const t=jv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hT(t[1]);return e&&JSON.parse(e)},lh=()=>{try{return W2()||H2()||$2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dT=t=>{var e,n;return(n=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},q2=t=>{const e=dT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},fT=()=>{var t;return(t=lh())===null||t===void 0?void 0:t.config},pT=t=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tu(JSON.stringify(n)),Tu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function Y2(){var t;const e=(t=lh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function J2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eM(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tM(){return!Y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nM(){try{return typeof indexedDB=="object"}catch{return!1}}function iM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="FirebaseError";class yi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rM,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?sM(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new yi(r,a,i)}}function sM(t,e){return t.replace(oM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const oM=/\{\$([^}]+)}/g;function aM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Su(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Uv(s)&&Uv(o)){if(!Su(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Uv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ko(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Go(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lM(t,e){const n=new cM(t,e);return n.subscribe.bind(n)}class cM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");uM(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=xd),r.error===void 0&&(r.error=xd),r.complete===void 0&&(r.complete=xd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new K2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fM(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dM(t){return t===vr?void 0:t}function fM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const gM={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},mM=he.INFO,yM={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},_M=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=yM[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=mM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const vM=(t,e)=>e.some(n=>t instanceof n);let Bv,zv;function wM(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EM(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Hf=new WeakMap,mT=new WeakMap,Ad=new WeakMap,Ag=new WeakMap;function TM(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Hi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gT.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function SM(t){if(Hf.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hf.set(t,e)}let $f={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IM(t){$f=t($f)}function xM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kd(this),e,...n);return mT.set(i,e.sort?e.sort():[e]),Hi(i)}:EM().includes(t)?function(...e){return t.apply(kd(this),e),Hi(gT.get(this))}:function(...e){return Hi(t.apply(kd(this),e))}}function AM(t){return typeof t=="function"?xM(t):(t instanceof IDBTransaction&&SM(t),vM(t,wM())?new Proxy(t,$f):t)}function Hi(t){if(t instanceof IDBRequest)return TM(t);if(Ad.has(t))return Ad.get(t);const e=AM(t);return e!==t&&(Ad.set(t,e),Ag.set(e,t)),e}const kd=t=>Ag.get(t);function kM(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Hi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Hi(o.result),l.oldVersion,l.newVersion,Hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const bM=["get","getKey","getAll","getAllKeys","count"],CM=["put","add","delete","clear"],bd=new Map;function Wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=CM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||bM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return bd.set(e,s),s}IM(t=>({...t,get:(e,n,i)=>Wv(e,n)||t.get(e,n,i),has:(e,n)=>!!Wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function RM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qf="@firebase/app",Hv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new xg("@firebase/app"),MM="@firebase/app-compat",DM="@firebase/analytics-compat",NM="@firebase/analytics",OM="@firebase/app-check-compat",LM="@firebase/app-check",VM="@firebase/auth",FM="@firebase/auth-compat",jM="@firebase/database",UM="@firebase/data-connect",BM="@firebase/database-compat",zM="@firebase/functions",WM="@firebase/functions-compat",HM="@firebase/installations",$M="@firebase/installations-compat",qM="@firebase/messaging",KM="@firebase/messaging-compat",GM="@firebase/performance",QM="@firebase/performance-compat",YM="@firebase/remote-config",XM="@firebase/remote-config-compat",JM="@firebase/storage",ZM="@firebase/storage-compat",eD="@firebase/firestore",tD="@firebase/vertexai-preview",nD="@firebase/firestore-compat",iD="firebase",rD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",sD={[qf]:"fire-core",[MM]:"fire-core-compat",[NM]:"fire-analytics",[DM]:"fire-analytics-compat",[LM]:"fire-app-check",[OM]:"fire-app-check-compat",[VM]:"fire-auth",[FM]:"fire-auth-compat",[jM]:"fire-rtdb",[UM]:"fire-data-connect",[BM]:"fire-rtdb-compat",[zM]:"fire-fn",[WM]:"fire-fn-compat",[HM]:"fire-iid",[$M]:"fire-iid-compat",[qM]:"fire-fcm",[KM]:"fire-fcm-compat",[GM]:"fire-perf",[QM]:"fire-perf-compat",[YM]:"fire-rc",[XM]:"fire-rc-compat",[JM]:"fire-gcs",[ZM]:"fire-gcs-compat",[eD]:"fire-fst",[nD]:"fire-fst-compat",[tD]:"fire-vertex","fire-js":"fire-js",[iD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map,oD=new Map,Gf=new Map;function $v(t,e){try{t.container.addComponent(e)}catch(n){di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bs(t){const e=t.name;if(Gf.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,t);for(const n of Iu.values())$v(n,t);for(const n of oD.values())$v(n,t);return!0}function kg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new al("app","Firebase",aD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=rD;function yT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw $i.create("bad-app-name",{appName:String(r)});if(n||(n=fT()),!n)throw $i.create("no-options");const s=Iu.get(r);if(s){if(Su(n,s.options)&&Su(i,s.config))return s;throw $i.create("duplicate-app",{appName:r})}const o=new pM(r);for(const l of Gf.values())o.addComponent(l);const a=new lD(n,i,o);return Iu.set(r,a),a}function _T(t=Kf){const e=Iu.get(t);if(!e&&t===Kf&&fT())return yT();if(!e)throw $i.create("no-app",{appName:t});return e}function qi(t,e,n){var i;let r=(i=sD[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(a.join(" "));return}Bs(new Fr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="firebase-heartbeat-database",uD=1,Wa="firebase-heartbeat-store";let Cd=null;function vT(){return Cd||(Cd=kM(cD,uD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw $i.create("idb-open",{originalErrorMessage:t.message})})),Cd}async function hD(t){try{const n=(await vT()).transaction(Wa),i=await n.objectStore(Wa).get(wT(t));return await n.done,i}catch(e){if(e instanceof yi)di.warn(e.message);else{const n=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(n.message)}}}async function qv(t,e){try{const i=(await vT()).transaction(Wa,"readwrite");await i.objectStore(Wa).put(e,wT(t)),await i.done}catch(n){if(n instanceof yi)di.warn(n.message);else{const i=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});di.warn(i.message)}}}function wT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1024,fD=30*24*60*60*1e3;class pD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fD}),this._storage.overwrite(this._heartbeatsCache))}catch(i){di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kv(),{heartbeatsToSend:i,unsentEntries:r}=gD(this._heartbeatsCache.heartbeats),s=Tu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return di.warn(n),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function gD(t,e=dD){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Gv(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Gv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class mD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nM()?iM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gv(t){return Tu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){Bs(new Fr("platform-logger",e=>new PM(e),"PRIVATE")),Bs(new Fr("heartbeat",e=>new pD(e),"PRIVATE")),qi(qf,Hv,t),qi(qf,Hv,"esm2017"),qi("fire-js","")}yD("");function bg(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function ET(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _D=ET,TT=new al("auth","Firebase",ET());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new xg("@firebase/auth");function vD(t,...e){xu.logLevel<=he.WARN&&xu.warn(`Auth (${to}): ${t}`,...e)}function Oc(t,...e){xu.logLevel<=he.ERROR&&xu.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw Pg(t,...e)}function In(t,...e){return Pg(t,...e)}function Cg(t,e,n){const i=Object.assign(Object.assign({},_D()),{[e]:n});return new al("auth","Firebase",i).create(e,{appName:t.name})}function oi(t){return Cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wD(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&fn(t,"argument-error"),Cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return TT.create(t,...e)}function ne(t,e,...n){if(!t)throw Pg(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Oc(e),new Error(e)}function fi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ED(){return Qv()==="http:"||Qv()==="https:"}function Qv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ED()||J2()||"connection"in navigator)?navigator.onLine:!0}function SD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=Q2()||Z2()}get(){return TD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new cl(3e4,6e4);function ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rr(t,e,n,i,r={}){return IT(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=ll(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return X2()||(u.referrerPolicy="no-referrer"),ST.fetch()(xT(t,t.config.apiHost,n,a),u)})}async function IT(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},ID),e);try{const r=new kD(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw pc(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Cg(t,h,u);fn(t,h)}}catch(r){if(r instanceof yi)throw r;fn(t,"network-request-failed",{message:String(r)})}}async function ul(t,e,n,i,r={}){const s=await rr(t,e,n,i,r);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function xT(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Rg(t.config,r):`${t.config.apiScheme}://${r}`}function AD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(In(this.auth,"network-request-failed")),xD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=In(t,e,i);return r.customData._tokenResponse=n,r}function Yv(t){return t!==void 0&&t.enterprise!==void 0}class bD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function CD(t,e){return rr(t,"GET","/v2/recaptchaConfig",ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){return rr(t,"POST","/v1/accounts:delete",e)}async function AT(t,e){return rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RD(t,e=!1){const n=Ht(t),i=await n.getIdToken(e),r=Mg(i);ne(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:fa(Pd(r.auth_time)),issuedAtTime:fa(Pd(r.iat)),expirationTime:fa(Pd(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pd(t){return Number(t)*1e3}function Mg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const r=hT(n);return r?JSON.parse(r):(Oc("Failed to decode base64 JWT payload"),null)}catch(r){return Oc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Xv(t){const e=Mg(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof yi&&MD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function MD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ha(t,AT(n,{idToken:i}));ne(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kT(s.providerUserInfo):[],a=OD(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yf(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function ND(t){const e=Ht(t);await Au(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OD(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function kT(t){return t.map(e=>{var{providerId:n}=e,i=bg(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(t,e){const n=await IT(t,{},async()=>{const i=ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=xT(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ST.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VD(t,e){return rr(t,"POST","/v2/accounts:revokeToken",ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=Xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await LD(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new ks;return i&&(ne(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ne(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ks,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yf(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ha(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RD(this,e)}reload(){return ND(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Au(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Ha(this,PD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,u,h;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:M,isAnonymous:N,providerData:V,stsTokenManager:x}=n;ne(I&&x,e,"internal-error");const v=ks.fromJSON(this.name,x);ne(typeof I=="string",e,"internal-error"),Ti(d,e.name),Ti(p,e.name),ne(typeof M=="boolean",e,"internal-error"),ne(typeof N=="boolean",e,"internal-error"),Ti(m,e.name),Ti(w,e.name),Ti(S,e.name),Ti(E,e.name),Ti(_,e.name),Ti(y,e.name);const A=new ii({uid:I,auth:e,email:p,emailVerified:M,displayName:d,isAnonymous:N,photoURL:w,phoneNumber:m,tenantId:S,stsTokenManager:v,createdAt:_,lastLoginAt:y});return V&&Array.isArray(V)&&(A.providerData=V.map(k=>Object.assign({},k))),E&&(A._redirectEventId=E),A}static async _fromIdTokenResponse(e,n,i=!1){const r=new ks;r.updateFromServerResponse(n);const s=new ii({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Au(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ne(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?kT(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new ks;a.updateFromIdToken(i);const l=new ii({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Yf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function ri(t){fi(t instanceof Function,"Expected a class definition");let e=Jv.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bT.type="NONE";const Zv=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e,n){return`firebase:${t}:${e}:${n}`}class bs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Lc(this.userKey,r.apiKey,s),this.fullPersistenceKey=Lc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new bs(ri(Zv),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||ri(Zv);const o=Lc(i,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=ii._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new bs(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new bs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(OT(e))return"Webos";if(PT(e))return"Safari";if((e.includes("chrome/")||RT(e))&&!e.includes("edge/"))return"Chrome";if(DT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function CT(t=bt()){return/firefox\//i.test(t)}function PT(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RT(t=bt()){return/crios\//i.test(t)}function MT(t=bt()){return/iemobile/i.test(t)}function DT(t=bt()){return/android/i.test(t)}function NT(t=bt()){return/blackberry/i.test(t)}function OT(t=bt()){return/webos/i.test(t)}function Dg(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FD(t=bt()){var e;return Dg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jD(){return eM()&&document.documentMode===10}function LT(t=bt()){return Dg(t)||DT(t)||OT(t)||NT(t)||/windows phone/i.test(t)||MT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e=[]){let n;switch(t){case"Browser":n=e0(bt());break;case"Worker":n=`${e0(bt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e={}){return rr(t,"GET","/v2/passwordPolicy",ir(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=6;class WD{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t0(this),this.idTokenSubscription=new t0(this),this.beforeStateQueue=new UD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await bs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AT(this,{idToken:e}),i=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Au(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(oi(this));const n=e?Ht(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BD(this),n=new WD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await VD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await bs.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sr(t){return Ht(t)}class t0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $D(t){ch=t}function FT(t){return ch.loadJS(t)}function qD(){return ch.recaptchaEnterpriseScript}function KD(){return ch.gapiScript}function GD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const QD="recaptcha-enterprise",YD="NO_RECAPTCHA";class XD{constructor(e){this.type=QD,this.auth=sr(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{CD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new bD(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;Yv(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(YD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Yv(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qD();l.length!==0&&(l+=a),FT(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function n0(t,e,n,i=!1){const r=new XD(t);let s;try{s=await r.verify(n)}catch{s=await r.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xf(t,e,n,i){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await n0(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await n0(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e){const n=kg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Su(s,e??{}))return r;fn(r,"already-initialized")}return n.initialize({options:e})}function ZD(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function eN(t,e,n){const i=sr(t);ne(i._canInitEmulator,i,"emulator-config-failed"),ne(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=jT(e),{host:o,port:a}=tN(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),nN()}function jT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tN(t){const e=jT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:i0(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:i0(o)}}}function i0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function iN(t,e){return rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e){return ul(t,"POST","/v1/accounts:signInWithPassword",ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t,e){return ul(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))}async function oN(t,e){return ul(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends Ng{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new $a(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new $a(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,n,"signInWithPassword",rN);case"emailLink":return sN(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,i,"signUpPassword",iN);case"emailLink":return oN(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(t,e){return ul(t,"POST","/v1/accounts:signInWithIdp",ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="http://localhost";class jr extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new jr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=bg(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new jr(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Cs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Cs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cs(e,n)}buildRequest(){const e={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cN(t){const e=Ko(Go(t)).link,n=e?Ko(Go(e)).deep_link_id:null,i=Ko(Go(t)).deep_link_id;return(i?Ko(Go(i)).link:null)||i||n||e||t}class Og{constructor(e){var n,i,r,s,o,a;const l=Ko(Go(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,d=lN((r=l.mode)!==null&&r!==void 0?r:null);ne(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=cN(e);try{return new Og(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,n){return $a._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Og.parseLink(n);return ne(i,"argument-error"),$a._fromEmailAndCode(e,i.code,i.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends hl{constructor(){super("facebook.com")}static credential(e){return jr._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xn.credential(e.oauthAccessToken)}catch{return null}}}Xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return jr._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Jn.credential(n,i)}catch{return null}}}Jn.GOOGLE_SIGN_IN_METHOD="google.com";Jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends hl{constructor(){super("github.com")}static credential(e){return jr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends hl{constructor(){super("twitter.com")}static credential(e,n){return jr._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zn.credential(n,i)}catch{return null}}}Zn.TWITTER_SIGN_IN_METHOD="twitter.com";Zn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(t,e){return ul(t,"POST","/v1/accounts:signUp",ir(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ii._fromIdTokenResponse(e,i,r),o=r0(i);return new Ur({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=r0(i);return new Ur({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function r0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends yi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new ku(e,n,i,r)}}function UT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ku._fromErrorAndOperation(t,s,e,i):s})}async function hN(t,e,n=!1){const i=await Ha(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ur._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e,n=!1){const{auth:i}=t;if(En(i.app))return Promise.reject(oi(i));const r="reauthenticate";try{const s=await Ha(t,UT(i,r,e,t),n);ne(s.idToken,i,"internal-error");const o=Mg(s.idToken);ne(o,i,"internal-error");const{sub:a}=o;return ne(t.uid===a,i,"user-mismatch"),Ur._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(t,e,n=!1){if(En(t.app))return Promise.reject(oi(t));const i="signIn",r=await UT(t,i,e),s=await Ur._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function fN(t,e){return BT(sr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t){const e=sr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pN(t,e,n){if(En(t.app))return Promise.reject(oi(t));const i=sr(t),o=await Xf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zT(t),l}),a=await Ur._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function gN(t,e,n){return En(t.app)?Promise.reject(oi(t)):fN(Ht(t),no.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&zT(t),i})}function mN(t,e,n,i){return Ht(t).onIdTokenChanged(e,n,i)}function yN(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}const bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1e3,vN=10;class HT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);jD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,vN):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HT.type="LOCAL";const wN=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$T.type="SESSION";const qT=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new uh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await EN(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Vg("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return window}function SN(t){Ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}async function IN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AN(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebaseLocalStorageDb",kN=1,Cu="firebaseLocalStorage",QT="fbase_key";class dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(t,e){return t.transaction([Cu],e?"readwrite":"readonly").objectStore(Cu)}function bN(){const t=indexedDB.deleteDatabase(GT);return new dl(t).toPromise()}function Jf(){const t=indexedDB.open(GT,kN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Cu,{keyPath:QT})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Cu)?e(i):(i.close(),await bN(),e(await Jf()))})})}async function s0(t,e,n){const i=hh(t,!0).put({[QT]:e,value:n});return new dl(i).toPromise()}async function CN(t,e){const n=hh(t,!1).get(e),i=await new dl(n).toPromise();return i===void 0?null:i.value}function o0(t,e){const n=hh(t,!0).delete(e);return new dl(n).toPromise()}const PN=800,RN=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>RN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(AN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jf();return await s0(e,bu,"1"),await o0(e,bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>s0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>CN(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>o0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=hh(r,!1).getAll();return new dl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const MN=YT;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e){return e?ri(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DN(t){return BT(t.auth,new Fg(t),t.bypassAuthState)}function NN(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),dN(n,new Fg(t),t.bypassAuthState)}async function ON(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),hN(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DN;case"linkViaPopup":case"linkViaRedirect":return ON;case"reauthViaPopup":case"reauthViaRedirect":return NN;default:fn(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new cl(2e3,1e4);async function VN(t,e,n){if(En(t.app))return Promise.reject(In(t,"operation-not-supported-in-this-environment"));const i=sr(t);wD(t,e,Lg);const r=XT(i,n);return new xr(i,"signInViaPopup",e,r).executeNotNull()}class xr extends JT{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,xr.currentPopupAction&&xr.currentPopupAction.cancel(),xr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LN.get())};e()}}xr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="pendingRedirect",Vc=new Map;class jN extends JT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Vc.get(this.auth._key());if(!e){try{const i=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Vc.set(this.auth._key(),e)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(t,e){const n=WN(e),i=zN(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function BN(t,e){Vc.set(t._key(),e)}function zN(t){return ri(t._redirectPersistence)}function WN(t){return Lc(FN,t.config.apiKey,t.name)}async function HN(t,e,n=!1){if(En(t.app))return Promise.reject(oi(t));const i=sr(t),r=XT(i,e),o=await new jN(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=10*60*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ZT(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(In(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$N&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e={}){return rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YN=/^https?/;async function XN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GN(t);for(const n of e)try{if(JN(n))return}catch{}fn(t,"unauthorized-domain")}function JN(t){const e=Qf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!YN.test(n))return!1;if(QN.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new cl(3e4,6e4);function l0(){const t=Ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eO(t){return new Promise((e,n)=>{var i,r,s;function o(){l0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{l0(),n(In(t,"network-request-failed"))},timeout:ZN.get()})}if(!((r=(i=Ln().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Ln().gapi)===null||s===void 0)&&s.load)o();else{const a=GD("iframefcb");return Ln()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},FT(`${KD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function tO(t){return Fc=Fc||eO(t),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new cl(5e3,15e3),iO="__/auth/iframe",rO="emulator/auth/iframe",sO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aO(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rg(e,rO):`https://${t.config.authDomain}/${iO}`,i={apiKey:e.apiKey,appName:t.name,v:to},r=oO.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ll(i).slice(1)}`}async function lO(t){const e=await tO(t),n=Ln().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:aO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sO,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=Ln().setTimeout(()=>{s(o)},nO.get());function l(){Ln().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uO=500,hO=600,dO="_blank",fO="http://localhost";class c0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pO(t,e,n,i=uO,r=hO){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cO),{width:i.toString(),height:r.toString(),top:s,left:o}),u=bt().toLowerCase();n&&(a=RT(u)?dO:n),CT(u)&&(e=e||fO,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,w])=>`${p}${m}=${w},`,"");if(FD(u)&&a!=="_self")return gO(e||"",a),new c0(null);const d=window.open(e||"",a,h);ne(d,t,"popup-blocked");try{d.focus()}catch{}return new c0(d)}function gO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="__/auth/handler",yO="emulator/auth/handler",_O=encodeURIComponent("fac");async function u0(t,e,n,i,r,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:to,eventId:r};if(e instanceof Lg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof hl){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${_O}=${encodeURIComponent(l)}`:"";return`${vO(t)}?${ll(a).slice(1)}${u}`}function vO({config:t}){return t.emulator?Rg(t,yO):`https://${t.authDomain}/${mO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="webStorageSupport";class wO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=HN,this._overrideRedirectResult=BN}async _openPopup(e,n,i,r){var s;fi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await u0(e,n,i,Qf(),r);return pO(e,o,Vg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await u0(e,n,i,Qf(),r);return SN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(fi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await lO(e),i=new qN(e);return n.register("authEvent",r=>(ne(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rd,{type:Rd},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Rd];o!==void 0&&n(!!o),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LT()||PT()||Dg()}}const EO=wO;var h0="@firebase/auth",d0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IO(t){Bs(new Fr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(t)},u=new HD(i,r,s,l);return ZD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Bs(new Fr("auth-internal",e=>{const n=sr(e.getProvider("auth").getImmediate());return(i=>new TO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(h0,d0,SO(t)),qi(h0,d0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=5*60,AO=pT("authIdTokenMaxAge")||xO;let f0=null;const kO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AO)return;const r=n==null?void 0:n.token;f0!==r&&(f0=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function bO(t=_T()){const e=kg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JD(t,{popupRedirectResolver:EO,persistence:[MN,wN,qT]}),i=pT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=kO(s.toString());yN(n,o,()=>o(n.currentUser)),mN(n,a=>o(a))}}const r=dT("auth");return r&&eN(n,`http://${r}`),n}function CO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$D({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=In("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",CO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IO("Browser");var PO="firebase",RO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(PO,RO,"app");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,eS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,v){function A(){}A.prototype=v.prototype,x.D=v.prototype,x.prototype=new A,x.prototype.constructor=x,x.C=function(k,C,D){for(var b=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)b[Ae-2]=arguments[Ae];return v.prototype[C].apply(k,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,v,A){A||(A=0);var k=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)k[C]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(C=0;16>C;++C)k[C]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=x.g[0],A=x.g[1],C=x.g[2];var D=x.g[3],b=v+(D^A&(C^D))+k[0]+3614090360&4294967295;v=A+(b<<7&4294967295|b>>>25),b=D+(C^v&(A^C))+k[1]+3905402710&4294967295,D=v+(b<<12&4294967295|b>>>20),b=C+(A^D&(v^A))+k[2]+606105819&4294967295,C=D+(b<<17&4294967295|b>>>15),b=A+(v^C&(D^v))+k[3]+3250441966&4294967295,A=C+(b<<22&4294967295|b>>>10),b=v+(D^A&(C^D))+k[4]+4118548399&4294967295,v=A+(b<<7&4294967295|b>>>25),b=D+(C^v&(A^C))+k[5]+1200080426&4294967295,D=v+(b<<12&4294967295|b>>>20),b=C+(A^D&(v^A))+k[6]+2821735955&4294967295,C=D+(b<<17&4294967295|b>>>15),b=A+(v^C&(D^v))+k[7]+4249261313&4294967295,A=C+(b<<22&4294967295|b>>>10),b=v+(D^A&(C^D))+k[8]+1770035416&4294967295,v=A+(b<<7&4294967295|b>>>25),b=D+(C^v&(A^C))+k[9]+2336552879&4294967295,D=v+(b<<12&4294967295|b>>>20),b=C+(A^D&(v^A))+k[10]+4294925233&4294967295,C=D+(b<<17&4294967295|b>>>15),b=A+(v^C&(D^v))+k[11]+2304563134&4294967295,A=C+(b<<22&4294967295|b>>>10),b=v+(D^A&(C^D))+k[12]+1804603682&4294967295,v=A+(b<<7&4294967295|b>>>25),b=D+(C^v&(A^C))+k[13]+4254626195&4294967295,D=v+(b<<12&4294967295|b>>>20),b=C+(A^D&(v^A))+k[14]+2792965006&4294967295,C=D+(b<<17&4294967295|b>>>15),b=A+(v^C&(D^v))+k[15]+1236535329&4294967295,A=C+(b<<22&4294967295|b>>>10),b=v+(C^D&(A^C))+k[1]+4129170786&4294967295,v=A+(b<<5&4294967295|b>>>27),b=D+(A^C&(v^A))+k[6]+3225465664&4294967295,D=v+(b<<9&4294967295|b>>>23),b=C+(v^A&(D^v))+k[11]+643717713&4294967295,C=D+(b<<14&4294967295|b>>>18),b=A+(D^v&(C^D))+k[0]+3921069994&4294967295,A=C+(b<<20&4294967295|b>>>12),b=v+(C^D&(A^C))+k[5]+3593408605&4294967295,v=A+(b<<5&4294967295|b>>>27),b=D+(A^C&(v^A))+k[10]+38016083&4294967295,D=v+(b<<9&4294967295|b>>>23),b=C+(v^A&(D^v))+k[15]+3634488961&4294967295,C=D+(b<<14&4294967295|b>>>18),b=A+(D^v&(C^D))+k[4]+3889429448&4294967295,A=C+(b<<20&4294967295|b>>>12),b=v+(C^D&(A^C))+k[9]+568446438&4294967295,v=A+(b<<5&4294967295|b>>>27),b=D+(A^C&(v^A))+k[14]+3275163606&4294967295,D=v+(b<<9&4294967295|b>>>23),b=C+(v^A&(D^v))+k[3]+4107603335&4294967295,C=D+(b<<14&4294967295|b>>>18),b=A+(D^v&(C^D))+k[8]+1163531501&4294967295,A=C+(b<<20&4294967295|b>>>12),b=v+(C^D&(A^C))+k[13]+2850285829&4294967295,v=A+(b<<5&4294967295|b>>>27),b=D+(A^C&(v^A))+k[2]+4243563512&4294967295,D=v+(b<<9&4294967295|b>>>23),b=C+(v^A&(D^v))+k[7]+1735328473&4294967295,C=D+(b<<14&4294967295|b>>>18),b=A+(D^v&(C^D))+k[12]+2368359562&4294967295,A=C+(b<<20&4294967295|b>>>12),b=v+(A^C^D)+k[5]+4294588738&4294967295,v=A+(b<<4&4294967295|b>>>28),b=D+(v^A^C)+k[8]+2272392833&4294967295,D=v+(b<<11&4294967295|b>>>21),b=C+(D^v^A)+k[11]+1839030562&4294967295,C=D+(b<<16&4294967295|b>>>16),b=A+(C^D^v)+k[14]+4259657740&4294967295,A=C+(b<<23&4294967295|b>>>9),b=v+(A^C^D)+k[1]+2763975236&4294967295,v=A+(b<<4&4294967295|b>>>28),b=D+(v^A^C)+k[4]+1272893353&4294967295,D=v+(b<<11&4294967295|b>>>21),b=C+(D^v^A)+k[7]+4139469664&4294967295,C=D+(b<<16&4294967295|b>>>16),b=A+(C^D^v)+k[10]+3200236656&4294967295,A=C+(b<<23&4294967295|b>>>9),b=v+(A^C^D)+k[13]+681279174&4294967295,v=A+(b<<4&4294967295|b>>>28),b=D+(v^A^C)+k[0]+3936430074&4294967295,D=v+(b<<11&4294967295|b>>>21),b=C+(D^v^A)+k[3]+3572445317&4294967295,C=D+(b<<16&4294967295|b>>>16),b=A+(C^D^v)+k[6]+76029189&4294967295,A=C+(b<<23&4294967295|b>>>9),b=v+(A^C^D)+k[9]+3654602809&4294967295,v=A+(b<<4&4294967295|b>>>28),b=D+(v^A^C)+k[12]+3873151461&4294967295,D=v+(b<<11&4294967295|b>>>21),b=C+(D^v^A)+k[15]+530742520&4294967295,C=D+(b<<16&4294967295|b>>>16),b=A+(C^D^v)+k[2]+3299628645&4294967295,A=C+(b<<23&4294967295|b>>>9),b=v+(C^(A|~D))+k[0]+4096336452&4294967295,v=A+(b<<6&4294967295|b>>>26),b=D+(A^(v|~C))+k[7]+1126891415&4294967295,D=v+(b<<10&4294967295|b>>>22),b=C+(v^(D|~A))+k[14]+2878612391&4294967295,C=D+(b<<15&4294967295|b>>>17),b=A+(D^(C|~v))+k[5]+4237533241&4294967295,A=C+(b<<21&4294967295|b>>>11),b=v+(C^(A|~D))+k[12]+1700485571&4294967295,v=A+(b<<6&4294967295|b>>>26),b=D+(A^(v|~C))+k[3]+2399980690&4294967295,D=v+(b<<10&4294967295|b>>>22),b=C+(v^(D|~A))+k[10]+4293915773&4294967295,C=D+(b<<15&4294967295|b>>>17),b=A+(D^(C|~v))+k[1]+2240044497&4294967295,A=C+(b<<21&4294967295|b>>>11),b=v+(C^(A|~D))+k[8]+1873313359&4294967295,v=A+(b<<6&4294967295|b>>>26),b=D+(A^(v|~C))+k[15]+4264355552&4294967295,D=v+(b<<10&4294967295|b>>>22),b=C+(v^(D|~A))+k[6]+2734768916&4294967295,C=D+(b<<15&4294967295|b>>>17),b=A+(D^(C|~v))+k[13]+1309151649&4294967295,A=C+(b<<21&4294967295|b>>>11),b=v+(C^(A|~D))+k[4]+4149444226&4294967295,v=A+(b<<6&4294967295|b>>>26),b=D+(A^(v|~C))+k[11]+3174756917&4294967295,D=v+(b<<10&4294967295|b>>>22),b=C+(v^(D|~A))+k[2]+718787259&4294967295,C=D+(b<<15&4294967295|b>>>17),b=A+(D^(C|~v))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+v&4294967295,x.g[1]=x.g[1]+(C+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+C&4294967295,x.g[3]=x.g[3]+D&4294967295}i.prototype.u=function(x,v){v===void 0&&(v=x.length);for(var A=v-this.blockSize,k=this.B,C=this.h,D=0;D<v;){if(C==0)for(;D<=A;)r(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<v;)if(k[C++]=x.charCodeAt(D++),C==this.blockSize){r(this,k),C=0;break}}else for(;D<v;)if(k[C++]=x[D++],C==this.blockSize){r(this,k),C=0;break}}this.h=C,this.o+=v},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var v=1;v<x.length-8;++v)x[v]=0;var A=8*this.o;for(v=x.length-8;v<x.length;++v)x[v]=A&255,A/=256;for(this.u(x),x=Array(16),v=A=0;4>v;++v)for(var k=0;32>k;k+=8)x[A++]=this.g[v]>>>k&255;return x};function s(x,v){var A=a;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=v(x)}function o(x,v){this.h=v;for(var A=[],k=!0,C=x.length-1;0<=C;C--){var D=x[C]|0;k&&D==v||(A[C]=D,k=!1)}this.g=A}var a={};function l(x){return-128<=x&&128>x?s(x,function(v){return new o([v|0],0>v?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return d;if(0>x)return E(u(-x));for(var v=[],A=1,k=0;x>=A;k++)v[k]=x/A|0,A*=4294967296;return new o(v,0)}function h(x,v){if(x.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(x.charAt(0)=="-")return E(h(x.substring(1),v));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(v,8)),k=d,C=0;C<x.length;C+=8){var D=Math.min(8,x.length-C),b=parseInt(x.substring(C,C+D),v);8>D?(D=u(Math.pow(v,D)),k=k.j(D).add(u(b))):(k=k.j(A),k=k.add(u(b)))}return k}var d=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-E(this).m();for(var x=0,v=1,A=0;A<this.g.length;A++){var k=this.i(A);x+=(0<=k?k:4294967296+k)*v,v*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(w(this))return"0";if(S(this))return"-"+E(this).toString(x);for(var v=u(Math.pow(x,6)),A=this,k="";;){var C=M(A,v).g;A=_(A,C.j(v));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(x);if(A=C,w(A))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function w(x){if(x.h!=0)return!1;for(var v=0;v<x.g.length;v++)if(x.g[v]!=0)return!1;return!0}function S(x){return x.h==-1}t.l=function(x){return x=_(this,x),S(x)?-1:w(x)?0:1};function E(x){for(var v=x.g.length,A=[],k=0;k<v;k++)A[k]=~x.g[k];return new o(A,~x.h).add(p)}t.abs=function(){return S(this)?E(this):this},t.add=function(x){for(var v=Math.max(this.g.length,x.g.length),A=[],k=0,C=0;C<=v;C++){var D=k+(this.i(C)&65535)+(x.i(C)&65535),b=(D>>>16)+(this.i(C)>>>16)+(x.i(C)>>>16);k=b>>>16,D&=65535,b&=65535,A[C]=b<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(x,v){return x.add(E(v))}t.j=function(x){if(w(this)||w(x))return d;if(S(this))return S(x)?E(this).j(E(x)):E(E(this).j(x));if(S(x))return E(this.j(E(x)));if(0>this.l(m)&&0>x.l(m))return u(this.m()*x.m());for(var v=this.g.length+x.g.length,A=[],k=0;k<2*v;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<x.g.length;C++){var D=this.i(k)>>>16,b=this.i(k)&65535,Ae=x.i(C)>>>16,pe=x.i(C)&65535;A[2*k+2*C]+=b*pe,y(A,2*k+2*C),A[2*k+2*C+1]+=D*pe,y(A,2*k+2*C+1),A[2*k+2*C+1]+=b*Ae,y(A,2*k+2*C+1),A[2*k+2*C+2]+=D*Ae,y(A,2*k+2*C+2)}for(k=0;k<v;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=v;k<2*v;k++)A[k]=0;return new o(A,0)};function y(x,v){for(;(x[v]&65535)!=x[v];)x[v+1]+=x[v]>>>16,x[v]&=65535,v++}function I(x,v){this.g=x,this.h=v}function M(x,v){if(w(v))throw Error("division by zero");if(w(x))return new I(d,d);if(S(x))return v=M(E(x),v),new I(E(v.g),E(v.h));if(S(v))return v=M(x,E(v)),new I(E(v.g),v.h);if(30<x.g.length){if(S(x)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var A=p,k=v;0>=k.l(x);)A=N(A),k=N(k);var C=V(A,1),D=V(k,1);for(k=V(k,2),A=V(A,2);!w(k);){var b=D.add(k);0>=b.l(x)&&(C=C.add(A),D=b),k=V(k,1),A=V(A,1)}return v=_(x,C.j(v)),new I(C,v)}for(C=d;0<=x.l(v);){for(A=Math.max(1,Math.floor(x.m()/v.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=u(A),b=D.j(v);S(b)||0<b.l(x);)A-=k,D=u(A),b=D.j(v);w(D)&&(D=p),C=C.add(D),x=_(x,b)}return new I(C,x)}t.A=function(x){return M(this,x).h},t.and=function(x){for(var v=Math.max(this.g.length,x.g.length),A=[],k=0;k<v;k++)A[k]=this.i(k)&x.i(k);return new o(A,this.h&x.h)},t.or=function(x){for(var v=Math.max(this.g.length,x.g.length),A=[],k=0;k<v;k++)A[k]=this.i(k)|x.i(k);return new o(A,this.h|x.h)},t.xor=function(x){for(var v=Math.max(this.g.length,x.g.length),A=[],k=0;k<v;k++)A[k]=this.i(k)^x.i(k);return new o(A,this.h^x.h)};function N(x){for(var v=x.g.length+1,A=[],k=0;k<v;k++)A[k]=x.i(k)<<1|x.i(k-1)>>>31;return new o(A,x.h)}function V(x,v){var A=v>>5;v%=32;for(var k=x.g.length-A,C=[],D=0;D<k;D++)C[D]=0<v?x.i(D+A)>>>v|x.i(D+A+1)<<32-v:x.i(D+A);return new o(C,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,eS=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Rr=o}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tS,Qo,nS,jc,Zf,iS,rS,sS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function r(c,f){if(f)e:{var g=i;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in g))break e;g=g[L]}c=c[c.length-1],T=g[c],f=f(T),f!=T&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var g=0,T=!1,L={next:function(){if(!T&&g<c.length){var F=g++;return{value:f(F,c[F]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}r("Array.prototype.values",function(c){return c||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function h(c,f,g){return c.call.apply(c.bind,arguments)}function d(c,f,g){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),c.apply(f,L)}}return function(){return c.apply(f,arguments)}}function p(c,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,p.apply(null,arguments)}function m(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function w(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(T,L,F){for(var H=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)H[xe-2]=arguments[xe];return f.prototype[L].apply(T,H)}}function S(c){const f=c.length;if(0<f){const g=Array(f);for(let T=0;T<f;T++)g[T]=c[T];return g}return[]}function E(c,f){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(l(T)){const L=c.length||0,F=T.length||0;c.length=L+F;for(let H=0;H<F;H++)c[L+H]=T[H]}else c.push(T)}}class _{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function M(c){return M[" "](c),c}M[" "]=function(){};var N=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function V(c,f,g){for(const T in c)f.call(g,c[T],T,c)}function x(c,f){for(const g in c)f.call(void 0,c[g],g,c)}function v(c){const f={};for(const g in c)f[g]=c[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,f){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)c[g]=T[g];for(let F=0;F<A.length;F++)g=A[F],Object.prototype.hasOwnProperty.call(T,g)&&(c[g]=T[g])}}function C(c){var f=1;c=c.split(":");const g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function D(c){a.setTimeout(()=>{throw c},0)}function b(){var c=Z;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Ae{constructor(){this.h=this.g=null}add(f,g){const T=pe.get();T.set(f,g),this.h?this.h.next=T:this.g=T,this.h=T}}var pe=new _(()=>new ke,c=>c.reset());class ke{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,$=!1,Z=new Ae,O=()=>{const c=a.Promise.resolve(void 0);Ne=()=>{c.then(R)}};var R=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(g){D(g)}var f=pe;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}$=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function X(c,f){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(N){e:{try{M(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:J[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&X.aa.h.call(this)}}w(X,q);var J={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),ae=0;function Se(c,f,g,T,L){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!T,this.ha=L,this.key=++ae,this.da=this.fa=!1}function Ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,f,g,T,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var H=He(c,f,T,L);return-1<H?(f=c[H],g||(f.fa=!1)):(f=new Se(f,this.src,F,!!T,L),f.fa=g,c.push(f)),f};function be(c,f){var g=f.type;if(g in c.g){var T=c.g[g],L=Array.prototype.indexOf.call(T,f,void 0),F;(F=0<=L)&&Array.prototype.splice.call(T,L,1),F&&(Ie(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function He(c,f,g,T){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==f&&F.capture==!!g&&F.ha==T)return L}return-1}var le="closure_lm_"+(1e6*Math.random()|0),nt={};function Nt(c,f,g,T,L){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Nt(c,f[F],g,T,L);return null}return g=wl(g),c&&c[Y]?c.K(f,g,u(T)?!!T.capture:!!T,L):$t(c,f,g,!1,T,L)}function $t(c,f,g,T,L,F){if(!f)throw Error("Invalid event type");var H=u(L)?!!L.capture:!!L,xe=oo(c);if(xe||(c[le]=xe=new ve(c)),g=xe.add(f,g,T,H,F),g.proxy)return g;if(T=pn(),g.proxy=T,T.src=c,T.listener=g,c.addEventListener)Q||(L=H),L===void 0&&(L=!1),c.addEventListener(f.toString(),T,L);else if(c.attachEvent)c.attachEvent(vl(f.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function pn(){function c(g){return f.call(c.src,c.listener,g)}const f=Ah;return c}function An(c,f,g,T,L){if(Array.isArray(f))for(var F=0;F<f.length;F++)An(c,f[F],g,T,L);else T=u(T)?!!T.capture:!!T,g=wl(g),c&&c[Y]?(c=c.i,f=String(f).toString(),f in c.g&&(F=c.g[f],g=He(F,g,T,L),-1<g&&(Ie(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete c.g[f],c.h--)))):c&&(c=oo(c))&&(f=c.g[f.toString()],c=-1,f&&(c=He(f,g,T,L)),(g=-1<c?f[c]:null)&&Ot(g))}function Ot(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Y])be(f.i,c);else{var g=c.type,T=c.proxy;f.removeEventListener?f.removeEventListener(g,T,c.capture):f.detachEvent?f.detachEvent(vl(g),T):f.addListener&&f.removeListener&&f.removeListener(T),(g=oo(f))?(be(g,c),g.h==0&&(g.src=null,f[le]=null)):Ie(c)}}}function vl(c){return c in nt?nt[c]:nt[c]="on"+c}function Ah(c,f){if(c.da)c=!0;else{f=new X(f,this);var g=c.listener,T=c.ha||c.src;c.fa&&Ot(c),c=g.call(T,f)}return c}function oo(c){return c=c[le],c instanceof ve?c:null}var Xr="__closure_events_fn_"+(1e9*Math.random()>>>0);function wl(c){return typeof c=="function"?c:(c[Xr]||(c[Xr]=function(f){return c.handleEvent(f)}),c[Xr])}function Ye(){W.call(this),this.i=new ve(this),this.M=this,this.F=null}w(Ye,W),Ye.prototype[Y]=!0,Ye.prototype.removeEventListener=function(c,f,g,T){An(this,c,f,g,T)};function lt(c,f){var g,T=c.F;if(T)for(g=[];T;T=T.F)g.push(T);if(c=c.M,T=f.type||f,typeof f=="string")f=new q(f,c);else if(f instanceof q)f.target=f.target||c;else{var L=f;f=new q(T,c),k(f,L)}if(L=!0,g)for(var F=g.length-1;0<=F;F--){var H=f.g=g[F];L=Jr(H,T,!0,f)&&L}if(H=f.g=c,L=Jr(H,T,!0,f)&&L,L=Jr(H,T,!1,f)&&L,g)for(F=0;F<g.length;F++)H=f.g=g[F],L=Jr(H,T,!1,f)&&L}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],T=0;T<g.length;T++)Ie(g[T]);delete c.g[f],c.h--}}this.F=null},Ye.prototype.K=function(c,f,g,T){return this.i.add(String(c),f,!1,g,T)},Ye.prototype.L=function(c,f,g,T){return this.i.add(String(c),f,!0,g,T)};function Jr(c,f,g,T){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,F=0;F<f.length;++F){var H=f[F];if(H&&!H.da&&H.capture==g){var xe=H.listener,ct=H.ha||H.src;H.fa&&be(c.i,H),L=xe.call(ct,T)!==!1&&L}}return L&&!T.defaultPrevented}function ao(c,f,g){if(typeof c=="function")g&&(c=p(c,g));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function lo(c){c.g=ao(()=>{c.g=null,c.i&&(c.i=!1,lo(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class co extends W{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:lo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(c){W.call(this),this.h=c,this.g={}}w(ar,W);var El=[];function ym(c){V(c.g,function(f,g){this.g.hasOwnProperty(g)&&Ot(f)},c),c.g={}}ar.prototype.N=function(){ar.aa.N.call(this),ym(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kh=a.JSON.stringify,wI=a.JSON.parse,EI=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bh(){}bh.prototype.h=null;function _m(c){return c.h||(c.h=c.i())}function vm(){}var uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ch(){q.call(this,"d")}w(Ch,q);function Ph(){q.call(this,"c")}w(Ph,q);var lr={},wm=null;function Tl(){return wm=wm||new Ye}lr.La="serverreachability";function Em(c){q.call(this,lr.La,c)}w(Em,q);function ho(c){const f=Tl();lt(f,new Em(f))}lr.STAT_EVENT="statevent";function Tm(c,f){q.call(this,lr.STAT_EVENT,c),this.stat=f}w(Tm,q);function Ct(c){const f=Tl();lt(f,new Tm(f,c))}lr.Ma="timingevent";function Sm(c,f){q.call(this,lr.Ma,c),this.size=f}w(Sm,q);function fo(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function TI(c,f,g,T,L,F){c.info(function(){if(c.g)if(F)for(var H="",xe=F.split("&"),ct=0;ct<xe.length;ct++){var me=xe[ct].split("=");if(1<me.length){var yt=me[0];me=me[1];var _t=yt.split("_");H=2<=_t.length&&_t[1]=="type"?H+(yt+"="+me+"&"):H+(yt+"=redacted&")}}else H=null;else H=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+f+`
`+g+`
`+H})}function SI(c,f,g,T,L,F,H){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+f+`
`+g+`
`+F+" "+H})}function Zr(c,f,g,T){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+xI(c,g)+(T?" "+T:"")})}function II(c,f){c.info(function(){return"TIMEOUT: "+f})}po.prototype.info=function(){};function xI(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var T=g[c];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var H=1;H<L.length;H++)L[H]=""}}}}return kh(g)}catch{return f}}var Sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Im={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rh;function Il(){}w(Il,bh),Il.prototype.g=function(){return new XMLHttpRequest},Il.prototype.i=function(){return{}},Rh=new Il;function _i(c,f,g,T){this.j=c,this.i=f,this.l=g,this.R=T||1,this.U=new ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xm}function xm(){this.i=null,this.g="",this.h=!1}var Am={},Mh={};function Dh(c,f,g){c.L=1,c.v=bl(zn(f)),c.m=g,c.P=!0,km(c,null)}function km(c,f){c.F=Date.now(),xl(c),c.A=zn(c.v);var g=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Bm(g.i,"t",T),c.C=0,g=c.j.J,c.h=new xm,c.g=sy(c.j,g?f:null,!c.m),0<c.O&&(c.M=new co(p(c.Y,c,c.g),c.O)),f=c.U,g=c.g,T=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(El[0]=L.toString()),L=El);for(var F=0;F<L.length;F++){var H=Nt(g,L[F],T||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),ho(),TI(c.i,c.u,c.A,c.l,c.R,c.m)}_i.prototype.ca=function(c){c=c.target;const f=this.M;f&&Wn(c)==3?f.j():this.Y(c)},_i.prototype.Y=function(c){try{if(c==this.g)e:{const _t=Wn(this.g);var f=this.g.Ba();const ns=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Gm(this.g)))){this.J||_t!=4||f==7||(f==8||0>=ns?ho(3):ho(2)),Nh(this);var g=this.g.Z();this.X=g;t:if(bm(this)){var T=Gm(this.g);c="";var L=T.length,F=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),go(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,c+=this.h.i.decode(T[f],{stream:!(F&&f==L-1)});T.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,SI(this.i,this.u,this.A,this.l,this.R,_t,g),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,ct=this.g;if((xe=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(xe)){var me=xe;break t}}me=null}if(g=me)Zr(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oh(this,g);else{this.o=!1,this.s=3,Ct(12),cr(this),go(this);break e}}if(this.P){g=!0;let gn;for(;!this.J&&this.C<H.length;)if(gn=AI(this,H),gn==Mh){_t==4&&(this.s=4,Ct(14),g=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Am){this.s=4,Ct(15),Zr(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else Zr(this.i,this.l,gn,null),Oh(this,gn);if(bm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||H.length!=0||this.h.h||(this.s=1,Ct(16),g=!1),this.o=this.o&&g,!g)Zr(this.i,this.l,H,"[Invalid Chunked Response]"),cr(this),go(this);else if(0<H.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Bh(yt),yt.M=!0,Ct(11))}}else Zr(this.i,this.l,H,null),Oh(this,H);_t==4&&cr(this),this.o&&!this.J&&(_t==4?ty(this.j,this):(this.o=!1,xl(this)))}else WI(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),cr(this),go(this)}}}catch{}finally{}};function bm(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function AI(c,f){var g=c.C,T=f.indexOf(`
`,g);return T==-1?Mh:(g=Number(f.substring(g,T)),isNaN(g)?Am:(T+=1,T+g>f.length?Mh:(f=f.slice(T,T+g),c.C=T+g,f)))}_i.prototype.cancel=function(){this.J=!0,cr(this)};function xl(c){c.S=Date.now()+c.I,Cm(c,c.I)}function Cm(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fo(p(c.ba,c),f)}function Nh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}_i.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(II(this.i,this.A),this.L!=2&&(ho(),Ct(17)),cr(this),this.s=2,go(this)):Cm(this,this.S-c)};function go(c){c.j.G==0||c.J||ty(c.j,c)}function cr(c){Nh(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,ym(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Oh(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||Lh(g.h,c))){if(!c.K&&Lh(g.h,c)&&g.G==3){try{var T=g.Da.g.parse(f)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Nl(g),Ml(g);else break e;Uh(g),Ct(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=fo(p(g.Za,g),6e3));if(1>=Mm(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hr(g,11)}else if((c.K||g.g==c)&&Nl(g),!y(f))for(L=g.Da.g.parse(f),f=0;f<L.length;f++){let me=L[f];if(g.T=me[0],me=me[1],g.G==2)if(me[0]=="c"){g.K=me[1],g.ia=me[2];const yt=me[3];yt!=null&&(g.la=yt,g.j.info("VER="+g.la));const _t=me[4];_t!=null&&(g.Aa=_t,g.j.info("SVER="+g.Aa));const ns=me[5];ns!=null&&typeof ns=="number"&&0<ns&&(T=1.5*ns,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const gn=c.g;if(gn){const Ll=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var F=T.h;F.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Vh(F,F.h),F.h=null))}if(T.D){const zh=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;zh&&(T.ya=zh,Pe(T.I,T.D,zh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var H=c;if(T.qa=ry(T,T.J?T.ia:null,T.W),H.K){Dm(T.h,H);var xe=H,ct=T.L;ct&&(xe.I=ct),xe.B&&(Nh(xe),xl(xe)),T.g=H}else Zm(T);0<g.i.length&&Dl(g)}else me[0]!="stop"&&me[0]!="close"||hr(g,7);else g.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?hr(g,7):jh(g):me[0]!="noop"&&g.l&&g.l.ta(me),g.v=0)}}ho(4)}catch{}}var kI=class{constructor(c,f){this.g=c,this.map=f}};function Pm(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rm(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Mm(c){return c.h?1:c.g?c.g.size:0}function Lh(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Vh(c,f){c.g?c.g.add(f):c.h=f}function Dm(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Pm.prototype.cancel=function(){if(this.i=Nm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Nm(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const g of c.g.values())f=f.concat(g.D);return f}return S(c.i)}function bI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],g=c.length,T=0;T<g;T++)f.push(c[T]);return f}f=[],g=0;for(T in c)f[g++]=c[T];return f}function CI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(const T in c)f[g++]=T;return f}}}function Om(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=CI(c),T=bI(c),L=T.length,F=0;F<L;F++)f.call(void 0,T[F],g&&g[F],c)}var Lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PI(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var T=c[g].indexOf("="),L=null;if(0<=T){var F=c[g].substring(0,T);L=c[g].substring(T+1)}else F=c[g];f(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ur){this.h=c.h,Al(this,c.j),this.o=c.o,this.g=c.g,kl(this,c.s),this.l=c.l;var f=c.i,g=new _o;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Vm(this,g),this.m=c.m}else c&&(f=String(c).match(Lm))?(this.h=!1,Al(this,f[1]||"",!0),this.o=mo(f[2]||""),this.g=mo(f[3]||"",!0),kl(this,f[4]),this.l=mo(f[5]||"",!0),Vm(this,f[6]||"",!0),this.m=mo(f[7]||"")):(this.h=!1,this.i=new _o(null,this.h))}ur.prototype.toString=function(){var c=[],f=this.j;f&&c.push(yo(f,Fm,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(yo(f,Fm,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(yo(g,g.charAt(0)=="/"?DI:MI,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",yo(g,OI)),c.join("")};function zn(c){return new ur(c)}function Al(c,f,g){c.j=g?mo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function kl(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Vm(c,f,g){f instanceof _o?(c.i=f,LI(c.i,c.h)):(g||(f=yo(f,NI)),c.i=new _o(f,c.h))}function Pe(c,f,g){c.i.set(f,g)}function bl(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yo(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,RI),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fm=/[#\/\?@]/g,MI=/[#\?:]/g,DI=/[#\?]/g,NI=/[#\?@]/g,OI=/#/g;function _o(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function vi(c){c.g||(c.g=new Map,c.h=0,c.i&&PI(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=_o.prototype,t.add=function(c,f){vi(this),this.i=null,c=es(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function jm(c,f){vi(c),f=es(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Um(c,f){return vi(c),f=es(c,f),c.g.has(f)}t.forEach=function(c,f){vi(this),this.g.forEach(function(g,T){g.forEach(function(L){c.call(f,L,T,this)},this)},this)},t.na=function(){vi(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let T=0;T<f.length;T++){const L=c[T];for(let F=0;F<L.length;F++)g.push(f[T])}return g},t.V=function(c){vi(this);let f=[];if(typeof c=="string")Um(this,c)&&(f=f.concat(this.g.get(es(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},t.set=function(c,f){return vi(this),this.i=null,c=es(this,c),Um(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Bm(c,f,g){jm(c,f),0<g.length&&(c.i=null,c.g.set(es(c,f),S(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var T=f[g];const F=encodeURIComponent(String(T)),H=this.V(T);for(T=0;T<H.length;T++){var L=F;H[T]!==""&&(L+="="+encodeURIComponent(String(H[T]))),c.push(L)}}return this.i=c.join("&")};function es(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function LI(c,f){f&&!c.j&&(vi(c),c.i=null,c.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(jm(this,T),Bm(this,L,g))},c)),c.j=f}function VI(c,f){const g=new po;if(a.Image){const T=new Image;T.onload=m(wi,g,"TestLoadImage: loaded",!0,f,T),T.onerror=m(wi,g,"TestLoadImage: error",!1,f,T),T.onabort=m(wi,g,"TestLoadImage: abort",!1,f,T),T.ontimeout=m(wi,g,"TestLoadImage: timeout",!1,f,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else f(!1)}function FI(c,f){const g=new po,T=new AbortController,L=setTimeout(()=>{T.abort(),wi(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?wi(g,"TestPingServer: ok",!0,f):wi(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),wi(g,"TestPingServer: error",!1,f)})}function wi(c,f,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function jI(){this.g=new EI}function UI(c,f,g){const T=g||"";try{Om(c,function(L,F){let H=L;u(L)&&(H=kh(L)),f.push(T+F+"="+encodeURIComponent(H))})}catch(L){throw f.push(T+"type="+encodeURIComponent("_badmap")),L}}function Cl(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Cl,bh),Cl.prototype.g=function(){return new Pl(this.l,this.j)},Cl.prototype.i=function(c){return function(){return c}}({});function Pl(c,f){Ye.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Pl,Ye),t=Pl.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,wo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wo(this)),this.g&&(this.readyState=3,wo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zm(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zm(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?vo(this):wo(this),this.readyState==3&&zm(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,vo(this))},t.Qa=function(c){this.g&&(this.response=c,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wo(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function wo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wm(c){let f="";return V(c,function(g,T){f+=T,f+=":",f+=g,f+=`\r
`}),f}function Fh(c,f,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=Wm(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Pe(c,f,g))}function Ue(c){Ye.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ue,Ye);var BI=/^https?$/i,zI=["POST","PUT"];t=Ue.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rh.g(),this.v=this.o?_m(this.o):_m(Rh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(F){Hm(this,F);return}if(c=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())g.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zI,f,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,H]of g)this.g.setRequestHeader(F,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Km(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Hm(this,F)}};function Hm(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,$m(c),Rl(c)}function $m(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,lt(this,"complete"),lt(this,"abort"),Rl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rl(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qm(this):this.bb())},t.bb=function(){qm(this)};function qm(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Wn(c)!=4||c.Z()!=2)){if(c.u&&Wn(c)==4)ao(c.Ea,0,c);else if(lt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var T;if(T=H===0){var L=String(c.D).match(Lm)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),T=!BI.test(L?L.toLowerCase():"")}g=T}if(g)lt(c,"complete"),lt(c,"success");else{c.m=6;try{var F=2<Wn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",$m(c)}}finally{Rl(c)}}}}function Rl(c,f){if(c.g){Km(c);const g=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||lt(c,"ready");try{g.onreadystatechange=T}catch{}}}function Km(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),wI(f)}};function Gm(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function WI(c){const f={};c=(c.g&&2<=Wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(y(c[T]))continue;var g=C(c[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=f[L]||[];f[L]=F,F.push(g)}x(f,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eo(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function Qm(c){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eo("baseRetryDelayMs",5e3,c),this.cb=Eo("retryDelaySeedMs",1e4,c),this.Wa=Eo("forwardChannelMaxRetries",2,c),this.wa=Eo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Pm(c&&c.concurrentRequestLimit),this.Da=new jI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qm.prototype,t.la=8,t.G=1,t.connect=function(c,f,g,T){Ct(0),this.W=c,this.H=f||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=ry(this,null,this.W),Dl(this)};function jh(c){if(Ym(c),c.G==3){var f=c.U++,g=zn(c.I);if(Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"TYPE","terminate"),To(c,g),f=new _i(c,c.j,f),f.L=2,f.v=bl(zn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=sy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),xl(f)}iy(c)}function Ml(c){c.g&&(Bh(c),c.g.cancel(),c.g=null)}function Ym(c){Ml(c),c.u&&(a.clearTimeout(c.u),c.u=null),Nl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Dl(c){if(!Rm(c.h)&&!c.s){c.s=!0;var f=c.Ga;Ne||O(),$||(Ne(),$=!0),Z.add(f,c),c.B=0}}function HI(c,f){return Mm(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fo(p(c.Ga,c,f),ny(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new _i(this,this.j,c);let F=this.o;if(this.S&&(F?(F=v(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(f+=T,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Jm(this,L,f),g=zn(this.I),Pe(g,"RID",c),Pe(g,"CVER",22),this.D&&Pe(g,"X-HTTP-Session-Id",this.D),To(this,g),F&&(this.O?f="headers="+encodeURIComponent(String(Wm(F)))+"&"+f:this.m&&Fh(g,this.m,F)),Vh(this.h,L),this.Ua&&Pe(g,"TYPE","init"),this.P?(Pe(g,"$req",f),Pe(g,"SID","null"),L.T=!0,Dh(L,g,null)):Dh(L,g,f),this.G=2}}else this.G==3&&(c?Xm(this,c):this.i.length==0||Rm(this.h)||Xm(this))};function Xm(c,f){var g;f?g=f.l:g=c.U++;const T=zn(c.I);Pe(T,"SID",c.K),Pe(T,"RID",g),Pe(T,"AID",c.T),To(c,T),c.m&&c.o&&Fh(T,c.m,c.o),g=new _i(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Jm(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vh(c.h,g),Dh(g,T,f)}function To(c,f){c.H&&V(c.H,function(g,T){Pe(f,T,g)}),c.l&&Om({},function(g,T){Pe(f,T,g)})}function Jm(c,f,g){g=Math.min(c.i.length,g);var T=c.l?p(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const H=["count="+g];F==-1?0<g?(F=L[0].g,H.push("ofs="+F)):F=0:H.push("ofs="+F);let xe=!0;for(let ct=0;ct<g;ct++){let me=L[ct].g;const yt=L[ct].map;if(me-=F,0>me)F=Math.max(0,L[ct].g-100),xe=!1;else try{UI(yt,H,"req"+me+"_")}catch{T&&T(yt)}}if(xe){T=H.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,T}function Zm(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Ne||O(),$||(Ne(),$=!0),Z.add(f,c),c.v=0}}function Uh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fo(p(c.Fa,c),ny(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ey(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fo(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Ml(this),ey(this))};function Bh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ey(c){c.g=new _i(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=zn(c.qa);Pe(f,"RID","rpc"),Pe(f,"SID",c.K),Pe(f,"AID",c.T),Pe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(f,"TO",c.ja),Pe(f,"TYPE","xmlhttp"),To(c,f),c.m&&c.o&&Fh(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=bl(zn(f)),g.m=null,g.P=!0,km(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Ml(this),Uh(this),Ct(19))};function Nl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ty(c,f){var g=null;if(c.g==f){Nl(c),Bh(c),c.g=null;var T=2}else if(Lh(c.h,f))g=f.D,Dm(c.h,f),T=1;else return;if(c.G!=0){if(f.o)if(T==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var L=c.B;T=Tl(),lt(T,new Sm(T,g)),Dl(c)}else Zm(c);else if(L=f.s,L==3||L==0&&0<f.X||!(T==1&&HI(c,f)||T==2&&Uh(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),L){case 1:hr(c,5);break;case 4:hr(c,10);break;case 3:hr(c,6);break;default:hr(c,2)}}}function ny(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function hr(c,f){if(c.j.info("Error code "+f),f==2){var g=p(c.fb,c),T=c.Xa;const L=!T;T=new ur(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Al(T,"https"),bl(T),L?VI(T.toString(),g):FI(T.toString(),g)}else Ct(2);c.G=0,c.l&&c.l.sa(f),iy(c),Ym(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function iy(c){if(c.G=0,c.ka=[],c.l){const f=Nm(c.h);(f.length!=0||c.i.length!=0)&&(E(c.ka,f),E(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function ry(c,f,g){var T=g instanceof ur?zn(g):new ur(g);if(T.g!="")f&&(T.g=f+"."+T.g),kl(T,T.s);else{var L=a.location;T=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var F=new ur(null);T&&Al(F,T),f&&(F.g=f),L&&kl(F,L),g&&(F.l=g),T=F}return g=c.D,f=c.ya,g&&f&&Pe(T,g,f),Pe(T,"VER",c.la),To(c,T),T}function sy(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ue(new Cl({eb:g})):new Ue(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oy(){}t=oy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ol(){}Ol.prototype.g=function(c,f){return new qt(c,f)};function qt(c,f){Ye.call(this),this.g=new Qm(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!y(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new ts(this)}w(qt,Ye),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){jh(this.g)},qt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=kh(c),c=g);f.i.push(new kI(f.Ya++,c)),f.G==3&&Dl(f)},qt.prototype.N=function(){this.g.l=null,delete this.j,jh(this.g),delete this.g,qt.aa.N.call(this)};function ay(c){Ch.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}w(ay,Ch);function ly(){Ph.call(this),this.status=1}w(ly,Ph);function ts(c){this.g=c}w(ts,oy),ts.prototype.ua=function(){lt(this.g,"a")},ts.prototype.ta=function(c){lt(this.g,new ay(c))},ts.prototype.sa=function(c){lt(this.g,new ly)},ts.prototype.ra=function(){lt(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,sS=function(){return new Ol},rS=function(){return Tl()},iS=lr,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sl.NO_ERROR=0,Sl.TIMEOUT=8,Sl.HTTP_ERROR=6,jc=Sl,Im.COMPLETE="complete",nS=Im,vm.EventType=uo,uo.OPEN="a",uo.CLOSE="b",uo.ERROR="c",uo.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Qo=vm,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,tS=Ue}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const g0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new xg("@firebase/firestore");function Vo(){return Br.logLevel}function G(t,...e){if(Br.logLevel<=he.DEBUG){const n=e.map(jg);Br.debug(`Firestore (${io}): ${t}`,...n)}}function pi(t,...e){if(Br.logLevel<=he.ERROR){const n=e.map(jg);Br.error(`Firestore (${io}): ${t}`,...n)}}function zs(t,...e){if(Br.logLevel<=he.WARN){const n=e.map(jg);Br.warn(`Firestore (${io}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: `+t;throw pi(e),new Error(e)}function Te(t,e){t||ie()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class DO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NO{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ki,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ki)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string"),new oS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new St(e)}}class OO{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LO{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new OO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);const i=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new VO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=jO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function ye(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new tt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new tt(0,0))}static max(){return new re(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,i){n===void 0?n=0:n>e.length&&ie(),i===void 0?i=e.length-n:i>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qa?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends qa{construct(e,n,i){return new ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ee(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const UO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends qa{construct(e,n,i){return new dt(e,n,i)}static isValidIdentifier(e){return UO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new ee(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new ee(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new ee(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ze.fromString(e))}static fromName(e){return new te(ze.fromString(e).popFirst(5))}static empty(){return new te(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ze(e.slice()))}}function BO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=re.fromTimestamp(i===1e9?new tt(n+1,0):new tt(n,i));return new Xi(r,te.empty(),e)}function zO(t){return new Xi(t.readTime,t.key,-1)}class Xi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Xi(re.min(),te.empty(),-1)}static max(){return new Xi(re.max(),te.empty(),-1)}}function WO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $O{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==HO)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new U((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function qO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ug.oe=-1;function dh(t){return t==null}function Pu(t){return t===0&&1/t==-1/0}function KO(t){return typeof t=="number"&&Number.isInteger(t)&&!Pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??ht.RED,this.left=r??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new ht(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return ht.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,i,r,s){return this}insert(e,n,i){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y0(this.data.getIterator())}getIteratorFrom(e){return new y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new pt(dt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cS("Invalid base64 string: "+s):s}}(e);return new mt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const GO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Te(!!t),typeof t=="string"){let e=0;const n=GO.exec(t);if(Te(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zg(t){const e=t.mapValue.fields.__previous_value__;return Bg(e)?zg(e):e}function Ka(t){const e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,i,r,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bg(t)?4:XO(t)?9007199254740991:YO(t)?10:11:ie()}function Un(t,e){if(t===e)return!0;const n=Wr(t);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ka(t).isEqual(Ka(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ji(r.timestampValue),a=Ji(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return zr(r.bytesValue).isEqual(zr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return $e(r.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(r.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return $e(r.integerValue)===$e(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=$e(r.doubleValue),a=$e(s.doubleValue);return o===a?Pu(o)===Pu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(m0(o)!==m0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Un(o[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function Qa(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function Hs(t,e){if(t===e)return 0;const n=Wr(t),i=Wr(e);if(n!==i)return ye(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=$e(s.integerValue||s.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _0(t.timestampValue,e.timestampValue);case 4:return _0(Ka(t),Ka(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){const a=zr(s),l=zr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=ye(a[u],l[u]);if(h!==0)return h}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ye($e(s.latitude),$e(o.latitude));return a!==0?a:ye($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return v0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},p=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,S=ye(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:v0(m,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===yc.mapValue&&o===yc.mapValue)return 0;if(s===yc.mapValue)return 1;if(o===yc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const p=ye(l[d],h[d]);if(p!==0)return p;const m=Hs(a[l[d]],u[h[d]]);if(m!==0)return m}return ye(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ie()}}function _0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Ji(t),i=Ji(e),r=ye(n.seconds,i.seconds);return r!==0?r:ye(n.nanos,i.nanos)}function v0(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Hs(n[r],i[r]);if(s)return s}return ye(n.length,i.length)}function $s(t){return ep(t)}function ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Ji(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=ep(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${ep(n.fields[o])}`;return r+"}"}(t.mapValue):ie()}function tp(t){return!!t&&"integerValue"in t}function Wg(t){return!!t&&"arrayValue"in t}function w0(t){return!!t&&"nullValue"in t}function E0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function YO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=pa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(n)}setAll(e){let n=dt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=pa(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Uc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Qr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new jt(pa(this.value))}}function uS(t){const e=[];return Qr(t.fields,(n,i)=>{const r=new dt([n]);if(Uc(i)){const s=uS(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,re.min(),re.min(),re.min(),jt.empty(),0)}static newFoundDocument(e,n,i,r){return new xt(e,1,n,re.min(),i,r,0)}static newNoDocument(e,n){return new xt(e,2,n,re.min(),re.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,re.min(),re.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.position=e,this.inclusive=n}}function T0(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=te.comparator(te.fromName(o.referenceValue),n.key):i=Hs(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function S0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function JO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class Je extends hS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new eL(e,n,i):n==="array-contains"?new iL(e,i):n==="in"?new rL(e,i):n==="not-in"?new sL(e,i):n==="array-contains-any"?new oL(e,i):new Je(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new tL(e,i):new nL(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hs(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(Hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Bn(e,n)}matches(e){return dS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dS(t){return t.op==="and"}function fS(t){return ZO(t)&&dS(t)}function ZO(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function np(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+$s(t.value);if(fS(t))return t.filters.map(e=>np(e)).join(",");{const e=t.filters.map(n=>np(n)).join(",");return`${t.op}(${e})`}}function pS(t,e){return t instanceof Je?function(i,r){return r instanceof Je&&i.op===r.op&&i.field.isEqual(r.field)&&Un(i.value,r.value)}(t,e):t instanceof Bn?function(i,r){return r instanceof Bn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&pS(o,r.filters[a]),!0):!1}(t,e):void ie()}function gS(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(gS).join(" ,")+"}"}(t):"Filter"}class eL extends Je{constructor(e,n,i){super(e,n,i),this.key=te.fromName(i.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class tL extends Je{constructor(e,n){super(e,"in",n),this.keys=mS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nL extends Je{constructor(e,n){super(e,"not-in",n),this.keys=mS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>te.fromName(i.referenceValue))}class iL extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wg(n)&&Qa(n.arrayValue,this.value)}}class rL extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}}class sL extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}}class oL extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Qa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function I0(t,e=null,n=[],i=[],r=null,s=null,o=null){return new aL(t,e,n,i,r,s,o)}function Hg(t){const e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>np(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$s(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$s(i)).join(",")),e.ue=n}return e.ue}function $g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S0(t.startAt,e.startAt)&&S0(t.endAt,e.endAt)}function ip(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lL(t,e,n,i,r,s,o,a){return new fh(t,e,n,i,r,s,o,a)}function qg(t){return new fh(t)}function x0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cL(t){return t.collectionGroup!==null}function ga(t){const e=se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Mu(s,i))}),n.has(dt.keyField().canonicalString())||e.ce.push(new Mu(dt.keyField(),i))}return e.ce}function Vn(t){const e=se(t);return e.le||(e.le=uL(e,ga(t))),e.le}function uL(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Mu(r.field,s)});const n=t.endAt?new Ru(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ru(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function rp(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return $g(Vn(t),Vn(e))&&t.limitType===e.limitType}function yS(t){return`${Hg(Vn(t))}|lt:${t.limitType}`}function ss(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>gS(r)).join(", ")}]`),dh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$s(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$s(r)).join(",")),`Target(${i})`}(Vn(t))}; limitType=${t.limitType})`}function gh(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):te.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of ga(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=T0(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,ga(i),r)||i.endAt&&!function(o,a,l){const u=T0(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,ga(i),r))}(t,e)}function hL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _S(t){return(e,n)=>{let i=!1;for(const r of ga(t)){const s=dL(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function dL(t,e,n){const i=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Hs(l,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return lS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new je(te.comparator);function gi(){return fL}const vS=new je(te.comparator);function Yo(...t){let e=vS;for(const n of t)e=e.insert(n.key,n);return e}function wS(t){let e=vS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ar(){return ma()}function ES(){return ma()}function ma(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const pL=new je(te.comparator),gL=new pt(te.comparator);function ue(...t){let e=gL;for(const n of t)e=e.add(n);return e}const mL=new pt(ye);function yL(){return mL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pu(e)?"-0":e}}function TS(t){return{integerValue:""+t}}function _L(t,e){return KO(e)?TS(e):Kg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function vL(t,e,n){return t instanceof Du?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Bg(s)&&(s=zg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ya?IS(t,e):t instanceof Xa?xS(t,e):function(r,s){const o=SS(r,s),a=A0(o)+A0(r.Pe);return tp(o)&&tp(r.Pe)?TS(a):Kg(r.serializer,a)}(t,e)}function wL(t,e,n){return t instanceof Ya?IS(t,e):t instanceof Xa?xS(t,e):n}function SS(t,e){return t instanceof Nu?function(i){return tp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Du extends mh{}class Ya extends mh{constructor(e){super(),this.elements=e}}function IS(t,e){const n=AS(e);for(const i of t.elements)n.some(r=>Un(r,i))||n.push(i);return{arrayValue:{values:n}}}class Xa extends mh{constructor(e){super(),this.elements=e}}function xS(t,e){let n=AS(e);for(const i of t.elements)n=n.filter(r=>!Un(r,i));return{arrayValue:{values:n}}}class Nu extends mh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function A0(t){return $e(t.integerValue||t.doubleValue)}function AS(t){return Wg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EL(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ya&&r instanceof Ya||i instanceof Xa&&r instanceof Xa?Ws(i.elements,r.elements,Un):i instanceof Nu&&r instanceof Nu?Un(i.Pe,r.Pe):i instanceof Du&&r instanceof Du}(t.transform,e.transform)}class TL{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function kS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CS(t.key,Fn.none()):new gl(t.key,t.data,Fn.none());{const n=t.data,i=jt.empty();let r=new pt(dt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new or(t.key,i,new Qt(r.toArray()),Fn.none())}}function SL(t,e,n){t instanceof gl?function(r,s,o){const a=r.value.clone(),l=b0(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof or?function(r,s,o){if(!Bc(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=b0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(bS(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,i){return t instanceof gl?function(s,o,a,l){if(!Bc(s.precondition,o))return a;const u=s.value.clone(),h=C0(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof or?function(s,o,a,l){if(!Bc(s.precondition,o))return a;const u=C0(s.fieldTransforms,l,o),h=o.data;return h.setAll(bS(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Bc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IL(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=SS(i.transform,r||null);s!=null&&(n===null&&(n=jt.empty()),n.set(i.field,s))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ws(i,r,(s,o)=>EL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gl extends yh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class or extends yh{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function b0(t,e,n){const i=new Map;Te(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,wL(o,a,n[r]))}return i}function C0(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,vL(s,o,e))}return i}class CS extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xL extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&SL(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ya(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ya(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=ES();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=kS(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(re.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,i)=>k0(n,i))&&Ws(this.baseMutations,e.baseMutations,(n,i)=>k0(n,i))}}class Gg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Te(e.mutations.length===i.length);let r=function(){return pL}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Gg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,de;function CL(t){switch(t){default:return ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function PS(t){if(t===void 0)return pi("GRPC error has no .code"),B.UNKNOWN;switch(t){case Ge.OK:return B.OK;case Ge.CANCELLED:return B.CANCELLED;case Ge.UNKNOWN:return B.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return B.INTERNAL;case Ge.UNAVAILABLE:return B.UNAVAILABLE;case Ge.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Ge.NOT_FOUND:return B.NOT_FOUND;case Ge.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Ge.ABORTED:return B.ABORTED;case Ge.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Ge.DATA_LOSS:return B.DATA_LOSS;default:return ie()}}(de=Ge||(Ge={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Rr([4294967295,4294967295],0);function P0(t){const e=PL().encode(t),n=new eS;return n.update(e),new Uint8Array(n.digest())}function R0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Rr([n,i],0),new Rr([r,s],0)]}class Qg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(i<0)throw new Xo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Rr.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(Rr.fromNumber(i)));return r.compare(RL)===1&&(r=new Rr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=P0(e),[i,r]=R0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Qg(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=P0(e),[i,r]=R0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new _h(re.min(),r,new je(ye),gi(),ue())}}class ml{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ml(i,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class RS{constructor(e,n){this.targetId=e,this.me=n}}class MS{constructor(e,n,i=mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class M0{constructor(){this.fe=0,this.ge=N0(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),i=ue();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ie()}}),new ml(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=N0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ML{constructor(e){this.Le=e,this.Be=new Map,this.ke=gi(),this.qe=D0(),this.Qe=new je(ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(ip(s))if(i===0){const o=new te(s.path);this.Ue(n,o,xt.newNoDocument(o,re.min()))}else Te(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=zr(i).toUint8Array()}catch(l){if(l instanceof cS)return zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qg(o,r,s)}catch(l){return zs(l instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&ip(a.target)){const l=new te(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,xt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new _h(e,n,this.Qe,this.ke,i);return this.ke=gi(),this.qe=D0(),this.Qe=new je(ye),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new M0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new M0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function D0(){return new je(te.comparator)}function N0(){return new je(te.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},NL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OL={and:"AND",or:"OR"};class LL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VL(t,e){return Ou(t,e.toTimestamp())}function jn(t){return Te(!!t),re.fromTimestamp(function(n){const i=Ji(n);return new tt(i.seconds,i.nanos)}(t))}function Yg(t,e){return op(t,e).canonicalString()}function op(t,e){const n=function(r){return new ze(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NS(t){const e=ze.fromString(t);return Te(jS(e)),e}function ap(t,e){return Yg(t.databaseId,e.path)}function Md(t,e){const n=NS(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(LS(n))}function OS(t,e){return Yg(t.databaseId,e)}function FL(t){const e=NS(t);return e.length===4?ze.emptyPath():LS(e)}function lp(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LS(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function O0(t,e,n){return{name:ap(t,e),fields:n.value.mapValue.fields}}function jL(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Te(h===void 0||typeof h=="string"),mt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:PS(u.code);return new ee(h,u.message||"")}(o);n=new MS(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Md(t,i.document.name),s=jn(i.document.updateTime),o=i.document.createTime?jn(i.document.createTime):re.min(),a=new jt({mapValue:{fields:i.document.fields}}),l=xt.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];n=new zc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Md(t,i.document),s=i.readTime?jn(i.readTime):re.min(),o=xt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new zc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Md(t,i.document),s=i.removedTargetIds||[];n=new zc([],s,r,null)}else{if(!("filter"in e))return ie();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new bL(r,s),a=i.targetId;n=new RS(a,o)}}return n}function UL(t,e){let n;if(e instanceof gl)n={update:O0(t,e.key,e.value)};else if(e instanceof CS)n={delete:ap(t,e.key)};else if(e instanceof or)n={update:O0(t,e.key,e.data),updateMask:QL(e.fieldMask)};else{if(!(e instanceof xL))return ie();n={verify:ap(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Du)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:VL(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function BL(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?jn(r.updateTime):jn(s);return o.isEqual(re.min())&&(o=jn(s)),new TL(o,r.transformResults||[])}(n,e))):[]}function zL(t,e){return{documents:[OS(t,e.path)]}}function WL(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=OS(t,r);const s=function(u){if(u.length!==0)return FS(Bn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:os(p.field),direction:qL(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function HL(t){let e=FL(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Te(i===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=VS(d);return p instanceof Bn&&fS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(w){return new Mu(as(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,dh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new Ru(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new Ru(m,p)}(n.endAt)),lL(e,r,o,s,a,"F",l,u)}function $L(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=as(n.unaryFilter.field);return Je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=as(n.unaryFilter.field);return Je.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=as(n.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=as(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(as(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(i=>VS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function qL(t){return DL[t]}function KL(t){return NL[t]}function GL(t){return OL[t]}function os(t){return{fieldPath:t.canonicalString()}}function as(t){return dt.fromServerFormat(t.fieldPath)}function FS(t){return t instanceof Je?function(n){if(n.op==="=="){if(E0(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E0(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(n.field),op:KL(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const i=n.getFilters().map(r=>FS(r));return i.length===1?i[0]:{compositeFilter:{op:GL(n.op),filters:i}}}(t):ie()}function QL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,i,r,s=re.min(),o=re.min(),a=mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.ct=e}}function XL(t){const e=HL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.un=new ZL}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Xi.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class ZL{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new pt(ze.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new pt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new qs(0)}static kn(){return new qs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ya(i.mutation,r,Qt.empty(),tt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ue()){const r=Ar();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Yo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Ar();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ue()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=gi();const o=ma(),a=function(){return ma()}();return n.forEach((l,u)=>{const h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof or)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ya(h.mutation,u,h.mutation.getFieldMask(),tt.now())):o.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new tV(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=ma();let r=new je((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=i.get(l)||Qt.empty();h=a.applyToLocalView(u,h),i.set(l,h);const d=(r.get(a.batchId)||ue()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=ES();h.forEach(p=>{if(!s.has(p)){const m=kS(n.get(p),i.get(p));m!==null&&d.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(Ar());let a=-1,l=s;return o.next(u=>U.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(h=>({batchId:a,changes:wS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(i=>{let r=Yo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Yo();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(d,p){return new fh(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let a=Yo();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&ya(h.mutation,u,Qt.empty(),tt.now()),gh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:jn(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:XL(r.bundledQuery),readTime:jn(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.overlays=new je(te.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ar();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=Ar(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new je((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=Ar(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ar(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return U.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new kL(n,i));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.Tr=new pt(it.Er),this.dr=new pt(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new it(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new te(new ze([])),i=new it(n,e),r=new it(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new ze([])),i=new it(n,e),r=new it(n,e+1);let s=ue();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new it(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class it{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||ye(e.wr,n.wr)}static Ar(e,n){return ye(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new pt(it.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AL(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new it(n,0),r=new it(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new pt(ye);return n.forEach(r=>{const s=new it(r,0),o=new it(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),U.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;te.isDocumentKey(s)||(s=s.child(""));const o=new it(new te(s),0);let a=new pt(ye);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),U.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return U.forEach(n.mutations,r=>{const s=new it(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new it(n,0),r=this.br.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.Mr=e,this.docs=function(){return new je(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let i=gi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():xt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=gi();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WO(zO(h),i)<=0||(r.has(h.key)||gh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ie()}Or(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new lV(this)}getSize(e){return U.resolve(this.size)}}class lV extends eV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.persistence=e,this.Nr=new ro(n=>Hg(n),$g),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xg,this.targetCount=0,this.kr=qs.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ug(0),this.Kr=!1,this.Kr=!0,this.$r=new sV,this.referenceDelegate=e(this),this.Ur=new cV(this),this.indexManager=new JL,this.remoteDocumentCache=function(r){return new aV(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new YL(n),this.Gr=new iV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new oV(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){G("MemoryPersistence","Starting transaction:",e);const r=new hV(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return U.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class hV extends $O{constructor(e){super(),this.currentSequenceNumber=e}}class Jg{constructor(e){this.persistence=e,this.Jr=new Xg,this.Yr=null}static Zr(e){return new Jg(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,i=>{const r=te.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ue(),r=ue();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Zg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tM()?8:qO(bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Vo()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(Vo()<=he.DEBUG&&G("QueryEngine","Query:",ss(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Vo()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):U.resolve())}Yi(e,n){if(x0(n))return U.resolve(null);let i=Vn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=rp(n,null,"F"),i=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,rp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,i,r){return x0(n)||r.isEqual(re.min())?U.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?U.resolve(null):(Vo()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ss(n)),this.rs(e,o,n,BO(r,-1)).next(a=>a))})}ts(e,n){let i=new pt(_S(e));return n.forEach((r,s)=>{gh(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return Vo()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ss(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xi.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new je(ye),this._s=new ro(s=>Hg(s),$g),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function gV(t,e,n,i){return new pV(t,e,n,i)}async function US(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ue();for(const u of r){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function mV(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,p=d.keys();let m=U.resolve();return p.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(S=>{const E=u.docVersions.get(w);Te(E!==null),S.version.compareTo(E)<0&&(d.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),h.addEntry(S)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function BS(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function yV(t,e){const n=se(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const p=r.get(d);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(mt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,i)),r=r.insert(d,m),function(S,E,_){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,h)&&a.push(n.Ur.updateTargetData(s,m))});let l=gi(),u=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(_V(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!i.isEqual(re.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function _V(t,e,n){let i=ue(),r=ue();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=gi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function vV(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wV(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new Ni(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function cp(t,e,n){const i=se(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!pl(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function L0(t,e,n){const i=se(t);let r=re.min(),s=ue();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=se(l),p=d._s.get(h);return p!==void 0?U.resolve(d.os.get(p)):d.Ur.getTargetData(u,h)}(i,o,Vn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:re.min(),n?s:ue())).next(a=>(EV(i,hL(e),a),{documents:a,Ts:s})))}function EV(t,e,n){let i=t.us.get(e)||re.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}class V0{constructor(){this.activeTargetIds=yL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TV{constructor(){this.so=new V0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new V0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function Dd(){return _c===null?_c=function(){return 268435456+Math.round(2147483648*Math.random())}():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class AV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=Dd(),l=this.xo(n,i.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(h=>(G("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw zs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=IV[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=Dd();return new Promise((o,a)=>{const l=new tS;l.setWithCredentials(!0),l.listenOnce(nS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jc.NO_ERROR:const h=l.getResponseJson();G(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case jc.TIMEOUT:G(Et,`RPC '${e}' ${s} timed out`),a(new ee(B.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const d=l.getStatus();if(G(Et,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const w=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(m.status);a(new ee(w,m.message))}else a(new ee(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(B.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{G(Et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);G(Et,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(e,n,i){const r=Dd(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sS(),a=rS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");G(Et,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=o.createWebChannel(h,l);let p=!1,m=!1;const w=new xV({Io:E=>{m?G(Et,`Not sending because RPC '${e}' stream ${r} is closed:`,E):(p||(G(Et,`Opening RPC '${e}' stream ${r} transport.`),d.open(),p=!0),G(Et,`RPC '${e}' stream ${r} sending:`,E),d.send(E))},To:()=>d.close()}),S=(E,_,y)=>{E.listen(_,I=>{try{y(I)}catch(M){setTimeout(()=>{throw M},0)}})};return S(d,Qo.EventType.OPEN,()=>{m||(G(Et,`RPC '${e}' stream ${r} transport opened.`),w.yo())}),S(d,Qo.EventType.CLOSE,()=>{m||(m=!0,G(Et,`RPC '${e}' stream ${r} transport closed`),w.So())}),S(d,Qo.EventType.ERROR,E=>{m||(m=!0,zs(Et,`RPC '${e}' stream ${r} transport errored:`,E),w.So(new ee(B.UNAVAILABLE,"The operation could not be completed")))}),S(d,Qo.EventType.MESSAGE,E=>{var _;if(!m){const y=E.data[0];Te(!!y);const I=y,M=I.error||((_=I[0])===null||_===void 0?void 0:_.error);if(M){G(Et,`RPC '${e}' stream ${r} received error:`,M);const N=M.status;let V=function(A){const k=Ge[A];if(k!==void 0)return PS(k)}(N),x=M.message;V===void 0&&(V=B.INTERNAL,x="Unknown error status: "+N+" with message "+M.message),m=!0,w.So(new ee(V,x)),d.close()}else G(Et,`RPC '${e}' stream ${r} received:`,y),w.bo(y)}}),S(a,iS.STAT_EVENT,E=>{E.stat===Zf.PROXY?G(Et,`RPC '${e}' stream ${r} detected buffering proxy`):E.stat===Zf.NOPROXY&&G(Et,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return new LL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new ee(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kV extends WS{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=jL(this.serializer,e),i=function(s){if(!("targetChange"in s))return re.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?jn(o.readTime):re.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=lp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ip(l)?{documents:zL(s,l)}:{query:WL(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DS(s,o.resumeToken);const u=sp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=Ou(s,o.snapshotVersion.toTimestamp());const u=sp(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=$L(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.a_(n)}}class bV extends WS{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=BL(e.writeResults,e.commitTime),i=jn(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=lp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>UL(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new ee(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,op(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(B.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,op(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class PV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pi(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{Yr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=se(l);u.L_.add(4),await yl(u),u.q_.set("Unknown"),u.L_.delete(4),await wh(u)}(this))})}),this.q_=new PV(i,r)}}async function wh(t){if(Yr(t))for(const e of t.B_)await e(!0)}async function yl(t){for(const e of t.B_)await e(!1)}function HS(t,e){const n=se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),im(n)?nm(n):so(n).r_()&&tm(n,e))}function em(t,e){const n=se(t),i=so(n);n.N_.delete(e),i.r_()&&$S(n,e),n.N_.size===0&&(i.r_()?i.o_():Yr(n)&&n.q_.set("Unknown"))}function tm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).A_(e)}function $S(t,e){t.Q_.xe(e),so(t).R_(e)}function nm(t){t.Q_=new ML({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),so(t).start(),t.q_.v_()}function im(t){return Yr(t)&&!so(t).n_()&&t.N_.size>0}function Yr(t){return se(t).L_.size===0}function qS(t){t.Q_=void 0}async function MV(t){t.q_.set("Online")}async function DV(t){t.N_.forEach((e,n)=>{tm(t,e)})}async function NV(t,e){qS(t),im(t)?(t.q_.M_(e),nm(t)):t.q_.set("Unknown")}async function OV(t,e,n){if(t.q_.set("Online"),e instanceof MS&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(i){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lu(t,i)}else if(e instanceof zc?t.Q_.Ke(e):e instanceof RS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{const i=await BS(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),$S(s,l);const d=new Ni(h.target,l,u,h.sequenceNumber);tm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){G("RemoteStore","Failed to raise snapshot:",i),await Lu(t,i)}}async function Lu(t,e,n){if(!pl(e))throw e;t.L_.add(1),await yl(t),t.q_.set("Offline"),n||(n=()=>BS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wh(t)})}function KS(t,e){return e().catch(n=>Lu(t,n,e))}async function Eh(t){const e=se(t),n=Zi(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LV(e);)try{const r=await vV(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,VV(e,r)}catch(r){await Lu(e,r)}GS(e)&&QS(e)}function LV(t){return Yr(t)&&t.O_.length<10}function VV(t,e){t.O_.push(e);const n=Zi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function GS(t){return Yr(t)&&!Zi(t).n_()&&t.O_.length>0}function QS(t){Zi(t).start()}async function FV(t){Zi(t).p_()}async function jV(t){const e=Zi(t);for(const n of t.O_)e.m_(n.mutations)}async function UV(t,e,n){const i=t.O_.shift(),r=Gg.from(i,e,n);await KS(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Eh(t)}async function BV(t,e){e&&Zi(t).V_&&await async function(i,r){if(function(o){return CL(o)&&o!==B.ABORTED}(r.code)){const s=i.O_.shift();Zi(i).s_(),await KS(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Eh(i)}}(t,e),GS(t)&&QS(t)}async function j0(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const i=Yr(n);n.L_.add(3),await yl(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wh(n)}async function zV(t,e){const n=se(t);e?(n.L_.delete(2),await wh(n)):e||(n.L_.add(2),await yl(n),n.q_.set("Unknown"))}function so(t){return t.K_||(t.K_=function(n,i,r){const s=se(n);return s.w_(),new kV(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:MV.bind(null,t),Ro:DV.bind(null,t),mo:NV.bind(null,t),d_:OV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),im(t)?nm(t):t.q_.set("Unknown")):(await t.K_.stop(),qS(t))})),t.K_}function Zi(t){return t.U_||(t.U_=function(n,i,r){const s=se(n);return s.w_(),new bV(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FV.bind(null,t),mo:BV.bind(null,t),f_:jV.bind(null,t),g_:UV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Eh(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new rm(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(t,e){if(pi("AsyncQueue",`${e}: ${t}`),pl(t))return new ee(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.comparator=e?(n,i)=>e(n,i)||te.comparator(n.key,i.key):(n,i)=>te.comparator(n.key,i.key),this.keyedMap=Yo(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Ps(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ps)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ps;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.W_=new je(te.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ks{constructor(e,n,i,r,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ks(e,n,Ps.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class HV{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=se(n),s=r.queries;r.queries=B0(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new ee(B.ABORTED,"Firestore shutting down"))}}function B0(){return new ro(t=>yS(t),ph)}async function $V(t,e){const n=se(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new WV,i=e.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=sm(o,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&om(n)}async function qV(t,e){const n=se(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function KV(t,e){const n=se(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&om(n)}function GV(t,e,n){const i=se(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function om(t){t.Y_.forEach(e=>{e.next()})}var up,z0;(z0=up||(up={})).ea="default",z0.Cache="cache";class QV{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ks(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.key=e}}class XS{constructor(e){this.key=e}}class YV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=_S(e),this.Ra=new Ps(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new U0,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,d)=>{const p=r.get(h),m=gh(this.query,d)?d:null,w=!!p&&this.mutatedKeys.has(p.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?w!==S&&(i.track({type:3,doc:m}),E=!0):this.ga(p,m)||(i.track({type:2,doc:m}),E=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),E=!0):p&&!m&&(i.track({type:1,doc:p}),E=!0,(l||u)&&(a=!0)),E&&(m?(o=o.add(m),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(m,w){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return S(m)-S(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ks(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new U0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new XS(i))}),this.da.forEach(i=>{e.has(i)||n.push(new YS(i))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ks.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class XV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class JV{constructor(e){this.key=e,this.va=!1}}class ZV{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ro(a=>yS(a),ph),this.Ma=new Map,this.xa=new Set,this.Oa=new je(te.comparator),this.Na=new Map,this.La=new Xg,this.Ba={},this.ka=new Map,this.qa=qs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function eF(t,e,n=!0){const i=iI(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await JS(i,e,n,!0),r}async function tF(t,e){const n=iI(t);await JS(n,e,!0,!1)}async function JS(t,e,n,i){const r=await wV(t.localStore,Vn(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await nF(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&HS(t.remoteStore,r),a}async function nF(t,e,n,i,r){t.Ka=(d,p,m)=>async function(S,E,_,y){let I=E.view.ma(_);I.ns&&(I=await L0(S.localStore,E.query,!1).then(({documents:x})=>E.view.ma(x,I)));const M=y&&y.targetChanges.get(E.targetId),N=y&&y.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(I,S.isPrimaryClient,M,N);return H0(S,E.targetId,V.wa),V.snapshot}(t,d,p,m);const s=await L0(t.localStore,e,!0),o=new YV(e,s.Ts),a=o.ma(s.documents),l=ml.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,l);H0(t,n,u.wa);const h=new XV(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function iF(t,e,n){const i=se(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!ph(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await cp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&em(i.remoteStore,r.targetId),hp(i,r.targetId)}).catch(fl)):(hp(i,r.targetId),await cp(i.localStore,r.targetId,!0))}async function rF(t,e){const n=se(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),em(n.remoteStore,i.targetId))}async function sF(t,e,n){const i=dF(t);try{const r=await function(o,a){const l=se(o),u=tt.now(),h=a.reduce((m,w)=>m.add(w.key),ue());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=gi(),S=ue();return l.cs.getEntries(m,h).next(E=>{w=E,w.forEach((_,y)=>{y.isValidDocument()||(S=S.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(E=>{d=E;const _=[];for(const y of a){const I=IL(y,d.get(y.key).overlayedDocument);I!=null&&_.push(new or(y.key,I,uS(I.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(m,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:wS(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new je(ye)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await _l(i,r.changes),await Eh(i.remoteStore)}catch(r){const s=sm(r,"Failed to persist write");n.reject(s)}}async function ZS(t,e){const n=se(t);try{const i=await yV(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Te(o.va):r.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),await _l(n,i,e)}catch(i){await fl(i)}}function W0(t,e,n){const i=se(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=se(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const p of d.j_)p.Z_(a)&&(u=!0)}),u&&om(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function oF(t,e,n){const i=se(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new je(te.comparator);o=o.insert(s,xt.newNoDocument(s,re.min()));const a=ue().add(s),l=new _h(re.min(),new Map,new je(ye),o,a);await ZS(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),am(i)}else await cp(i.localStore,e,!1).then(()=>hp(i,e,n)).catch(fl)}async function aF(t,e){const n=se(t),i=e.batch.batchId;try{const r=await mV(n.localStore,e);tI(n,i,null),eI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _l(n,r)}catch(r){await fl(r)}}async function lF(t,e,n){const i=se(t);try{const r=await function(o,a){const l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Te(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(i.localStore,e);tI(i,e,n),eI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await _l(i,r)}catch(r){await fl(r)}}function eI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function tI(t,e,n){const i=se(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function hp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||nI(t,i)})}function nI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(em(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),am(t))}function H0(t,e,n){for(const i of n)i instanceof YS?(t.La.addReference(i.key,e),cF(t,i)):i instanceof XS?(G("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||nI(t,i.key)):ie()}function cF(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(i),am(t))}function am(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(ze.fromString(e)),i=t.qa.next();t.Na.set(i,new JV(n)),t.Oa=t.Oa.insert(n,i),HS(t.remoteStore,new Ni(Vn(qg(n.path)),i,"TargetPurposeLimboResolution",Ug.oe))}}async function _l(t,e,n){const i=se(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,n).then(u=>{var h;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){r.push(u);const d=Zg.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const h=se(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,p=>U.forEach(p.$i,m=>h.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>U.forEach(p.Ui,m=>h.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!pl(d))throw d;G("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=h.os.get(p),w=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(p,S)}}}(i.localStore,s))}async function uF(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const i=await US(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await _l(n,i.hs)}}function hF(t,e){const n=se(t),i=n.Na.get(e);if(i&&i.va)return ue().add(i.key);{let r=ue();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function iI(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oF.bind(null,e),e.Ca.d_=KV.bind(null,e.eventManager),e.Ca.$a=GV.bind(null,e.eventManager),e}function dF(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lF.bind(null,e),e}class Vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gV(this.persistence,new fV,e.initialUser,this.serializer)}Ga(e){return new uV(Jg.Zr,this.serializer)}Wa(e){return new TV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vu.provider={build:()=>new Vu};class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>W0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=uF.bind(null,this.syncEngine),await zV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HV}()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),i=function(s){return new AV(s)}(e.databaseInfo);return function(s,o,a,l){return new CV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new RV(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>W0(this.syncEngine,n,0),function(){return F0.D()?new F0:new SV}())}createSyncEngine(e,n){return function(r,s,o,a,l,u,h){const d=new ZV(r,s,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=se(r);G("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await yl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=St.UNAUTHENTICATED,this.clientId=aS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=sm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Od(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await US(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gF(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>j0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>j0(e.remoteStore,r)),t._onlineComponents=e}async function gF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Od(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===B.FAILED_PRECONDITION||r.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await Od(t,new Vu)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Od(t,new Vu);return t._offlineComponents}async function rI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await $0(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await $0(t,new dp))),t._onlineComponents}function mF(t){return rI(t).then(e=>e.syncEngine)}async function yF(t){const e=await rI(t),n=e.eventManager;return n.onListen=eF.bind(null,e.syncEngine),n.onUnlisten=iF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rF.bind(null,e.syncEngine),n}function _F(t,e,n={}){const i=new Ki;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new fF({next:p=>{h.Za(),o.enqueueAndForget(()=>qV(s,d));const m=p.docs.has(a);!m&&p.fromCache?u.reject(new ee(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new ee(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new QV(qg(a.path),h,{includeMetadataChanges:!0,_a:!0});return $V(s,d)}(await yF(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e,n){if(!n)throw new ee(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wF(t,e,n,i){if(e===!0&&i===!0)throw new ee(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function K0(t){if(!te.isDocumentKey(t))throw new ee(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lm(t);throw new ee(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new MO;switch(i.type){case"firstParty":return new LO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ee(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=q0.get(n);i&&(G("ComponentProvider","Removing Datastore"),q0.delete(n),i.terminate())}(this),Promise.resolve()}}function EF(t,e,n,i={}){var r;const s=(t=Hr(t,cm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=St.MOCK_USER;else{a=G2(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ee(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new St(u)}t._authCredentials=new DO(new oS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new um(this.firestore,e,this._query)}}class Xt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Ja extends um{constructor(e,n,i){super(e,n,qg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new te(e))}withConverter(e){return new Ja(this.firestore,e,this._path)}}function oI(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=aS.newId()),vF("doc","path",e),t instanceof cm){const i=ze.fromString(e,...n);return K0(i),new Xt(t,null,new te(i))}{if(!(t instanceof Xt||t instanceof Ja))throw new ee(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ze.fromString(e,...n));return K0(i),new Xt(t.firestore,t instanceof Ja?t.converter:null,new te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zS(this,"async_queue_retry"),this.Vu=()=>{const i=Nd();i&&G("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Nd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ki;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw pi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=rm.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Th extends cm{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Q0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function TF(t,e){const n=typeof t=="object"?t:_T(),i=typeof t=="string"?t:"(default)",r=kg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=q2("firestore");s&&EF(r,...s)}return r}function aI(t){if(t._terminated)throw new ee(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SF(t),t._firestoreClient}function SF(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,u,h){return new QO(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new pF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gs(mt.fromBase64String(e))}catch(n){throw new ee(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gs(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=/^__.*__$/;class xF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,n,this.fieldTransforms):new gl(e,this.data,n,this.fieldTransforms)}}class lI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new or(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class pm{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Fu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(cI(this.Cu)&&IF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||vh(e)}Qu(e,n,i,r=!1){return new pm({Cu:e,methodName:n,qu:i,path:dt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uI(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new AF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kF(t,e,n,i,r,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);gm("Data must be an object, but it was:",o,i);const a=hI(i,o);let l,u;if(s.merge)l=new Qt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=fp(e,d,n);if(!o.contains(p))throw new ee(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);fI(h,p)||h.push(p)}l=new Qt(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new xF(new jt(a),l,u)}class Ih extends hm{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function bF(t,e,n,i){const r=t.Qu(1,e,n);gm("Data must be an object, but it was:",r,i);const s=[],o=jt.empty();Qr(i,(l,u)=>{const h=mm(e,l,n);u=Ht(u);const d=r.Nu(h);if(u instanceof Ih)s.push(h);else{const p=xh(u,d);p!=null&&(s.push(h),o.set(h,p))}});const a=new Qt(s);return new lI(o,a,r.fieldTransforms)}function CF(t,e,n,i,r,s){const o=t.Qu(1,e,n),a=[fp(e,i,n)],l=[r];if(s.length%2!=0)throw new ee(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(fp(e,s[p])),l.push(s[p+1]);const u=[],h=jt.empty();for(let p=a.length-1;p>=0;--p)if(!fI(u,a[p])){const m=a[p];let w=l[p];w=Ht(w);const S=o.Nu(m);if(w instanceof Ih)u.push(m);else{const E=xh(w,S);E!=null&&(u.push(m),h.set(m,E))}}const d=new Qt(u);return new lI(h,d,o.fieldTransforms)}function xh(t,e){if(dI(t=Ht(t)))return gm("Unsupported field value:",e,t),hI(t,e);if(t instanceof hm)return function(i,r){if(!cI(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=xh(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _L(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=tt.fromDate(i);return{timestampValue:Ou(r.serializer,s)}}if(i instanceof tt){const s=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ou(r.serializer,s)}}if(i instanceof dm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Gs)return{bytesValue:DS(r.serializer,i._byteString)};if(i instanceof Xt){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yg(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof fm)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Kg(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${lm(i)}`)}(t,e)}function hI(t,e){const n={};return lS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(i,r)=>{const s=xh(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function dI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof dm||t instanceof Gs||t instanceof Xt||t instanceof hm||t instanceof fm)}function gm(t,e,n){if(!dI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=lm(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function fp(t,e,n){if((e=Ht(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return mm(t,e);throw Fu("Field path arguments must be of type string or ",t,!1,void 0,n)}const PF=new RegExp("[~\\*/\\[\\]]");function mm(t,e,n){if(e.search(PF)>=0)throw Fu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sh(...e.split("."))._internalPath}catch{throw Fu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fu(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new ee(B.INVALID_ARGUMENT,a+t+l)}function fI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RF extends pI{data(){return super.data()}}function gI(t,e){return typeof e=="string"?mm(t,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}class MF{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Qr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>$e(o.doubleValue));return new fm(s)}convertGeoPoint(e){return new dm($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=zg(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ze.fromString(e);Te(jS(i));const r=new Ga(i.get(1),i.get(3)),s=new te(i.popFirst(5));return r.isEqual(n)||pi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mI extends pI{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new OF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(gI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class OF extends mI{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){t=Hr(t,Xt);const e=Hr(t.firestore,Th);return _F(aI(e),t._key).then(n=>UF(e,t,n))}class VF extends MF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function FF(t,e,n){t=Hr(t,Xt);const i=Hr(t.firestore,Th),r=DF(t.converter,e);return yI(i,[kF(uI(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Fn.none())])}function jF(t,e,n,...i){t=Hr(t,Xt);const r=Hr(t.firestore,Th),s=uI(r);let o;return o=typeof(e=Ht(e))=="string"||e instanceof Sh?CF(s,"updateDoc",t._key,e,n,i):bF(s,"updateDoc",t._key,e),yI(r,[o.toMutation(t._key,Fn.exists(!0))])}function yI(t,e){return function(i,r){const s=new Ki;return i.asyncQueue.enqueueAndForget(async()=>sF(await mF(i),r,s)),s.promise}(aI(t),e)}function UF(t,e,n){const i=n.docs.get(e._key),r=new VF(t);return new mI(t,r,e._key,i,new NF(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){io=r})(to),Bs(new Fr("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Th(new NO(i.getProvider("auth-internal")),new FO(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(u.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qi(g0,"4.7.3",e),qi(g0,"4.7.3","esm2017")})();const BF={apiKey:"AIzaSyAJ1JEr_cLnWWLS_W1yts62Sxofqs4ajEk",authDomain:"little-bankers.firebaseapp.com",projectId:"little-bankers",storageBucket:"little-bankers.appspot.com",messagingSenderId:"4798650922",appId:"1:4798650922:web:cd8f200d6e57aa61e40153"},_I=yT(BF),vI=TF(_I),Ld=bO(_I),zF=new Jn,WF=new Xn,HF=new Zn,Y0=async(t,e,n)=>{try{const i=oI(vI,"users",t),r=await LF(i);r.exists()?console.log("User data:",r.data()):(await FF(i,{score:0,name:e,ProfileUrl:n}),console.log("New user initialized with default score"))}catch(i){throw console.error("Error initializing user score:",i),new Error("Error initializing user score: "+i.message)}},$F=async(t,e)=>{if(!t){console.error("User is not authenticated.");return}const n=oI(vI,"users",t);try{await jF(n,{score:e}),console.log("Score updated successfully!")}catch(i){throw console.error("Error updating score:",i),new Error("Error updating score: "+i.message)}},qF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAL2UlEQVR4nO2dfVRUZR7Hn3sZZkZz95ztbLs7WpKZYpKKAiLoiGAoyAimkqAiYoCiQiLvb46CKMiLCjhKmZhWFm7NC/MCqMuMkZRhW9aebas9W51sO222pZkSL789d2w61KK8zJ373LnzfM75njN/oN7f7+Nz7/M8994BIQKBQCAQCAQCgUAgEAgEAoHAIVAongTb6VTY5PYibKA7YS19BaKpaxBBdUEo6oVQ1AdyBLAAgfWzguqGZdQtWEF9D2vpzyGZ7oCn3I5BhmgzKMWTiTzMQIooEFKoIxBHfQThVLdVHpuJpH6EDfRHsN3tGChFgbjrdQkg3W0FbKIvQCTVxbpQ+SCJom5BCn0OstyCcfdBUIBS8jCk0q9AJHWTc6nyOySaug6pbo2Qj2S4++O0QJZIDgn0exDCA6HyO+Qx1Acp9FtQ7D4Td7+cBshzC4V46mMI4oFA+RDDTNwS6A+gSOSHu3+8BbagsbCR7rA2S+6kCUFgraEU/RF3P3kFpFH1sAj1YhckZykRVDekUweQqwN7RP4QR/8HuxC5g8KsrwvFk5ArAqlUpXWSgluC3MEJp3ohly5ArgJkod9AIv0O9sbLOcx8BJBMXwQlEiMhA4Xu06xrSNwNl2PKGupLwU7AIE8UhGUHSs6zLKNuQr5oDhISkEXHWTf8cTdXzpNEU9eQUICd7kmwyAUmU/JhLKFyRPOREIAsOtYlZsryYchVCkauWzAspshpWd5PbpEoCAkBKBVPIRMqJFC5zDrXlZdC8gFOywWieUgouNwmhtxFRi4DpFMV2JvKTOrWUF9BCt0OmW6HIMc9EXaJAqAATYAGJAUlGm39nC0KhGz3JEhzOwKb6HaIoa6yeu9ZcCO3SBSAbcYcTvVAEt0JmaIUqEKjRlyDEkkhR7QFEul37ZogCk4uIArWUl9zLjaG+gYy6B2QjNxZr0mJxNYzUjT1nUvLZYBU6jCnYp+gvoF890TO6ssRbbE+XuuScrPR/Zytd5lTcSZViaVOJaIhnaqDxXfYchWiXAZIoTs5kbuO/hQK0APY681wfxTW0l+4htxaka/Dn3pkntFKc3se8QzYSjdZ7/MKVS4DWMTPwjF3gDDKMXKZV0yy6HTEUyCDzhOu3Nek48Es+REsEgCjGOBJ2hFyY3HX6bKAWVxnlWtLmwSgRHT7lMqG3AJ6Fe4aXRY4P+Y+MEt++IVgW14UM+/x2HfNTaczcNfo0oBZnDagXFtaJQApIzxl83BC5XKARfLWXQXbUim6/bT/UOXG05/irs3lgfPiqUOSa8srYuYZpMHlLqZ6IAeNd/kG4wbMkr3DEszkrARgu9vdBadT1bhrI9w+PX84bMG2HHYHWDSA3Gjqv6S5PADOjho3Yrm2aMUAq381AcsVbcJdG8F6epaus1uwbc2sdAPrO8CryOjlDWAWN7Ai2BZmmzOHzsddF+EnwCz+lFXBZvEX0IZEpME8ANrG/J5VubfD+b1dWfZlcLYEFatv9M+++tSJrDcGzkvnsi74vHQu4hgZD4TZm0JVPvtPs4BZsoFlwd/D+9y/LyvjgSB7k15TUs96Y8AiKWP5+tuMMCDjgSB7k7h//2usNwbMEjXLI7gUYUDGA0H2ZkV5w2esNwYs4g52R7B0HcKAjAeC7M3C3ae/Y70xYJG8x+4Ea5Q/woCMB4LszdxdupusNwYs4k9YFXxO6oEwIOOBIHvjs6O1m/XGgFlylVXBF9C9CAMyHgiyN48UvNbLemPALOliVTCGJRIDbjlsxCO3ExDbEMGXeZPxOZccIpicorP5Ec/89j72BZNJFvAlM4rOdfN/mdQ2CsuXgcl4IMje+CtNt1hvDNnouMybBBerr7MvmGxVAl+yvKzhc/YFk5sNwJesr6zrYF9wmySB3b1oyQ1yu/DyiARvPFh5nH3BFmkgq4KtEy0p569eyngwAu3Nlv1l21hvDLO1yLpgi6QKcYyMB4LsTdbRQk+HNIfNtfAt82ioM868Ua/zGY0ESl3j5jFeBed7eX+jwQZYxMfYkHvlL/fCVt1CUKiXQaXJtwwJlMzanQfZHr2PlzV87LADhjZpnL1y2894wBMahVUuk61Nwd8igRJS8so1tgWvr6o54bADhvZRY0cqtsciheOm6bD0J7H9U6f3SUMCI19VmOOI6++mmmq5Qw8czJIPhiv3attvIbsp6P/E/jyKdSHfIkAUEgjKNqUouER9nW25vjtauhx+8GCW7BmO3PfOymCdNvyOcm2pNviokEDYVrv7qCNG7+qKI+xvcPwaaBNPGYrYPosEGpunQqQ6alC5TFZrlvQefNWH/Sf2OaZUlfEo88SFIwSvr6pdzUkRYJFcvJvcG+Z7YI9hzpDE9k9mU9AV5NQAFbn35L8dIXdWUetN5u/npow2Seqd5H587g+QqFs0bLm27DP4NyInZeP+Kr0j5DJJqKrVcPsi2gBfo9TSOhGWa5aOWC6TKHUUqPSzspCTkVWnLLw/5x2HyH0g56+QXVfsxWlBYBbX2MR2mUdDrdHHLrH9E61W9KlMM+OQk1Coyt8wMe+NPkeN3qiy5/7OeVFgkT7APIj3RdvvILUphDW5tqzSLOmtb/bmZlJhB3mHdjw5Of91h8kdm/MubKg8sBDhoL3VQ7dKE8G6XFtWqhV9h5q9MxFPyVEVFT6U96bD5DJZXPrSJ9gKPN3sGbhCbd81d7As00RCpd7/NOIZKQcqNI665toyLvsdSKmuWIq10HLD7DccKdiWXP38z57WTp+AtViEUEOzz5RM3YIrySeSYHJBh0MFP7634X3c9aIXWz3HrtGE93IhmdkMqTN51+CoUwmIrtL7Ho7VLPm51nWn4mDGjnMOkTsh92JfbGn9FMQHDpm893MhuP8dqGeavVO4qq/O5J22pSnk2kDHEtO4CoJLT7MuePW+I/z6UtZ83fyvuJTM5Clt8Le1xlklDW0eUrbrqWqcM6rWOKt8qy7ku8GOY/mryyG6uo41uf47jddQcifrvyrILl4yevnFqCP6uJbMZI02vLfEEHBJZfJOa2ycOmakNdTrfEarDN4Zu/SBb/c/FQ8pmmUQd2i33XI9ct/qS646GIb4yGGDd8lA93u5DLO0Sm8K+rpUP6dDZZhVX6/32Xiq2SvwhTOTHtJ1ykYzo/1Ey+QJx5tnzK43+qQc0PuomJ/dpg3+hvmz9v77ice2wfjcSyMWvL6qpg7xmd36gE6cgvmQ9S8kgFfh+WHLjdjzPPc7VsPlRMv0e7ZrFwx63RJ61jbGQsAu/ZDl+ipbfoiuegbLS/HDRn9m0kPJ2sdu4W6yAnNW/jkawspODCrXM7+958nqGs6/FM4unm31Dhr2REWAiWJGc82+u65346tUK5AzcrR5+opYTDNrviXh6WwY96utTeZN/aQDVZuRM/Oy8dENMRoiWcFMvp7bDBPz3vx55G6uKXe6+94DUm/yjl6jDe/BPYoUPEj8S3Ewr1jdnVFbEo+ExEnTNHmiLrQLd4MVmLNJ+1jXyTNeC5AQOdXq9cg2nesuofKb5FfbTJ4PIiHD7CTt1M+9gHvHS8FhmFrLDbMv/ssBe+a85aDBZ2+MZongZ9jrtGG9x43TipErom6Z4pPbxP1dKAVHKdTP+9Jg8JyGXJ1yg99+Ic2y4zVhPfWYHkzgLY1vevypQu/X8bg6ErsgxQizUr0UKgyzLxiND9+Hu5+85ah+5vyCJvnfmIftcAtTDDHMf8pifcA/TKaJAbj75zTUGvx8i5rmvb2y38vifEuMJqKv0uB3qbFlqjfufjktapPng1WG2S8naUN/wC1U8dOSZ6tu4fVqg9+ps2fvH4e7P4Ki3jQjoszgb0nUhnJ+KzJRG3prr8HffMzgHYq7Dy5BhTHAr1w/W5Wnn/dhvCasm22hydrQ7hJ9wD+PmGYePXnGyw93vS4P88xVndEvpcww5+RO/dyLeXr556m64GsJ2sVdsZolPavUEX1L1VHWNyWYz+s1Yd1JmkU3t2gXXmd+dk/TnNcPGH2fOaL3TT5u9HL6F9EJBAKBQCAQCAQCgUAgEAgE5FT8D7m0YqYLJHvTAAAAAElFTkSuQmCC",KF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAID0lEQVR4nO2deWxURRjAh5nFK4gHJl5gUNToH8Y/lCjxNh7ggfH6x6jREE8U9A/FGzwSDiEaRcjObCm0FJt6H9FE5TCGKldFQrC0VCg737bQWrbFLaW73THz2hACW9rd7nvfvPfml3xJE5b0zffrvJ03M28+QiwWi8VisVgsFovFYrFYLBaLxWKx5E/V1uNIFC5hUXkLi8kHKZePUQHPUQ4znHB+lo/pf9Of0Z8l0Y3DbapNJNpwChPybiZgHuXwPRNQx4RMMwEqv3D+Tx0V8B3jci7j8i5S3joSu3nhQ6lhkShcy4ScQzmsY1xm8pcJgwsuM32/Y3ZEwDX6d2M3P7gskWP07ZVxqHdNqBhIOOzWf1hkcfwi7HQEBhZNTKJCrmFcZtHEiqN6dpZyWM1EYiJ2fvzJTEX196pze8SWKY4dlMNmyuOPkirFsNPmCxiP30yF3IotjuUrWsAWJuI3YufPXEr3nMW4LDPqViwKEv0d4fHR2Ok0B6WGUS6nMgFJbDmseJGkQj5jR93lrSMZhyoDhCiXevM3ROw+nYSRSCxxJeOyAVsCcz1kYyQmJ5AwQTk8wQR04ycfvAkOBymHKSQMOJMV2AkXaL15DgksSg1jAhbgJxmwY6F+zieBm7jgssKA5CozQi4PlGQm5If4SQWzgsMiEgSokG+hJ1OYGVTI14mfoSLxJHYSmcnRu2jhz9F1JJoYrx8P0JMojI9u/z0nl+48lQn5jwHJU/4I2eifGS89tyzkl/hJG1xc/sVeNb06qUq3p9Ta5oOqcX9GtXX1qExWqZ6scn5uOdCjGjoyqjaZVptaup3PVe7oVAu27FcPrWorynVQDt/6Yu66b+FAmRznLG9Sb23sUP90ZNRQqW4+WLTrolw+Tcxf8oN92AL7ixNLEmrWxg61vzs7ZLFuCGZctpPorrOJqTAhV2BL7C8urGxWNS3dRRPriuDeWEZMJBJLXG/qYv1ln+1RkBr67dgTwTqHsfhNxChmKmrqNptzlzc5Aye3cKEHO/u8jBpwsWjifmyRuSIiQP0ku1yT65bg3p4M9xBToFxuwJaZK6b8us9VuW4KpkJuMqIX633L2CJzxQkliaI8BmEJdiIGt5mwmLAGW2aueGR1m+ty3RZMOazCtcubzjd15PyLy9+9nvRgLrOkpPkCNL9MwCxskbli1LImle455KAgUums+nLnAWc68tX17f3Go6uLM1XZby8W8k3MLTg7sGXmigd+/ndIcktqU+qMsib0djjBoR5lsNX7CqcBCcgRczfvL1juR1v/Q7/+IyPC41d7LljvEMRueH/x4+7Cvn9rk2l10pIE+vXniHc9F0yFXG9Aw3PG9mS6IMFP/bYP/dpzBRWw1vtjE9x8s36IUchqUSarzPnePSpk2tPjJFhUTsZvdO4YUZooqPdu2NuNfu3HjFj8Tu8EC5iH3uB+QvfCQlhWl0K/dmPeiug7zUaZGKMrmgsS/E5NB/q1D/imolegHoQyQJy3ojDBL//Rjn7txwwOtd7Yrdp6XGHnUJkteHp1Ev3aB4hubw5rE4lLDWhsGAUrwuXFrvvVS1jYDQ2rYKaPXQzr7o1QCOZwr+uCnUM8sRsaUsFUn8flvmB4Hruh4RUsp3oh+DXshoZWsIBXAyl4daLLeTdoMFHoFtmWvveP8o23N3UETrDnt+j69sJWh7zgxd+TQbtFez/IMlnwpB9bgzXIwnhMMlnwuMrmYD0mYUx0mCq4M51Vw2MBm+jAmKo0VfBf/3YHb6oSY7HBVMFVDZ0BXGxAWC40VfA7Xq4he7ZciLDgb6rgh4t0Pod5C/4eb9kxVfD4r/YGc8tOXyGqUAvOKqVOWerlHur4HYHdNmui4Ph/meBum9V4WfLmvZoOxf9ODSoq6jsLfkuQD/J36Jixrj3AG9+dkbSc7d1fsPurSS+YvZrk/asrupafAQ0PheBINH4VwYAJ2I7d+BAIrkM7q8PEF8CDJphy+QZBY3HTWNOOcAiUYI58hIOmtwqnAckIoGAqYCXBRpdYxU5EUAUzAbcSEzDpILSgCKYc1hFTYCJxH3ZCgiaYReVkYtZhpLp+Ln5igiCYcqgx4hjDw4lwuM6EEbXvBXOdQ0MLTeuKXtgJ8r9gWEqMRTSfiX2kv88FJ40+0l9Do/JZKxgKEqwLiRGflGz/wvZgyFMufEZ8A2JhLJ/eonfoTRTET2CVtvOh4K7hInEF8SO68KLXj06+Esxllgr5OPEzuoSqFQw5BVMBr5AgwIT8wPZgOFLwJyRQJd49mgTxxS2ay/JAlXg/dEI8h/mhF8zlx8GTexiUwww3B17G9mDutHkWCQO9o2t3HqEMFdzl+9FyvuhnPzeKehgnmMtdKDUXjKC8dSTjUBlUwZTLr8iixtNI2NGVr4u1CmWI4DZ/LBx4yTI5igkZHeoADFUwl1nGZZleNsVOp7HoQtO6fq7fBFMONbqWFHb+/IFTVU3eTQX8YbpgKuBPFpMPGreHyi8wDrfrKpyDvXV7IpjrRQJYaUT518CwRI5xJkkGeOHNVcFc7nKOUog2jsNOR6CJxOQExuE9yqH6yCOdiitYpvXL1/r93PA+y2ITazlZF43SPUufRDN2RVPDwZ78K5+9WJ3M6KOKqJBf977cHr+DLNwzArt5lhxM/KHu+Gm/d1w7Z3P7NL4t9X7Z9lRJRX1nVWV95w86Pq3v/LyiPlUa25aarz/zUnXbDTM3wkk2mRaLxWKxWCwWi8VisVgsFovFYrGQvPkfEJfQFlMSDQoAAAAASUVORK5CYII=",GF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAHNElEQVR4nO2dCWicRRTHX2Z2q3hUreJR0KpV8b4VL/DAImKp4llPFFTwwBtPpAqK1aLUA/EkaMzumzFRUVHRQr3wvsBbRLy12sZk39uNtqafzLexaZprk+zuzOy+HzwKhSTzvf838828mfcGQBAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAEQRAqI1ecri3NUobPU4avKRtdrgydkcHifvB4sm6Fv0kIhawt7qORF2rkb7ThZFRD+kcZfk1ZuhTaC5tUpQEPJtmq/B5hMBr5KGX4zTFFHVnsvzXy/ZAvbQkTId+7tTb0WMYWDoVgifHtyxWnK0PPTFjYIUaskK4Em+hK/nw2R7topAfdaKANfw3zEgXBOgrpLbBdG0AkaEuzNPIf1RN3wJThV0Yctu2S9RTSXGV4kUZauepnkM+BUNGG7+lv5KvQmqwNgaMsn6kNLa+FuAPDNn8DtrRV+gdt93ZOQGW4UyOVhrwQSB9X2uvrz7PJOhqZVmvsU+E2FsD1Hm2or6biDnybf9NIv44xrC/P2OL+ECrK0MnDPNhDkCQtEBgZLB7Q/72rvbiVD+dXQcho5LYRhqg2sMkUCAXbtYFG+sG3oGt0hDsgdDTyVyO+ncgvwzN/rg8BoJHv8y7o4A5w75BG2mSKtoUTlS1cAEFgl6y3+kxw+CGIPgLLm3ttZ75nB430r3dRU6M+ZfmGVZ8wN4exxTka6VFt+E+N9D20d28EQWB7t6lwKPrORYl8NVOXnedfXKTflKUrXLhTI9+pDL09aDaP9E/Glg6EoEJ7lT/cCm3oprov5q0bZQZm+cEa0kqFfBaERCZX3He8D6IMvQQ52qxebVSut/gWrxK/WL4WgiPfPXNibysv0fnC8fVookZqjaD3zocgaVs6daxJ1ui9mRdlkXatZRO14S+8CziaD5Cvg5BxE6hJvr0r3BIGbPe0qjducZIJLbAxYLRc2eL5EDrasK3OMMXLlOEbq7a36uikTQMV95cMFg6GGHAzv6o+fBqMpwego7CjtzmCqam4P3qPC4yLp//aMN3wrr4j+pSh5zQWTnDBgAm1LV/a0r+gwwR+YkMjPVLjt57dp0BZOsWta8c1CTSBCYz8GURHR8/2dQsFIpXcWloj3awtHzPWN1sjLwusB38CMaKR7/LouG+14bwTXVk+W+fpMHccxgVUJnXWqjY9+A2IkvLGw+SWTE1gCulFiJUs8h7930vvjtThmoWY0fniseEGFzgAo4chFlw8WSPfDR2lGYP/n2drQ73+ncnBmTJ8PcR0YLz/rexzJyqVoYuyOdrdHbpLd5rkm5wMFZhOhljI5nivYd9UpKIL8rslge8eowMznwcfxk97YZPJ7CY1o0FEyQEpyvCnvp0WjSH9ALHhzhZ5d1w89gTEhrZ0RACOi8IUFi6EGFGGPvTtvBgsa2k3iJFyvo9/BwZuXeGmh46FTbTLkAvAiUmwhvQ4RI0t7DxcaqQYl31gi3Mgdly9ChGUh+m9XIghb7oi3BlfEZnXFLgdGoYkaXEbECIyDwic59nQUCRJi6spVZvDeNHZt/HOnscga3lPjfx5AE5OfJlCugwamnmJ0kgnjZYo3tCTKxvZ5sKEsYnWWDwuzdV1xUmaQ+B7oVFRhk51az9X+CSLvHcm33OQm2woQ5ekdT1iyNk1kxGXiq5+GDQqLtnbu5ONV4FvhYamk7eoebGxcK0rnDobNSStw+jf2Um9La1X2RTY7mm1qgcZsH3RMGHJSlBIpwfg9KQuhrTCnSaFZkMjLWgSgW+BpmReohTyk94FMDVOC30hWQualjTQwfc3aM8turws3y4OAhebbaiDAegKmNFc334Ni47ebV1V9AYReL5vdwZLxhYOSav0BFMolMdlaTXdgIufh0O+e6aydLEy9HQs62aF9G7z7BRVm9Zk7f7S+0EmkytD77vqQr7dFO8RXMM3lqvTBinuR00RZ64FrvpbyOerFdIH8FTPxr79FB9pYXF6LORUVGW4U+4rnFip/dagtxWRVqYhyABvkQkTm0xxFevWvPkrTKNeZek03y4Ln07atP+eAqORu/0LxxUMyfQO5As7QdPR0bO9uy1zyEzSXZ+To83c3bruFKVCvrq/+lxkxdGo190V3LwBjI7SjEE7Qw0UV1aG3nZJdL5dHAQa6fCGSfxG/tJdSCUTqeGFPlIZei9OYemntKz+4iRT/y4SW8JZno9WSM/X7WbPSU6gFPK5zb1BP5mgBdJtrnS9byH1YOty9xynlfiEKpAkLWk2A/JCdx+fnyGYl5azKOikpjrp6AV3C7Ytnr9q6VSLIAfSr+6eB3cnb3rpctMudUKgbelUt+HvrlLVhm53PU0Zfl0b/loj/ZwOqf/nF5f/dUPs7y4dVRl+LV2qIS1If97SLBdM8f1IgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiAIgiDA2PwH8hhiYO+sK58AAAAASUVORK5CYII=",QF=()=>{const[t,e]=j.useState(!0),[n,i]=j.useState(""),[r,s]=j.useState(""),[o,a]=j.useState(""),[l,u]=j.useState(!1),[h,d]=j.useState(""),p=rh(),m=()=>{e(!t),d("")},w=async E=>{if(E.preventDefault(),d(""),!n||!r||!t&&!o){d("Please fill in all fields.");return}if(r.length<8){d("Password must be at least 8 characters long.");return}if(!t&&!o.includes("@")){d("Please enter a valid email address.");return}try{let _;t?_=(await gN(Ld,o,r)).user:_=(await pN(Ld,o,r)).user,console.log(`${t?"Login":"Registration"} successful!`),localStorage.setItem("user",JSON.stringify({userId:_.uid,userName:t&&_.displayName||n,profilePhoto:_.photoURL||"",isAuth:!0})),await Y0(_.uid),p("/Little-Bankers/dashboard")}catch(_){d(_.message)}},S=async E=>{try{const y=(await VN(Ld,E)).user;console.log(`${E.providerId} login successful!`),localStorage.setItem("user",JSON.stringify({userId:y.uid,userName:y.displayName,profilePhoto:y.photoURL,isAuth:!0})),await Y0(y.uid,y.displayName,y.photoURL),p("/Little-Bankers/dashboard")}catch(_){d(_.message)}};return P.jsxs("div",{className:"login-container",children:[P.jsx("div",{className:"gradient-bar"}),P.jsx("h1",{className:"title",children:"Little Bankers"}),P.jsx("div",{className:"logo-container",children:P.jsxs("svg",{className:"logo",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[P.jsx("path",{d:"M12 5C12 3.34315 10.6569 2 9 2H3C2.44772 2 2 2.44772 2 3V9C2 10.6569 3.34315 12 5 12H9C10.6569 12 12 10.6569 12 9V5Z",fill:"#FCD34D"}),P.jsx("path",{d:"M12 15C12 13.3431 13.3431 12 15 12H21C21.5523 12 22 12.4477 22 13V19C22 20.6569 20.6569 22 19 22H15C13.3431 22 12 20.6569 12 19V15Z",fill:"#34D399"}),P.jsx("path",{d:"M5 22C3.34315 22 2 20.6569 2 19V15C2 13.3431 3.34315 12 5 12H9C10.6569 12 12 13.3431 12 15V19C12 20.6569 10.6569 22 9 22H5Z",fill:"#60A5FA"}),P.jsx("path",{d:"M15 2C13.3431 2 12 3.34315 12 5V9C12 10.6569 13.3431 12 15 12H19C20.6569 12 22 10.6569 22 9V3C22 2.44772 21.5523 2 21 2H15Z",fill:"#F472B6"})]})}),P.jsxs("form",{onSubmit:w,className:"form",children:[P.jsxs("div",{className:"input-group",children:[P.jsx("input",{type:"text",id:"username",value:n,onChange:E=>i(E.target.value),className:"input",placeholder:"Username",required:!0}),P.jsx("label",{htmlFor:"username",className:"label",children:"Username"})]}),!t&&P.jsxs("div",{className:"input-group",children:[P.jsx("input",{type:"email",id:"email",value:o,onChange:E=>a(E.target.value),className:"input",placeholder:"Email",required:!0}),P.jsx("label",{htmlFor:"email",className:"label",children:"Email"})]}),P.jsxs("div",{className:"input-group",children:[P.jsx("input",{type:l?"text":"password",id:"password",value:r,onChange:E=>s(E.target.value),className:"input",placeholder:"Password",required:!0}),P.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),P.jsx("button",{type:"button",onClick:()=>u(!l),className:"password-toggle",children:l?P.jsx(Ab,{className:"icon"}):P.jsx(kb,{className:"icon"})})]}),h&&P.jsxs("div",{className:"error",children:[P.jsx(Sb,{className:"error-icon"}),h]}),P.jsx("button",{type:"submit",className:"submit-button",children:t?"Log In":"Register"})]}),P.jsx("div",{className:"toggle-mode",children:P.jsx("button",{onClick:m,className:"toggle-button",children:t?"Don't have an account? Register":"Already have an account? Log in"})}),t&&P.jsx("div",{className:"forgot-password",children:P.jsx("a",{href:"#",className:"forgot-password-link",children:"Forgot your password?"})}),P.jsxs("div",{className:"social-login",children:[P.jsx("button",{className:"social-button google",onClick:()=>S(zF),children:P.jsx("img",{src:qF,alt:"Google",className:"social-icon"})}),P.jsx("button",{className:"social-button facebook",onClick:()=>S(WF),children:P.jsx("img",{src:KF,alt:"Facebook",className:"social-icon"})}),P.jsx("button",{className:"social-button twitter",onClick:()=>S(HF),children:P.jsx("img",{src:GF,alt:"Twitter",className:"social-icon"})})]})]})},YF=()=>{const[t,e]=j.useState(0),[n,i]=j.useState(!1),{userId:r}=E1(),s=l=>{const u=t+l;e(u),r&&$F(r,u)},o=()=>{i(!0)},a=l=>{};return P.jsx(pb,{children:P.jsxs("div",{className:"app",children:[P.jsx(mb,{totalCoins:t}),P.jsxs(hb,{children:[P.jsx($n,{path:"/Little-Bankers/",element:n?P.jsx(A_,{}):P.jsx(N2,{onLoadingComplete:o})}),P.jsx($n,{path:"/Little-Bankers/dashboard",element:P.jsx(A_,{})}),P.jsx($n,{path:"/Little-Bankers/quiz",element:P.jsx(yb,{onComplete:a,onEarnCoins:s})}),P.jsx($n,{path:"/Little-Bankers/simulation",element:P.jsx(_b,{})}),P.jsx($n,{path:"/Little-Bankers/stock-market-game",element:P.jsx(D2,{totalCoins:t})}),P.jsx($n,{path:"/Little-Bankers/currency-match-game",element:P.jsx(L2,{})}),P.jsx($n,{path:"/Little-Bankers/login-page",element:P.jsx(QF,{})}),P.jsx($n,{path:"/Little-Bankers/money-management",element:P.jsx(F2,{totalCoins:t,onEarnCoins:s})})]})]})})};c1(document.getElementById("root")).render(P.jsx(j.StrictMode,{children:P.jsx(YF,{})}))});export default XF();
